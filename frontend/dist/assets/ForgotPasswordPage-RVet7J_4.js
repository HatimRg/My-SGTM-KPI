import{j as e,c as u}from"./index-B_O7GBLG.js";import{r as t,L as n}from"./vendor-react-Bagy_njL.js";import{n as j,I as c,v as p,w as g,r as f,z as r}from"./vendor-ui-ByylQ01J.js";import"./vendor-utils-MYqKZVQ3.js";function v(){const[s,d]=t.useState(""),[l,i]=t.useState(!1),[o,m]=t.useState(!1),x=async a=>{if(a.preventDefault(),!s){r.error("Please enter your email address");return}i(!0);try{await u.forgotPassword(s),m(!0),r.success("Password reset link sent!")}catch(h){r.error(h.response?.data?.message||"Failed to send reset link")}finally{i(!1)}};return o?e.jsx("div",{className:"animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(j,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check your email"}),e.jsxs("p",{className:"text-gray-500 mb-6",children:["We've sent a password reset link to",e.jsx("br",{}),e.jsx("strong",{className:"text-gray-700",children:s})]}),e.jsxs(n,{to:"/login",className:"btn-primary inline-flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4"}),"Back to login"]})]})}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-hse-primary rounded-xl flex items-center justify-center",children:e.jsx(p,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-xl font-bold text-hse-primary",children:"HSE KPI Tracker"}),e.jsx("p",{className:"text-sm text-gray-500",children:"SGTM Safety Management"})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Forgot password?"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"No worries, we'll send you reset instructions."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(g,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",type:"email",value:s,onChange:a=>d(a.target.value),className:"input pl-10",placeholder:"you@example.com",autoComplete:"email"})]})]}),e.jsx("button",{type:"submit",disabled:l,className:"btn-primary w-full py-3 text-base",children:l?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Reset password"}),e.jsxs(n,{to:"/login",className:"flex items-center justify-center gap-2 text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(c,{className:"w-4 h-4"}),"Back to login"]})]})]})]})}export{v as default};
