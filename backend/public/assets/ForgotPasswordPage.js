import{a as u,j as e,c as f}from"./index.js";import{r,L as o}from"./vendor-react.js";import{V as j,a7 as c,a3 as p,a4 as N,a0 as b,z as l}from"./vendor-ui.js";import"./vendor-utils.js";function L(){const{t:s}=u(),[a,m]=r.useState(""),[i,n]=r.useState(!1),[d,x]=r.useState(!1),h=async t=>{if(t.preventDefault(),!a){l.error(s("auth.forgotPasswordPage.emailRequired"));return}n(!0);try{await f.forgotPassword(a),x(!0),l.success(s("auth.forgotPasswordPage.resetLinkSent"))}catch(g){l.error(g.response?.data?.message||s("errors.failedToSendResetLink"))}finally{n(!1)}};return d?e.jsx("div",{className:"animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(j,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s("auth.forgotPasswordPage.checkEmailTitle")}),e.jsxs("p",{className:"text-gray-500 mb-6",children:[s("auth.forgotPasswordPage.checkEmailDescription"),e.jsx("br",{}),e.jsx("strong",{className:"text-gray-700",children:a})]}),e.jsxs(o,{to:"/login",className:"btn-primary inline-flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4"}),s("auth.forgotPasswordPage.backToLogin")]})]})}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-hse-primary rounded-xl flex items-center justify-center",children:e.jsx(p,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-xl font-bold text-hse-primary",children:s("common.appName")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s("common.companyName")," ",s("auth.forgotPasswordPage.safetyManagement")]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s("auth.forgotPasswordPage.title")}),e.jsx("p",{className:"text-gray-500 mt-2",children:s("auth.forgotPasswordPage.subtitle")})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"label",children:s("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(N,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",type:"email",value:a,onChange:t=>m(t.target.value),className:"input pl-10",placeholder:s("auth.emailPlaceholder"),autoComplete:"email"})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full py-3 text-base",children:i?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 animate-spin"}),s("auth.forgotPasswordPage.sending")]}):s("auth.forgotPasswordPage.submit")}),e.jsxs(o,{to:"/login",className:"flex items-center justify-center gap-2 text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(c,{className:"w-4 h-4"}),s("auth.forgotPasswordPage.backToLogin")]})]})]})]})}export{L as default};
