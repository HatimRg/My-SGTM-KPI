import{c as i}from"./vendor-utils-MYqKZVQ3.js";import{p as l}from"./index-Cj_Nywl_.js";const u=i((e,s)=>({projects:[],isLoading:!1,hasLoaded:!1,error:null,fetchProjects:async a=>{const{isLoading:c,hasLoaded:d,projects:o}=s();if(d&&o.length>0||c)return o;const n=a||{per_page:100};e({isLoading:!0,error:null});try{const r=await l.getAll(n),t=r.data?.data?.data||r.data?.data||[];return e({projects:t,isLoading:!1,hasLoaded:!0}),t}catch(r){throw console.error("Failed to load projects:",r),e({error:r,isLoading:!1}),r}},setProjects:a=>e({projects:a}),reset:()=>e({projects:[],hasLoaded:!1,error:null})}));export{u};
