import{c as d}from"./vendor-utils.js";import{p as c}from"./index.js";const L=d((e,i)=>({projects:[],isLoading:!1,hasLoaded:!1,error:null,fetchProjects:async o=>{const{isLoading:l,hasLoaded:n,projects:a}=i();if(n&&a.length>0||l)return a;const t=o||{};e({isLoading:!0,error:null});try{if(Object.prototype.hasOwnProperty.call(t,"page")){const s=(await c.getAll(t)).data?.data??[];return e({projects:s,isLoading:!1,hasLoaded:!0}),s}const r=await c.getAllList(t);return e({projects:r,isLoading:!1,hasLoaded:!0}),r}catch(r){throw console.error("Failed to load projects:",r),e({error:r,isLoading:!1}),r}},setProjects:o=>e({projects:o}),reset:()=>e({projects:[],hasLoaded:!1,error:null})}));export{L as u};
