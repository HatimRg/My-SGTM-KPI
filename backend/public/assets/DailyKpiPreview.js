import{a as b,j as e}from"./index.js";import{r as u}from"./vendor-react.js";import{aM as g,aN as x,C as p}from"./vendor-ui.js";const k=[{key:"effectif",label:"Effectif",labelEn:"Workforce",unit:""},{key:"induction",label:"Induction",labelEn:"Induction",unit:""},{key:"releve_ecarts",label:"Relevé des écarts",labelEn:"Deviations",unit:""},{key:"sensibilisation",label:"Sensibilisation",labelEn:"Awareness",unit:""},{key:"presquaccident",label:"Presqu'accident",labelEn:"Near Miss",unit:""},{key:"premiers_soins",label:"Premiers soins",labelEn:"First Aid",unit:""},{key:"accidents",label:"Accident",labelEn:"Accident",unit:""},{key:"jours_arret",label:"Jours d'arrêt",labelEn:"Lost Days",unit:""},{key:"heures_travaillees",label:"Heures travaillées",labelEn:"Hours Worked",unit:"h"},{key:"inspections",label:"Inspections",labelEn:"Inspections",unit:""},{key:"heures_formation",label:"Heures formation",labelEn:"Training Hours",unit:"h"},{key:"permis_travail",label:"Permis de travail",labelEn:"Work Permits",unit:""},{key:"mesures_disciplinaires",label:"Mesures disc.",labelEn:"Disciplinary",unit:""},{key:"conformite_hse",label:"Conformité HSE",labelEn:"HSE Compliance",unit:"%"},{key:"conformite_medicale",label:"Conformité Méd.",labelEn:"Medical Compl.",unit:"%"}],h={fr:{Saturday:"Sam",Sunday:"Dim",Monday:"Lun",Tuesday:"Mar",Wednesday:"Mer",Thursday:"Jeu",Friday:"Ven"},en:{Saturday:"Sat",Sunday:"Sun",Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri"}};function N({dailySnapshots:t=[]}){const{t:s,language:l}=b(),[i,d]=u.useState(!1);if(!t||t.length===0)return null;const o=a=>{const[r,n,m]=a.split("-").map(Number);return`${String(m).padStart(2,"0")}/${String(n).padStart(2,"0")}`},c=a=>h[l]?.[a]??a?.slice(0,3)??"",y=(a,r)=>a==null||a===""?"-":a===0?"0":`${a}${r?` ${r}`:""}`;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 cursor-pointer",onClick:()=>d(!i),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-hse-primary"}),e.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-300",children:s("kpi.dailyKpi.dailyData")}),e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-hse-primary/10 text-hse-primary rounded-full",children:[t.length," ",s("kpi.dailyKpi.days")]})]}),e.jsx("div",{className:"p-1 rounded bg-gray-200 dark:bg-gray-700",children:i?e.jsx(x,{className:"w-4 h-4"}):e.jsx(p,{className:"w-4 h-4"})})]}),i&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx("th",{className:"sticky left-0 z-10 bg-gray-100 dark:bg-gray-800 text-left py-2 px-2 font-medium text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:s("kpi.dailyKpi.indicator")}),t.map((a,r)=>e.jsxs("th",{className:"text-center py-2 px-2 font-medium text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700 min-w-[60px]",children:[e.jsx("div",{children:c(a.day_name)}),e.jsx("div",{className:"text-[10px] font-normal text-gray-500",children:o(a.entry_date)})]},r))]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:k.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"sticky left-0 z-10 bg-white dark:bg-gray-800 py-1.5 px-2 font-medium text-gray-600 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700",children:l==="fr"?a.label:a.labelEn}),t.map((r,n)=>e.jsx("td",{className:"text-center py-1.5 px-2 text-gray-700 dark:text-gray-300",children:y(r[a.key],a.unit)},n))]},a.key))})]})})]})}export{N as D};
