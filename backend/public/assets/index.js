const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage.js","assets/vendor-react.js","assets/vendor-ui.js","assets/vendor-utils.js","assets/ForgotPasswordPage.js","assets/ForceChangePasswordPage.js","assets/PasswordStrength.js","assets/AdminDashboard.js","assets/vendor-charts.js","assets/weekHelper.js","assets/projectList.js","assets/UserManagement.js","assets/Modal.js","assets/ConfirmDialog.js","assets/Select.js","assets/ProjectManagement.js","assets/DatePicker.js","assets/AutocompleteInput.js","assets/ZonesManager.js","assets/KpiManagement.js","assets/DailyKpiPreview.js","assets/UserDashboard.js","assets/MyProjects.js","assets/KpiSubmission.js","assets/KpiHistory.js","assets/projectStore.js","assets/Training.js","assets/SorSubmission.js","assets/ProjectDetails.js","assets/Profile.js","assets/NotFound.js","assets/AwarenessSession.js","assets/WorkPermits.js","assets/Inspections.js","assets/Workers.js","assets/PpeManagement.js","assets/Notifications.js","assets/SubcontractorOpenings.js","assets/SubcontractorOpeningDetails.js","assets/VeilleReglementaireHistory.js","assets/VeilleReglementaireDetails.js","assets/veilleReglementaireSchema.js","assets/VeilleReglementaireForm.js","assets/ViewMachines.js","assets/GlobalSearch.js","assets/ExpiredDocumentation.js"])))=>i.map(i=>d[i]);
var Ct=Object.defineProperty;var _t=(e,r,a)=>r in e?Ct(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a;var xe=(e,r,a)=>_t(e,typeof r!="symbol"?r+"":r,a);import{r as h,a as Nt,O as et,u as It,b as pe,N as W,d as Rt,e as c,f as S,R as Ft,B as Mt}from"./vendor-react.js";import{z as O,A as z,R as Lt,H as Ot,X as Ie,S as Ht,W as qt,C as Q,a as Ue,G as zt,b as tt,M as rt,L as oe,U as q,F as K,c as je,d as we,e as ae,f as se,g as ie,h as ne,i as L,j as U,B as Pe,P as Wt,k as Ut,T as Bt,l as $t,m as Se,E as Vt,n as Gt,o as Kt,p as Yt,q as ke,r as Jt,s as Zt,t as Qt,u as Xt,v as er,w as tr,N as rr}from"./vendor-ui.js";import{a as ot,c as Oe}from"./vendor-utils.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();var at={exports:{}},me={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=h,ar=Symbol.for("react.element"),sr=Symbol.for("react.fragment"),ir=Object.prototype.hasOwnProperty,nr=or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cr={key:!0,ref:!0,__self:!0,__source:!0};function st(e,r,a){var s,i={},n=null,l=null;a!==void 0&&(n=""+a),r.key!==void 0&&(n=""+r.key),r.ref!==void 0&&(l=r.ref);for(s in r)ir.call(r,s)&&!cr.hasOwnProperty(s)&&(i[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)i[s]===void 0&&(i[s]=r[s]);return{$$typeof:ar,type:e,key:n,ref:l,props:i,_owner:nr.current}}me.Fragment=sr;me.jsx=st;me.jsxs=st;at.exports=me;var t=at.exports,Re={},Be=Nt;Re.createRoot=Be.createRoot,Re.hydrateRoot=Be.hydrateRoot;const lr={common:{appName:"HSE KPI Tracker",companyName:"SGTM",loading:"Chargement...",showMore:"Afficher plus",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",create:"Créer",add:"Ajouter",search:"Rechercher",filter:"Filtrer",export:"Exporter",actions:"Actions",status:"Statut",active:"Actif",inactive:"Inactif",yes:"Oui",no:"Non",all:"Tous",none:"Aucun",select:"Sélectionner",custom:"Personnalisé",unselect:"Désélectionner",submit:"Soumettre",confirm:"Confirmer",back:"Retour",next:"Suivant",previous:"Précédent",close:"Fermer",view:"Voir",viewDetails:"Voir les détails",download:"Télécharger",upload:"Téléverser",refresh:"Actualiser",noData:"Aucune donnée disponible",error:"Erreur",success:"Succès",warning:"Attention",info:"Information",step:"Étape",allProjects:"Tous les projets",allPoles:"Tous les pôles",reset:"Réinitialiser",apply:"Appliquer",update:"Mettre à jour",saving:"Enregistrement...",page:"Page",of:"de",unknown:"Inconnu",selected:"sélectionné(s)",project:"Projet",lightMode:"Mode Clair",darkMode:"Mode Sombre",at:"à"},heavyMachinery:{title:"Suivi des engins",comingSoon:"Bientôt disponible",viewMachines:{nav:"Voir les engins",title:"Voir les engins",searchPlaceholder:"Rechercher par série, code interne, type, marque...",addMachine:"Ajouter un engin",refresh:"Actualiser",emptyTitle:"Aucun engin",emptyHelp:"Ajoutez un engin ou importez-les via l'insertion en masse.",details:"Détails de l'engin",tabs:{documents:"Documents",operators:"Opérateurs",inspections:"Inspections",transfer:"Transfert"},machine:{serial:"Numéro de série",internal:"Code interne",type:"Type",brand:"Marque",model:"Modèle",project:"Projet",active:"Actif"},form:{createTitle:"Nouvel engin",createSerialTitle:"Nouvel engin",checkSerial:"Vérifier le numéro de série",serialExists:"Un engin avec ce numéro de série existe déjà",editTitle:"Modifier l'engin",image:"Image",chooseImage:"Choisir une image",saveFailed:"Échec de l'enregistrement",created:"Engin créé",updated:"Engin mis à jour"},delete:{confirm:"Supprimer cet engin ?",confirmProfessional:`Veuillez supprimer cet engin uniquement s'il a été ajouté par erreur. Si l'engin existe toujours mais n'est plus dans votre projet, mettez-le plutôt sur INACTIF.

Voulez-vous le supprimer maintenant ?`,success:"Engin supprimé",failed:"Échec de suppression"},documents:{add:"Ajouter un document",replace:"Remplacer le document",uploadTitle:"Téléverser: {label}",key:"Type de document",label:"Libellé",startDate:"Date de début",expiryDate:"Date d'expiration",file:"Fichier PDF",choosePdf:"Choisir un PDF",uploadFailed:"Échec du téléversement",uploaded:"Document téléversé"},inspections:{add:"Ajouter une inspection",newVersion:"Nouvelle version",uploadTitle:"Uploader une inspection",parent:"Basé sur",none:"(aucun)",startDate:"Date début",endDate:"Date fin",file:"Fichier PDF",choosePdf:"Choisir un PDF",uploaded:"Inspection uploadée",uploadFailed:"Échec de l'upload",deleteConfirm:"Supprimer cette inspection ?",deleted:"Inspection supprimée",deleteFailed:"Échec de suppression"},operators:{helpNoProject:"Assignez l'engin à un projet pour gérer les opérateurs.",searchPlaceholder:"Rechercher un ouvrier par nom ou CIN",assign:"Assigner",assigned:"Opérateur assigné",assignFailed:"Échec de l'assignation",remove:"Retirer",removed:"Opérateur retiré",removeFailed:"Échec de suppression"},transfer:{help:"Le changement de projet détachera tous les opérateurs de l'engin.",action:"Transférer",success:"Engin transféré",failed:"Échec du transfert"},bulk:{title:"Insertion en masse",help:"Téléchargez le modèle Excel, remplissez-le, puis importez-le ici.",downloadTemplate:"Télécharger le modèle",chooseFile:"Veuillez choisir un fichier Excel",import:"Importer",importing:"Importation...",downloadTemplateFailed:"Échec du téléchargement du modèle",importFailed:"Échec de l'import",importSummary:"Import terminé : {imported} créé(s), {updated} mis à jour",importIssues:"{count} ligne(s) ont des problèmes"}},globalSearch:{nav:"Recherche globale",title:"Recherche globale",searchPlaceholder:"Rechercher par numéro de série ou code interne...",help:"Saisissez un numéro de série ou un code interne exact pour consulter les documents de l'engin.",noResult:"Aucun engin trouvé pour ce code."},expiredDocumentation:{nav:"Documents expirés",title:"Documents expirés",help:"Les documents sont regroupés par projet. Utilisez les filtres pour distinguer expirés et bientôt expirés.",empty:"Aucun élément expiré / bientôt expiré trouvé.",projectSubtitle:"Documents des engins et formations des opérateurs.",stats:{expired:"Expirés",expiring:"Bientôt expirés"},filters:{project:"Projet",status:"Statut"},status:{all:"Tous",expired:"Expiré",expiring:"Bientôt expiré",unknown:"Inconnu"},sections:{machines:"Documents des engins",operators:"Formations des opérateurs",emptyMachines:"Aucun document d'engin dans cette catégorie.",emptyOperators:"Aucune formation d'opérateur dans cette catégorie."},columns:{machine:"Engin",document:"Document",expiryDate:"Date expiration",status:"Statut",worker:"Ouvrier",training:"Formation"}}},devTools:{title:"Outils Dev",shortLabel:"Dev",description:"Simuler le rôle et le périmètre de projets",simulatedRole:"Rôle simulé",none:"(aucun)",projectScope:"Périmètre des projets",assignedOnly:"Assignés uniquement"},subcontractors:{title:"Suivi des sous-traitants",subtitle:"Ouverture de chantier · Documents · Validité",opening:"Ouverture",workType:"Type des travaux",workTypePlaceholder:"Ex: Génie civil, échafaudage, électricité...",chooseProjectFirst:"Choisir un projet d'abord",addOpening:"Ajouter une ouverture",searchPlaceholder:"Rechercher une entreprise...",companiesCount:"{count} entreprise(s)",noCompanies:"Aucune entreprise",noCompaniesHelp:"Choisis un projet et ajoute une ouverture.",popoverTitle:"Validité des documents",expired:"Expirés",expiring:"Bientôt expirés",othersCount:"+{count} autres...",cardMeta:"{project} · Début: {start} · Effectif: {workers}",documentsCount:"Documents: {uploaded}/{required}",statusSummary:{green:"À jour",yellow:"Bientôt expiré",red:"Expiré / incomplet"},newOpening:"Nouvelle ouverture de chantier",company:"Entreprise",other:"Autre...",newCompany:"Nouvelle entreprise",companyPlaceholder:"Nom de l'entreprise",startDate:"Date de début",table:{document:"Document",startDate:"Date début",expiryDate:"Date expiration",file:"Fichier"},docStatus:{valid:"valide",expiring:"expire bientôt",expired:"expiré",no_expiry:"sans date",no_file:"manquant"},openingSummary:"Début: {start} · Effectif: {workers} · Documents: {uploaded}/{required}",add:"Ajouter",replace:"Remplacer",uploadTitle:"Uploader: {label}",pdfFile:"Fichier PDF",choosePdf:"Choisir un PDF",compressionHint:"Compression automatique vers < 5MB seulement si le fichier dépasse 5MB.",send:"Envoyer",viewDocument:"Voir le document",pdfOnly:"PDF uniquement",confirmDeleteOpening:`Supprimer l'ouverture de chantier pour "{name}" ?`,openingDeleted:"Ouverture supprimée",openingCreated:"Ouverture créée",uploadFailed:"Échec de téléversement",documentSaved:"Document enregistré",documentSavedWithSize:"Document enregistré ({size})",documentSavedCompressed:"Document enregistré (compressé: {original} → {compressed})"},datePicker:{days:["Di","Lu","Ma","Me","Je","Ve","Sa"],months:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Août","Sep","Oct","Nov","Déc"],monthsFull:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],today:"Aujourd'hui",select:"Sélectionner"},status:{approved:"Approuvé",pending:"En attente",submitted:"Soumis",draft:"Brouillon",partial:"Partiel",rejected:"Rejeté",missing:"Manquant",notSubmitted:"Non soumis"},auth:{login:"Connexion",logout:"Déconnexion",email:"Adresse email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oublié ?",resetPassword:"Réinitialiser le mot de passe",signIn:"Se connecter",signOut:"Se déconnecter",welcomeBack:"Bienvenue",signInToContinue:"Connectez-vous pour continuer",emailRequired:"L'email est requis",passwordRequired:"Le mot de passe est requis",invalidCredentials:"Identifiants incorrects",loginSuccess:"Connexion réussie !",redirecting:"Redirection vers votre tableau de bord...",logoutSuccess:"Déconnexion réussie",resetLinkSent:"Lien de réinitialisation envoyé à votre email",passwordChanged:"Mot de passe modifié avec succès",accountDeactivated:"Votre compte a été désactivé. Contactez l'administrateur.",demoCredentials:"Identifiants de démonstration",admin:"Administrateur",user:"Utilisateur",showPassword:"Afficher le mot de passe",hidePassword:"Masquer le mot de passe",tagline:{line1:"Surveiller. Suivre.",line2:"Améliorer la Sécurité."},description:"Système complet de suivi des KPI HSE pour gérer les indicateurs de santé, sécurité et environnement sur tous vos projets.",publicStats:{hseCompliance:"Conformité HSE",trainingHours:"Heures Formation",fatalAccidents:"Accidents Mortels {year}"},appLogoAlt:"Logo de l’application",companyLogoAlt:"Logo SGTM",emailPlaceholder:"vous@exemple.com",forgotPasswordPage:{title:"Mot de passe oublié ? ",subtitle:"Pas d’inquiétude, nous vous enverrons les instructions de réinitialisation.",emailRequired:"Veuillez saisir votre adresse email",sending:"Envoi...",submit:"Réinitialiser le mot de passe",resetLinkSent:"Lien de réinitialisation envoyé !",checkEmailTitle:"Vérifiez votre email",checkEmailDescription:"Nous avons envoyé un lien de réinitialisation à",backToLogin:"Retour à la connexion",safetyManagement:"Gestion de la sécurité"},passwordPolicy:{standard:"Minimum 8 caractères avec une majuscule, une minuscule et un chiffre.",privileged:"Minimum 12 caractères avec une majuscule, une minuscule, un chiffre et un caractère spécial.",invalid:"Le mot de passe ne respecte pas la complexité requise."},passwordStrength:{title:"Force du mot de passe",weak:"Faible",fair:"Moyen",good:"Bon",strong:"Fort"},passwordRequirements:{minLength:"Au moins {{min}} caractères",lowercase:"Une lettre minuscule",uppercase:"Une lettre majuscule",digit:"Un chiffre",special:"Un caractère spécial"},forceChangePassword:{title:"Modifier votre mot de passe",subtitle:"Pour des raisons de sécurité, vous devez changer votre mot de passe avant de continuer.",submit:"Mettre à jour le mot de passe"}},nav:{dashboard:"Tableau de bord",administration:"Administration",projects:"Projets",myProjects:"Mes Projets",users:"Utilisateurs",kpiSubmission:"Soumission KPI",kpiHistory:"Historique KPI",reports:"Rapports",settings:"Paramètres",profile:"Profil",notifications:"Notifications",help:"Aide"},dashboard:{title:"Tableau de bord",adminTitle:"Tableau de bord Administrateur",userTitle:"Tableau de bord Utilisateur",welcome:"Bienvenue",overview:"Vue d'ensemble",statistics:"Statistiques",recentActivity:"Activité récente",quickActions:"Actions rapides",totalProjects:"Total Projets",activeProjects:"Projets Actifs",totalUsers:"Total Utilisateurs",activeUsers:"Utilisateurs Actifs",pendingReports:"Rapports en attente",activeMachines:"Engins actifs",activeMachinesSubtitle:"Dans vos projets accessibles",approvedReports:"Rapports approuvés",avgTf:"TF moyen",avgTg:"TG moyen",monthlyTrends:"Tendances mensuelles",projectPerformance:"Performance des projets",recentSubmissions:"Soumissions récentes",submissionStatus:"Statut des soumissions",exportData:"Exporter les données",exportExcel:"Exporter Excel",exportPdf:"Exporter PDF",exportSuccess:"Rapport exporté avec succès",exportFailed:"Échec de l'export du rapport",loadFailed:"Échec du chargement des données du tableau de bord",totalReports:"Total Rapports",awaitingApproval:"En attente de validation",activeLabel:"actifs",inYear:"En {{year}}",weekPrefix:"Semaine",weeklyKpiTrends:"Tendances KPI hebdomadaires",detailsForWeek:"Détails pour {{week}}",viewKpiReports:"Voir les rapports KPI",tfTgRates:"Taux TF & TG",yearOverYearSummary:"Résumé annuel ({{year}} vs {{compareYear}})",reports:"Rapports",viewAllProjects:"Voir tous les projets",noProjectData:"Aucune donnée projet disponible.",compareLoadFailed:"Échec du chargement des données de comparaison",draftsToComplete:"Rapports à compléter",draftLabel:"brouillon",draftLabelPlural:"brouillons",weekLabel:"Semaine {{week}} - {{year}}",monthYearLabel:"{{month}} {{year}}",weekShortPrefix:"S",weekDetailsTitle:"Semaine {{week}} - Détails par projet",currentWeekLabel:"Semaine en cours",themes:{overview:"Vue d'ensemble",safety:"Performance Sécurité",training:"Formation & Compétences",compliance:"Conformité & Audits",deviations:"Suivi des non-conformités",environmental:"Impact Environnemental"},deviations:{filters:{title:"Filtres",project:"Projet",week:"Semaine"},total:"Total non-conformités",open:"Ouvert",closed:"Clôturé",avgCloseDays:"Temps moyen de clôture",yearContext:"Année {{year}}",inProgressAndOpen:"Ouvert + en cours",closedSubtitle:"Action corrective soumise",avgCloseSubtitle:"De l'observation à la clôture",trend:"Tendance des non-conformités",byStatus:"Par statut",byCategory:"Top catégories",status:{open:"Ouvert",inProgress:"En cours",closed:"Clôturé"}},safety:{totalAccidents:"Total Accidents",fatalAccidents:"Accidents Mortels",tfRate:"Taux TF",tgRate:"Taux TG",accidentTrends:"Tendances des Accidents",accidentsBySeverity:"Accidents par Gravité",accidentsByProject:"Accidents par Projet",yearToDate:"Depuis le début de l'année",noFatalities:"Aucun décès ✓",critical:"Critique",avgFrequencyRate:"Taux de fréquence moyen",avgSeverityRate:"Taux de gravité moyen",tfVsTg:"Taux TF vs TG",noAccidents:"Aucun accident enregistré",greatSafety:"Excellente performance sécurité!",fatal:"Mortel",serious:"Grave",minor:"Mineur"},training:{totalTrainings:"Total Formations",employeesTrained:"Employés Formés",trainingHours:"Heures de Formation",completionRate:"Taux de Complétion",trainingTrends:"Tendance des Sessions",trainingByCategory:"Formations par Catégorie",trainingByProject:"Formations par Projet",trainingByTheme:"Formations par Thème",trainingByDuration:"Formations par Durée",trainingByType:"Interne vs Externe",awarenessByTheme:"TBT/TBM par Thème",sessionsCompleted:"Sessions complétées",uniqueAttendees:"Participants uniques",totalHoursDelivered:"Heures totales dispensées",target:"Objectif",cumulativeHours:"Heures de Formation Cumulées",hseTraining:"Formation HSE",technical:"Technique",softSkills:"Compétences Douces",compliance:"Conformité",noTrainingData:"Aucune donnée de formation",internal:"Interne",external:"Externe",totalAwareness:"Sessions TBT/TBM",awarenessParticipants:"Participants Sensibilisation",awarenessHours:"Heures Sensibilisation"},compliance:{totalInspections:"Total Inspections",hseCompliance:"Conformité HSE",medicalCompliance:"Conformité Médicale",auditScore:"Score d'Audit",complianceRadar:"Radar de Conformité",auditFindings:"Constats d'Audit",findings:"Constats",complianceByProject:"Conformité par Projet",inspectionTrends:"Tendances des Inspections",completedThisYear:"Complétées cette année",avgScore:"Score moyen",healthChecks:"Contrôles médicaux",latestAudit:"Dernier audit",criticalFindings:"Critique",majorFindings:"Majeur",minorFindings:"Mineur"},rates:{frequencyRate:"Taux de Fréquence (TF)",severityRate:"Taux de Gravité (TG)"},environmental:{hseCompliance:"Conformité HSE",medicalCompliance:"Conformité Médicale",waterConsumption:"Consommation d'Eau",electricityUsage:"Consommation Électrique",complianceTrends:"Tendances de Conformité",waterVsElectricity:"Eau vs Électricité",safetyTrends:"Tendances Sécurité",complianceProgress:"Progression Conformité",yearToDate:"Année en cours",targetAchieved:"Objectif atteint",toTarget:"pour atteindre l'objectif",trainingHoursYTD:"Heures Formation (Année)",nearMissesYTD:"Presqu'accidents (Année)"},inspections:"Inspections",nearMisses:"Presqu'accidents",accidents:"Accidents"},projects:{title:"Projets",projectList:"Liste des projets",projectDetails:"Détails du projet",newProject:"Nouveau projet",editProject:"Modifier le projet",deleteProject:"Supprimer le projet",projectName:"Nom du projet",projectCode:"Code projet",description:"Description",location:"Localisation",clientName:"Nom du client",startDate:"Date de début",endDate:"Date de fin",status:"Statut",active:"Actif",completed:"Terminé",suspended:"Suspendu",assignedUsers:"Utilisateurs assignés",assignUsers:"Assigner des utilisateurs",kpiTrends:"Tendances KPI",recentReports:"Rapports récents",noProjects:"Aucun projet trouvé",projectCreated:"Projet créé avec succès",projectUpdated:"Projet mis à jour avec succès",projectDeleted:"Projet supprimé avec succès",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce projet ?",bulk:{downloadTemplateFailed:"Échec du téléchargement du modèle",chooseFile:"Veuillez choisir un fichier",importSummary:"Importés : {{imported}} / Mis à jour : {{updated}}",importIssues:"{{count}} ligne(s) ont des problèmes",importFailed:"Échec de l'import des projets"},assignedForKpi:"Projets assignés pour le rapport KPI",assignedToYou:"Projets qui vous sont assignés",backToProjects:"Retour aux projets",team:"Équipe",teamMembers:"Membres de l'équipe",manageTeam:"Gérer l'équipe",addToTeam:"Ajouter à l'équipe",removeFromTeam:"Retirer de l'équipe",noTeamMembers:"Aucun membre dans l'équipe",selectOfficers:"Sélectionner des Animateurs HSE",availableOfficers:"Animateurs HSE disponibles",noAvailableOfficers:"Aucun Animateur HSE disponible",addSelected:"Ajouter la sélection",memberAdded:"Membre ajouté avec succès",memberRemoved:"Membre retiré avec succès",membersAdded:"{{count}} membre(s) ajouté(s) avec succès",confirmRemoveMember:"Êtes-vous sûr de vouloir retirer {{name}} de l'équipe ?",addedBy:"Ajouté par",addedOn:"Ajouté le",zones:"Zones",manageZones:"Gérer les zones",addZone:"Ajouter une zone",removeZone:"Supprimer la zone",zoneName:"Nom de la zone",existingZones:"Zones existantes",noZones:"Aucune zone définie",zoneAdded:"Zone ajoutée",zoneRemoved:"Zone supprimée",zoneExists:"Cette zone existe déjà",zonesInfo:"Ces zones seront disponibles dans le menu déroulant du suivi des écarts",done:"Terminé"},training:{navLabel:"Formations",pageTitle:"Déclaration de formation",pageSubtitle:"Enregistrez les formations et calculez automatiquement les heures de formation.",project:"Projet",selectProject:"Sélectionner un projet",date:"Date",by:"Animée par",external:"Externe",externalPlaceholder:"Nom de l'entreprise externe",theme:"Thème de la formation",searchTheme:"Rechercher un thème de formation...",otherTheme:"Préciser le nom de la formation",duration:"Durée",selectDuration:"Sélectionner une durée",durations:{"30min":"30 Min","1h":"1 Heure","1h30":"1 Heure 30 Min","2h":"2 Heures","3h":"3 Heures",halfDay:"Demi-journée","1day":"1 Jour","2days":"2 Jours","3days":"3 Jours"},participants:"Nombre de participants",trainingHours:"Heures de formation",hoursUnit:"heures",submit:"Valider la formation",created:"Formation enregistrée avec succès",photo:"Photo",uploadPhoto:"Cliquer pour ajouter une photo",changePhoto:"Changer la photo",addTraining:"Ajouter une formation",clickToExpand:"Cliquer pour ouvrir le formulaire",listTitle:"Formations enregistrées",allProjects:"Tous les projets",allWeeks:"Toutes les semaines",weekLabel:"Semaine {{week}}",noTrainings:"Aucune formation trouvée pour ces filtres",colDate:"Date",colProject:"Projet",colBy:"Par",colTheme:"Thème",colDuration:"Durée",colParticipants:"Participants",colHours:"Heures",colPhoto:"Photo",viewPhoto:"Voir la photo",downloadPhoto:"Télécharger la photo",themes:["Formation Montage/Démontage Echafaudage","Formation utilisation Echafaudage","formation coffrage/décoffrage","Vérification Echafaudage","Formation Elingage et Manutention","Formation SST","Formation EPI","Outils électroportatifs","Formation Conduite Défensive","Formation travail en hauteur","Formation Conduite Grue Mobile","formation Conduite Tractopelle","formation Conduite Tracteure","conduite en sécurité des nacelles","formation Soudeur","Formation et habiltation Electriques","Sensibilisation HSE personnel","Formation engins de chantier","Formation conduite en sécurité VL","Formation flag-man","formation excavation","Espace confiné","Risque d’incendie","Ergonomie","Environnement (Housekeeping, Déchets, produits chimiques)","Coactivité","Other"]},awareness:{navLabel:"TBM/TBT",pageTitle:"Sensibilisations (TBM/TBT)",pageSubtitle:"Soumettre et suivre les réunions de sécurité",addSession:"Ajouter une sensibilisation",clickToExpand:"Cliquer pour ouvrir le formulaire",project:"Projet",selectProject:"Sélectionner un projet",date:"Date",by:"Animée par",theme:"Thème",searchTheme:"Rechercher un thème...",other:"Autre",otherTheme:"Préciser le sujet de la session",duration:"Durée",minutes:"minutes",participants:"Nombre de participants",sessionHours:"Heures de sensibilisation",hoursUnit:"heures",submit:"Valider la session",created:"Session enregistrée avec succès",listTitle:"Sessions enregistrées",allProjects:"Tous les projets",allWeeks:"Toutes les semaines",weekLabel:"Semaine {{week}}",noSessions:"Aucune session trouvée pour ces filtres",colDate:"Date",colProject:"Projet",colBy:"Par",colTheme:"Thème",colDuration:"Durée",colParticipants:"Participants",colHours:"Heures",themes:["Travaux en hauteur sécurisés avec nacelles et échafaudages conformes","Sécurisation des zones de levage et élingage","Circulation des engins et co-activité","Communication entre opérateurs (signalisation, gestes, radios)","Port correct des EPI obligatoires","Risques électriques et consignation","Manutention manuelle sécurisée","Chutes d'objets et sécurisation des outils en hauteur","Sécurité des fouilles et tranchées","Risques liés à la pression et aux équipements sous pression","Incendie et manipulation des extincteurs","Produits chimiques et FDS","Travaux à chaud — permis feu et périmètre","Blocage et consignation mécanique / hydraulique","Sécurité autour des grues mobiles","Travaux en espaces confinés — atmosphère, ventilation, urgence","Gestion des déchets et propreté de zone","Risque bruit et protection auditive","Éclairage de chantier insuffisant","Travail de nuit — vigilance et organisation","Ergonomie et postures de travail","Gestion des énergies dangereuses (LOTO complet)","Sécurité lors de l'utilisation des machines fixes et portatives","Prévention des glissades et trébuchements","Météo extrême (vent, pluie, chaleur) et adaptation du travail","Sécurité autour des armoires électriques ouvertes","Prévention des coupures / projections (scies, meuleuses, perceuses)","Risque de chocs avec charges suspendues","Sécurisation des accès et balisage de zones dangereuses","Risque lié à la fatigue et manque de concentration","Prévention des presqu'accidents et retours d'expérience","Plan d'évacuation et premiers secours","Rangement et stockage des matériaux en zone de travail"]},workPermits:{title:"Permis de Travail",pageTitle:"Gestion des Permis de Travail",pageSubtitle:"Gérer les permis de travail de vos projets",newPermit:"Nouveau Permis",editPermit:"Modifier le Permis",deletePermit:"Supprimer le Permis",permitNumber:"Numéro de Permis",project:"Projet",selectProject:"Sélectionner un projet",week:"Semaine",selectWeek:"Sélectionner la semaine",year:"Année",prolongation:"Prolongation (Dimanche)",prolongationHint:"Cocher pour les permis du dimanche",serialNumber:"Numéro de Série",permitTypes:"Types de Permis",types:{cold:"Permis à Froid",workAtHeight:"Permis de Travail en Hauteur",hotWork:"Permis de Travail à Chaud",confinedSpaces:"Permis Espace Confiné",electricalIsolation:"Permis d'Isolation Électrique",energizedWork:"Permis de Travail Sous Tension",excavation:"Permis d'Excavation",mechanicalIsolation:"Permis d'Isolation Mécanique",grinder7inch:"Permis Meuleuse 7 Pouces"},description:"Description du Permis",descriptionPlaceholder:"Décrire les travaux à effectuer...",area:"Zone",areaPlaceholder:"Localisation de la zone de travail",permitUser:"Utilisateur du Permis",permitUserPlaceholder:"Nom de la personne utilisant le permis",signedBy:"Emetteur du permis",signedByPlaceholder:"Nom de l'émetteur",authorizer:"Autorisateur",authorizerPlaceholder:"Nom de l'autorisateur",commenceDate:"Date de Début",exportExcel:"Exporter Excel",exported:"Permis exportés avec succès",exportError:"Erreur lors de l'exportation",endDate:"Date de Fin",enterprise:"Entreprise",enterprisePlaceholder:"Nom de l'entreprise",status:{draft:"Brouillon",active:"Actif",closed:"Clôturé",cancelled:"Annulé"},copyFromPrevious:"Copier de la Semaine Précédente",copySelected:"Copier la Sélection",reinitializeNumbers:"Réinitialiser les Numéros",launchWeek:"Lancer la Semaine",launchConfirm:"Êtes-vous sûr de vouloir lancer tous les permis de cette semaine ? Cela réinitialisera les numéros de permis et activera tous les brouillons.",created:"Permis de travail créé avec succès",updated:"Permis de travail mis à jour avec succès",deleted:"Permis de travail supprimé avec succès",copied:"{{count}} permis copié(s) avec succès",numbersReinitialized:"Numéros de permis réinitialisés",weekLaunched:"Semaine lancée : {{count}} permis activé(s)",loadProjectsFailed:"Échec du chargement des projets",loadPermitsFailed:"Échec du chargement des permis",deleteFailed:"Échec de la suppression du permis",copyFailed:"Échec de la copie des permis",launchFailed:"Échec du lancement de la semaine",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce permis ?",noPermits:"Aucun permis trouvé pour cette semaine",previousWeekPermits:"Permis de la Semaine Précédente",currentWeekPermits:"Permis de la Semaine Actuelle",selectToCopy:"Sélectionner les permis à copier vers la semaine actuelle",weekInfo:"Semaine {{week}} ({{start}} - {{end}})",mondayToSaturday:"Lundi à Samedi"},inspections:{title:"Inspections",pageTitle:"Gestion des Inspections",pageSubtitle:"Gérer les inspections SST et environnement",project:"Projet",selectProject:"Sélectionner un projet",selectProjectFirst:"Veuillez sélectionner un projet pour voir les inspections",newInspection:"Nouvelle Inspection",editInspection:"Modifier l'Inspection",listTitle:"Liste des Inspections",noInspections:"Aucune inspection trouvée",searchPlaceholder:"Rechercher par inspecteur, lieu, zone...",date:"Date",nature:"Nature d'Inspection",natureOther:"Préciser",natureOtherPlaceholder:"Préciser la nature de l'inspection",type:"Type d'Inspection",location:"Lieu",locationPlaceholder:"Lieu de l'inspection",zone:"Zone",zonePlaceholder:"Zone d'inspection",startDate:"Date de Début",endDate:"Date d'Achèvement",inspector:"Inspecteur",enterprise:"Entreprise",enterprisePlaceholder:"Nom de l'entreprise",status:"Statut",statusOpen:"Ouvert",statusClosed:"Fermé",notes:"Notes",notesPlaceholder:"Notes additionnelles...",natures:{sst:"Inspection SST",environment:"Inspection Environnement",thirdParty:"Inspection par une Tierce Partie",equipment:"Inspections du Matériel, Équipements et Outillages",other:"Autres"},types:{internal:"Interne",external:"Externe"},create:"Créer l'Inspection",created:"Inspection créée avec succès",updated:"Inspection mise à jour avec succès",deleted:"Inspection supprimée avec succès",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette inspection ?"},workers:{title:"Gestion du Personnel",subtitle:"Gérer les travailleurs et leurs informations",addWorker:"Ajouter un Travailleur",newWorker:"Nouveau Travailleur",editWorker:"Modifier le Travailleur",noWorkers:"Aucun travailleur trouvé",nom:"Nom",prenom:"Prénom",fonction:"Fonction",cin:"CIN",dateNaissance:"Date de Naissance",entreprise:"Entreprise",projet:"Projet",dateEntree:"Date d'Entrée",status:"Statut",active:"Actif",inactive:"Inactif",import:"Importer",export:"Exporter",downloadTemplate:"Télécharger le Modèle",bulkDeactivate:"Désactiver la Sélection",bulkActivate:"Activer la Sélection",deactivate:"Désactiver",activate:"Activer",created:"Travailleur créé avec succès",merged:"Travailleur mis à jour (CIN existant)",updated:"Travailleur mis à jour avec succès",deactivated:"Travailleur désactivé avec succès",activated:"Travailleur activé avec succès",bulkDeactivated:"{{count}} travailleur(s) désactivé(s)",bulkActivated:"{{count}} travailleur(s) activé(s)",importSuccess:"Import réussi: {{imported}} importé(s), {{merged}} fusionné(s)",confirmDeactivate:"Êtes-vous sûr de vouloir désactiver {{name}} ?",confirmBulkDeactivate:"Êtes-vous sûr de vouloir désactiver {{count}} travailleur(s) ?",allProjects:"Tous les Projets",allEntreprises:"Toutes les Entreprises",allFonctions:"Toutes les Fonctions",allStatus:"Tous les Statuts",filters:{pole:"Pôle",project:"Projet",entreprise:"Entreprise",fonction:"Fonction",training:"Formation",qualification:"Qualification",medical:"Aptitude médicale",medicalStatus:"Statut médical",presence:"Présence",with:"Avec",without:"Sans",expired:"Expiré",expiredAny:"Tous",expiredOnly:"Seulement expirés",expiredWithout:"Sans expirés"},totalWorkers:"Total Travailleurs",activeWorkers:"Actifs",inactiveWorkers:"Inactifs",hseTeam:"Équipe HSE",stats:{inductionHse:"Induction HSE",workAtHeight:"Travail en hauteur",physicalAptitude:"Aptitude physique",bypassingSafetyControls:"Contournement des dispositifs de sécurité",medicalAptitude:"Aptitude médicale"},statusHelp:"Désactivé = non visible dans le projet",importTitle:"Importer des Travailleurs",importHelp:"Téléchargez le modèle, remplissez-le et importez-le.",selectFile:"Sélectionner un fichier",cinInfo:"Le CIN est l'identifiant unique. Les doublons seront fusionnés.",selectDate:"Sélectionner une date",minAge:"Le travailleur doit avoir au moins 18 ans",fonctionPlaceholder:"Chef de chantier, Ouvrier...",entreprisePlaceholder:"SGTM, Sous-traitant...",details:{title:"Détails du travailleur",noImage:"Aucune image",image:{add:"Ajouter une image"},sections:{trainings:"Formations",qualifications:"Qualifications",medical:"Aptitude médicale"},tabs:{trainings:"Formations",qualifications:"Qualifications",medical:"Aptitude médicale"},common:{startDate:"Date de début",endDate:"Date de fin",endDateAutoHelp:"La date de fin est définie par défaut à 1 an après la date de début (modifiable).",file:"Fichier (PDF)",choosePdf:"Choisir un PDF",pdfOnly:"Veuillez choisir un fichier PDF"},trainings:{addTitle:"Ajouter une formation",type:"Type de formation",otherLabel:"Préciser",empty:"Aucune formation enregistrée pour ce travailleur.",types:{bypassing_safety_controls:"Contournement des dispositifs de sécurité",formation_coactivite:"Formation Coactivité",formation_coffrage_decoffrage:"Formation coffrage et décoffrage",formation_conduite_defensive:"Formation Conduite défensive",formation_analyse_des_risques:"Formation d’analyse des risques",formation_elingage_manutention:"Formation d’élingage et manutention",formation_ergonomie:"Formation d’ergonomie",formation_excavations:"Formation d’excavations",formation_outils_electroportatifs:"Formation des outils électroportatifs",formation_epi:"Formation EPI",formation_environnement:"Formation environnement",formation_espaces_confines:"Formation espaces confinés",formation_flagman:"Formation flagman",formation_jha:"Formation JHA",formation_line_of_fire:"Formation line of fire",formation_manutention_manuelle:"Formation manutention manuelle",formation_manutention_mecanique:"Formation manutention mécanique",formation_point_chaud:"Formation point chaud",formation_produits_chimiques:"Formation produits chimiques",formation_risques_electriques:"Formation risques électriques",induction_hse:"Induction HSE",travail_en_hauteur:"Travail en hauteur",other:"Autre (préciser)"}},qualifications:{addTitle:"Ajouter une qualification",empty:"Aucune qualification enregistrée pour ce travailleur.",type:"Qualification",level:"Niveau",levelPlaceholder:"ex. B0 / H0V / B1V...",otherLabel:"Préciser",types:{elingueur:"Élingueur",equipier_premiere_intervention:"Équipier première intervention",habilitation_electrique:"Habilitation électrique",inspecteur_echafaudage:"Inspecteur échafaudage",monteur_echafaudage:"Monteur échafaudage",monteur_grue_a_tour:"Monteur grue à tour",operateur_bulldozer:"Opérateur bulldozer",operateur_chargeuse:"Opérateur chargeuse",operateur_chariot_elevateur:"Opérateur chariot élévateur",operateur_compacteur:"Opérateur compacteur",operateur_dumper:"Opérateur dumper",operateur_grue_a_tour:"Opérateur grue à tour",operateur_grue_mobile:"Opérateur grue mobile",operateur_niveleuse:"Opérateur niveleuse",operateur_nacelle:"Opérateur nacelle",operateur_pelle:"Opérateur pelle",sst:"SST",soudeur:"Soudeur",utilisation_meule:"Utilisation meule",other:"Autre (préciser)"}},medical:{addTitle:"Ajouter une aptitude médicale",empty:"Aucune aptitude médicale enregistrée pour ce travailleur.",status:"Statut",apte:"Apte",inapte:"Inapte",examNature:"Nature de l'examen",ableTo:"Apte à",examNatures:{embauche_reintegration:"Embauche / réintégration",visite_systematique:"Visite systématique",surveillance_medical_special:"Surveillance médicale spéciale",visite_de_reprise:"Visite de reprise",visite_spontanee:"Visite spontanée"},ableToOptions:{travaux_en_hauteur:"Travaux en hauteur",travaux_electrique:"Travaux électriques",travaux_en_espace_confine:"Travaux en espace confiné",operateur:"Opérateur",travaux_point_chaud:"Travaux point chaud"}}}},qualifiedPersonnel:{navLabel:"Personnel qualifié",pageTitle:"Formations du personnel",pageSubtitle:"Gérer les formations et certificats par travailleur.",filters:{searchPlaceholder:"Rechercher par nom ou CIN...",trainingPlaceholder:"Toutes les formations",resultsCount:"{count} résultat(s)"},workerCardTitle:"Personnel",addTrainingTitle:"Ajouter une formation",trainingType:"Type de formation",trainingLabel:"Intitulé de la formation",trainingDate:"Date de formation",expiryDate:"Date d'expiration",certificate:"Certificat (PDF)",chooseFile:"Choisir un fichier",saveTraining:"Enregistrer la formation",trainingCreated:"Formation du travailleur enregistrée",invalidExpiry:"La date d'expiration ne peut pas être antérieure à la date de formation",trainingListTitle:"Formations du travailleur",colType:"Type",colStartDate:"Date de début",colEndDate:"Date d'expiration",colCertificate:"Certificat",noTrainings:"Aucune formation pour ce travailleur.",noWorkerSelected:"Sélectionnez un travailleur pour voir ses formations.",noWorkerSelectedHelp:"Choisissez un projet et recherchez par nom ou CIN, puis sélectionnez un travailleur pour consulter et ajouter ses formations.",statusValid:"Valide",statusExpiring:"Expire bientôt",statusExpired:"Expirée",statusNoExpiry:"Sans date",viewExpiringButton:"Voir les formations expirant bientôt / expirées",viewAllButton:"Voir toutes les formations",expiringListTitle:"Formations expirant bientôt / expirées",noExpiring:"Aucune formation expirante ou expirée trouvée pour vos projets.",viewCertificate:"Voir le certificat",downloadCertificate:"Télécharger",types:{inductionHse:"Induction HSE",aptitudePhysique:"Aptitude physique",travailHauteur:"Travail en hauteur",elinguage:"Élinguage",outillageElectrique:"Outillage électrique",inspecteurEchafaudage:"Inspecteur échafaudage",monteurEchafaudage:"Monteur échafaudage",incendie:"Incendie",secourisme:"Secourisme",reconnaissanceHse:"Reconnaissance HSE",other:"Autre (préciser)"}},users:{title:"Gestion des Utilisateurs",subtitle:"Gérer les utilisateurs du système et leurs permissions",userList:"Liste des utilisateurs",userDetails:"Détails de l'utilisateur",addUser:"Ajouter un utilisateur",newUser:"Nouvel utilisateur",editUser:"Modifier l'utilisateur",createUser:"Créer un nouvel utilisateur",updateUser:"Mettre à jour",createUserBtn:"Créer l'utilisateur",deleteUser:"Supprimer l'utilisateur",searchPlaceholder:"Rechercher des utilisateurs...",allRoles:"Tous les rôles",roles:{admin:"Administrateur",hse_manager:"Manager HSE",responsable:"Responsable HSE",user:"Animateur HSE",supervisor:"Superviseur HSE",hr:"Responsable administratif",dev:"Développeur",pole_director:"Directeur Pôle",works_director:"Directeur Travaux",hse_director:"Directeur HSE",hr_director:"Directeur Capital Humain"},table:{user:"Utilisateur",role:"Rôle",projects:"Projets",status:"Statut",actions:"Actions"},status:{active:"Actif",inactive:"Inactif"},form:{fullName:"Nom complet",email:"Adresse email",cin:"CIN",cinPlaceholder:"Numéro de carte d'identité nationale",password:"Mot de passe",passwordHint:"laisser vide pour conserver l'actuel",role:"Rôle",pole:"Pôle",selectPole:"Sélectionner un pôle",phone:"Téléphone",assignProjects:"Assigner aux projets"},activate:"Activer",deactivate:"Désactiver",loadError:"Échec du chargement des utilisateurs",saveError:"Échec de l'enregistrement de l'utilisateur",createSuccess:"Utilisateur créé avec succès",updateSuccess:"Utilisateur mis à jour avec succès",deleteSuccess:"Utilisateur supprimé avec succès",deleteError:"Échec de la suppression de l'utilisateur",deleteConfirm:"Êtes-vous sûr de vouloir supprimer {{name}} ?",activateSuccess:"Utilisateur activé avec succès",deactivateSuccess:"Utilisateur désactivé avec succès",statusError:"Échec de la mise à jour du statut",noUsers:"Aucun utilisateur trouvé",assignedProjects:"Projets assignés",toggleStatus:"Changer le statut",bulk:{downloadTemplateFailed:"Échec du téléchargement du modèle",chooseFile:"Veuillez choisir un fichier",importSummary:"Importés : {{imported}} / Mis à jour : {{updated}}",importIssues:"{{count}} ligne(s) ont des problèmes",importFailed:"Échec de l'import des utilisateurs"}},members:{title:"Gestion des Membres",subtitle:"Gérer les membres de l'équipe du projet",addMember:"Ajouter un Membre",newMember:"Nouveau Membre",editMember:"Modifier le Membre",noMembers:"Aucun membre trouvé",createSuccess:"Membre créé avec succès",createMerged:"Utilisateur existant trouvé avec ce CIN et ajouté au projet",updateSuccess:"Membre mis à jour avec succès",removeSuccess:"Membre retiré du projet avec succès",removeConfirm:"Êtes-vous sûr de vouloir retirer {{name}} de ce projet ?",removeWarning:"L'utilisateur sera désactivé s'il n'a plus d'affiliation à aucun projet.",cinExists:"Un utilisateur avec ce CIN existe déjà",emailExists:"Un utilisateur avec cet email existe déjà",selectRole:"Sélectionner un rôle",cannotRemoveSelf:"Vous ne pouvez pas vous retirer du projet",cinInfo:"Si un utilisateur avec ce CIN existe déjà, il sera automatiquement ajouté à ce projet."},kpi:{title:"Rapports KPI",submission:"Soumission KPI",submitKpi:"Soumettre KPI",history:"Historique KPI",newReport:"Nouveau rapport",editReport:"Modifier le rapport",viewReport:"Voir le rapport",deleteReport:"Supprimer le rapport",selectProject:"Sélectionner un projet",selectMonth:"Sélectionner le mois",selectYear:"Sélectionner l'année",reportDate:"Date du rapport",reportMonth:"Mois du rapport",reportYear:"Année du rapport",status:{draft:"Brouillon",submitted:"Soumis",approved:"Approuvé",rejected:"Rejeté"},saveDraft:"Enregistrer le brouillon",submitReport:"Soumettre le rapport",approve:"Approuver",reject:"Rejeter",rejectionReason:"Motif du rejet",accidents:{title:"Accidents",total:"Total accidents",fatal:"Accidents mortels",serious:"Accidents graves",minor:"Accidents mineurs",nearMisses:"Presqu'accidents",firstAidCases:"Cas de premiers soins"},training:{title:"Formations",conducted:"Formations réalisées",planned:"Formations planifiées",employeesTrained:"Employés formés",trainingHours:"Heures de formation",toolboxTalks:"Causeries sécurité"},inspections:{title:"Inspections",completed:"Inspections réalisées",planned:"Inspections planifiées",findingsOpen:"Constats ouverts",findingsClosed:"Constats fermés",correctiveActions:"Actions correctives"},rates:{title:"Taux et heures",hoursWorked:"Heures travaillées",lostWorkdays:"Jours de travail perdus",frequencyRate:"Taux de fréquence (TF)",severityRate:"Taux de gravité (TG)"},additional:{title:"Métriques additionnelles",unsafeActs:"Actes dangereux signalés",unsafeConditions:"Conditions dangereuses signalées",emergencyDrills:"Exercices d'urgence",ppeCompliance:"Conformité EPI (%)"},notes:"Notes et commentaires",noReports:"Aucun rapport trouvé",reportSaved:"Rapport enregistré avec succès",reportSubmitted:"Rapport soumis avec succès",reportResubmitted:"Rapport resoumis avec succès",reportApproved:"Rapport approuvé avec succès",reportRejected:"Rapport rejeté",reportDeleted:"Rapport supprimé avec succès",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce rapport ?",management:{title:"Gestion des Rapports KPI",subtitle:"Approuver ou rejeter les rapports soumis",searchPlaceholder:"Rechercher...",allStatuses:"Tous les statuts",statusSubmitted:"En attente",submittedBy:"Soumis par",period:"Période",date:"Date",viewDetails:"Voir détails",rejectTitle:"Rejeter le rapport",rejectReasonRequired:"Veuillez entrer un motif de rejet",rejectWarningBefore:"⚠️ Le rapport sera remis en",rejectWarningAfter:"pour permettre au soumetteur de corriger et resoumettre.",rejectReasonPlaceholder:"Entrez le motif du rejet...",detailsTitle:"Détails du rapport",loadDetailsFailed:"Échec du chargement des détails du rapport",previouslyRejected:"⚠️ Précédemment rejeté",rejectedOn:"Rejeté le {date}",sections:{effectifInduction:"1-2. Effectif & Induction",observationsAwareness:"3-4. Observations & Sensibilisation",accidentsIncidents:"5-8. Accidents & Incidents",inspectionsIndicators:"9-11. Inspections & Indicateurs",trainingPermitsDiscipline:"12-14. Formation, Permis & Discipline",complianceMonitoring:"15-17. Conformité & Suivi",energyConsumption:"18-19. Consommation d'énergie"}},steps:{projectInfo:"Informations Projet",weeklyReporting:"Reporting HSE",incidentTracking:"Suivi Incidents"},projectInfo:{title:"Informations du Projet",selectProject:"Sélectionner un projet",reportPeriod:"Période du rapport",weekNumber:"Numéro de semaine",startDate:"Date de début",endDate:"Date de fin",currentWeek:"Semaine en cours"},autoPopulate:"Remplir automatiquement",autoPopulateTitle:"Remplissage automatique",autoPopulateDesc:"Remplir automatiquement le formulaire avec les données des écarts, formations, inspections, etc.",autoPopulated:"Données remplies",noDataToPopulate:"Aucune donnée trouvée pour cette période",selectProjectAndWeek:"Veuillez d'abord sélectionner un projet et une semaine",weekly:{title:"Reporting HSE Hebdomadaire",subtitle:"REPORTING HSE",effectif:"Effectif",induction:"Induction",ecarts:"Relevé des écarts",sensibilisation:"Nombre de Sensibilisation",presquAccident:"Presqu'accident",premiersSoins:"Premiers soins",accident:"Accident",joursArret:"Nombre de jours d'arrêt",inspections:"Nombre d'Inspections",tauxGravite:"Taux de Gravité (TG)",tauxFrequence:"Taux de Fréquence (TF)",heuresFormation:"Heures de formation",permisTravail:"Permis de travail",mesuresDisciplinaires:"Mesures disciplinaires",conformiteHSE:"Taux de conformité réglementaire HSE",conformiteMedecine:"Conformité médecine de travail",suiviBruit:"Suivi du bruit",consoEau:"Consommation d'énergie : Eau",consoElectricite:"Consommation d'énergie : Électricité",consommation:"Consommation des ressources",consommationEau:"Consommation d'eau",consommationElectricite:"Consommation d'électricité"},incidents:{title:"Suivi des Incidents & Accidents",subtitle:"SUIVI DES INCIDENTS & ACCIDENTS",fatality:"Mortel",lostTimeAccident:"Accident avec arrêt",nonLostTimeAccident:"Accident sans arrêt",firstAidCase:"Premiers soins",nearMiss:"Presqu'accident",propertyDamage:"Dégâts Matériel",environmentalImpact:"Impact environnemental",lostWorkDays:"Jours d'arrêt",summary:"Résumé",ltaShort:"LTA"},dailyKpi:{title:"Saisie Journalière HSE",subtitle:"Données quotidiennes → Calcul automatique des KPI",download:"Télécharger",import:"Importer",entry:"Saisie",downloadTemplate:"Template Excel SGTM",downloadDesc:"Téléchargez le template, remplissez les données quotidiennes, puis importez-le",importFile:"Importer le fichier rempli",importDesc:"Les données rempliront automatiquement le tableau",selectFile:"Sélectionner",indicator:"Indicateur",total:"Total",autoFill:"Auto-remplir",confirm:"Confirmer",confirmApply:"Confirmer et appliquer",hasData:"Données",templateDownloaded:"Template téléchargé - Importez après remplissage",dataImported:"Données importées - vérifiez puis confirmez",dataSaved:"Données sauvegardées et appliquées au KPI",systemDataApplied:"Données système appliquées",noDataToSave:"Aucune donnée à sauvegarder",downloadFailed:"Échec du téléchargement",parseFailed:"Échec de la lecture du fichier",saveFailed:"Échec de la sauvegarde",formulaInfo:"Écarts, TBM, Formation, Permis: récupérés du système",workHoursFormula:"Heures travaillées = Effectif × 10",dailyData:"Données Journalières",days:"jours",loadingDaily:"Chargement des données journalières..."},historyPage:{subtitle:"Consultez et gérez vos rapports KPI soumis",loadFailed:"Échec du chargement des rapports",onlyDraftDeletable:"Seuls les rapports en brouillon peuvent être supprimés",deleteSuccess:"Rapport supprimé avec succès",exportFailed:"Échec de l’export des rapports"},submissionPage:{cannotEditReport:"Ce rapport ne peut plus être modifié",loadReportFailed:"Erreur lors du chargement du rapport",selectWeekRequired:"Veuillez sélectionner une semaine"}},profile:{title:"Profil",subtitle:"Gérez les paramètres de votre compte et vos préférences",personalInfo:"Informations personnelles",updateProfile:"Mettre à jour le profil",changePassword:"Changer le mot de passe",profileUpdated:"Profil mis à jour avec succès",passwordMismatch:"Les mots de passe ne correspondent pas",passwordMinLength:"Le mot de passe doit contenir au moins 8 caractères",passwordMinLengthHint:"Le mot de passe doit contenir au moins 8 caractères",currentPasswordWrong:"Le mot de passe actuel est incorrect",emailReadOnly:"L'email ne peut pas être modifié",preferencesTitle:"Préférences",language:"Langue",projectListPreference:"Préférence de liste de projets",projectListByCode:"Par code",projectListByName:"Par nom",theme:"Thème",savePreferences:"Enregistrer les préférences",preferencesUpdated:"Préférences mises à jour avec succès"},notifications:{title:"Notifications",markAllRead:"Tout marquer comme lu",viewAll:"Voir toutes les notifications",deleteRead:"Supprimer les lus",noNotifications:"Aucune notification",newReport:"Nouveau rapport soumis",reportApproved:"Votre rapport a été approuvé",reportRejected:"Votre rapport a été rejeté",projectAssigned:"Vous avez été assigné à un projet",kpiSubmitted:"Nouveau rapport KPI soumis",kpiApproved:"Rapport KPI approuvé",kpiRejected:"Rapport KPI rejeté",sorSubmitted:"Nouvelle non-conformité signalée",sorCorrected:"Action corrective soumise",trainingSubmitted:"Nouvelle formation enregistrée",awarenessSubmitted:"Nouvelle sensibilisation enregistrée",reminder:"Rappel",system:"Annonce système"},errors:{somethingWentWrong:"Une erreur s'est produite",pageNotFound:"Page non trouvée",unauthorized:"Non autorisé",accessDenied:"Accès refusé",sessionExpired:"Session expirée",invalidCredentials:"Identifiants invalides",requiredField:"Ce champ est obligatoire",invalidEmail:"Adresse e-mail invalide",passwordTooShort:"Le mot de passe est trop court",passwordsDoNotMatch:"Les mots de passe ne correspondent pas",uploadFailed:"Échec du téléversement",downloadFailed:"Échec du téléchargement",failedToCreate:"Échec de la création",failedToUpdate:"Échec de la mise à jour",failedToDelete:"Échec de la suppression"},ppe:{nav:"EPI",title:"Gestion des EPI",subtitle:"Gérer le stock des EPI et distribuer des EPI aux travailleurs",note:"La distribution des EPI diminue le stock. Si vous choisissez « Autre », l'article sera ajouté automatiquement à la liste.",project:"Projet",projectRequired:"Veuillez sélectionner un projet",items:{name:"Article",stock:"Stock",threshold:"Seuil de stock faible",add:"Ajouter un EPI",edit:"Modifier un EPI",confirmDelete:"Êtes-vous sûr de vouloir supprimer « {{name}} » ?"},restock:{button:"Réapprovisionner",title:"Réapprovisionner le stock EPI",item:"EPI",chooseItem:"Veuillez choisir un EPI (ou préciser Autre)",quantity:"Quantité à ajouter",threshold:"Seuil de stock faible",thresholdPlaceholder:"Optionnel",submit:"Réapprovisionner"},issue:{button:"Distribuer des EPI",title:"Distribuer des EPI au travailleur",worker:"Travailleur",workerSearchPlaceholder:"Rechercher un travailleur par nom, CIN...",chooseWorker:"Veuillez sélectionner un travailleur",item:"EPI",other:"Autre",otherSpecify:"Préciser",otherPlaceholder:"Saisir le nom de l'EPI",quantity:"Quantité",receivedAt:"Date de réception",chooseItem:"Veuillez choisir un EPI (ou préciser Autre)",submit:"Distribuer",success:"EPI distribué avec succès"},workerTab:{title:"EPI",empty:"Aucun EPI distribué",issueButton:"Distribuer des EPI",lastIssue:"Dernière distribution",lastIssuedTitle:"Dernière distribution par article",columns:{item:"Article",quantity:"Qté",receivedAt:"Date"}}},regulatoryWatch:{nav:"Veille réglementaire",title:"Veille réglementaire",subtitle:"Checklist de conformité réglementaire par projet",historySubtitle:"Historique des soumissions et scores",selectProject:"Sélectionner un projet",projectRequired:"Veuillez sélectionner un projet",week:"Semaine",year:"Année",selectWeek:"Sélectionner la semaine",selectYear:"Sélectionner une année",lastSubmission:"Dernière soumission",sectionScore:"Score de section",overallScore:"Score global",avgScore:"Score moyen",historyTitle:"Soumissions",noSubmissions:"Aucune soumission",submittedAt:"Soumis le",viewDetails:"Voir détails",detailsTitle:"Détails de la soumission",sectionScores:"Scores par section",newSubmission:"Nouvelle soumission",newTitle:"Nouvelle soumission",resubmit:"Resoumettre",resubmitTitle:"Resoumettre (pré-rempli)",applicable:"Applicable",notApplicable:"Non applicable",conforme:"Conforme",nonConforme:"Non conforme",correctiveAction:"Action de mise en conformité",comment:"Commentaire",submitSuccess:"Soumission enregistrée"},success:{saved:"Enregistré avec succès",deleted:"Supprimé avec succès",profileUpdated:"Profil mis à jour avec succès",passwordChanged:"Mot de passe modifié avec succès"},months:{january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre"},pagination:{showing:"Affichage de",to:"à",of:"sur",results:"résultats",perPage:"par page",first:"Première",last:"Dernière"},sor:{title:"Suivi d'Écarts",subtitle:"Gestion des non-conformités et observations",submitDeviation:"Soumettre un écart",addNew:"Nouvelle Observation",newReport:"Nouvelle Non-Conformité",editReport:"Modifier Non-Conformité",viewReport:"Détails de l'observation",noReports:"Aucune observation enregistrée",fillRequired:"Veuillez remplir tous les champs obligatoires",createSuccess:"Observation créée avec succès",updateSuccess:"Observation mise à jour avec succès",statusUpdated:"Statut mis à jour avec succès",markClosed:"Marquer comme clôturé",project:"Nom de projet",selectProject:"Sélectionner un projet",company:"Entreprise",date:"Date",time:"Heure",zone:"Zone",zonePlaceholder:"Zone de travail...",supervisor:"Superviseur / Animateur",supervisorPlaceholder:"Nom du superviseur ou animateur HSE",nonConformity:"Non-Conformité",nonConformityPlaceholder:"Décrivez la non-conformité ou l'observation...",photo:"Photo",uploadPhoto:"Cliquez pour ajouter une photo",changePhoto:"Changer la photo",category:"Catégorie de l'écart",selectCategory:"Sélectionner une catégorie",categories:{nettoyage_rangement:"Nettoyage et Rangement",protection_chute:"Protection contre les chutes",echafaudage:"Échafaudage/Échelles/Escaliers",epi:"Équipements de Protection Individuelle",excavations:"Excavations",levage:"Levage",methode_travail:"Méthode de travail - SPA",manutention:"Manutention",vehicule_transport:"Véhicule/Transport",outils_equipements:"Outils/Équipements",chute_trebuchement:"Chute & Trébuchement",electricite:"Électricité",protection_incendie:"Protection Incendie",communication_attitude:"Communication/Attitude",acces_passage:"Accès/Passage/Issues de Secours",formation_toolbox:"Formation/Toolbox/Réunion",inspection_evaluation:"Inspection et Évaluation",documentation_hse:"Documentation HSE & Évaluation",gestion_sous_traitants:"Gestion des sous-traitants",autre:"Autre"},responsiblePerson:"Responsable concerné",responsiblePersonPlaceholder:"Nom du responsable",deadline:"Date butoir",correctiveAction:"Action de maîtrise",correctiveActionPlaceholder:"Décrivez l'action corrective à mettre en place...",status:{label:"Statut",open:"Ouvert",inProgress:"En cours",closed:"Clôturé"},pendingCorrective:"Actions correctives en attente",addCorrective:"Ajouter action",addCorrectiveTitle:"Soumettre l'action corrective",correctivePromptTitle:"Action corrective",correctivePromptMessage:"Voulez-vous soumettre l'action corrective maintenant ou plus tard?",correctiveDate:"Date de l'action",correctiveTime:"Heure de l'action",correctivePhoto:"Photo de l'action corrective",correctiveRequired:"L'action corrective est obligatoire",correctiveSubmitted:"Action corrective soumise avec succès",editCorrective:"Modifier l'action corrective",submitLater:"Soumettre plus tard",submitAndClose:"Soumettre et clôturer",createClosedSuccess:"Observation créée et clôturée",createPinnedSuccess:"Observation créée et épinglée pour suivi",problemSummary:"Résumé du problème",closedBy:"Clôturé par",submittedBy:"Soumis par",clickToEnlarge:"Cliquer pour agrandir"},roles:{admin:"Administrateur",hse_manager:"Manager HSE",responsable:"Responsable HSE",user:"Animateur HSE",supervisor:"Superviseur HSE",hr:"Ressources Humaines",dev:"Développeur",pole_director:"Directeur Pôle",works_director:"Directeur Travaux",hse_director:"Directeur HSE",hr_director:"Directeur RH"},hseExport:{title:"Export Hebdomadaire HSE",description:"Exporter le rapport hebdomadaire HSE complet vers Excel",selectProject:"Sélectionner un projet",selectWeek:"Sélectionner une semaine",selectYear:"Sélectionner une année",week:"Semaine",year:"Année",exportButton:"Exporter KPI Excel",exporting:"Exportation en cours...",success:"Export généré avec succès",error:"Erreur lors de l'export",noProject:"Veuillez sélectionner un projet",noWeek:"Veuillez sélectionner une semaine et une année",sheets:{projectInfo:"Informations Projet",hseReporting:"Reporting HSE",incidents:"Incidents & Accidents",deviationsSgtm:"Écarts SGTM",deviationsSt:"Écarts Sous-traitants",categories:"Catégories d'écarts",certifications:"Habilitations",personnel:"Suivi Collaborateurs",training:"Formation & Sensibilisation",inspections:"Inspections",workPermits:"Permis de Travail"}}},dr={common:{appName:"HSE KPI Tracker",companyName:"SGTM",loading:"Loading...",showMore:"Show more",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",add:"Add",search:"Search",filter:"Filter",export:"Export",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",yes:"Yes",no:"No",all:"All",none:"None",select:"Select",custom:"Custom",unselect:"Unselect",submit:"Submit",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous",close:"Close",view:"View",viewDetails:"View Details",download:"Download",upload:"Upload",refresh:"Refresh",noData:"No data available",error:"Error",success:"Success",warning:"Warning",info:"Information",step:"Step",allProjects:"All projects",allPoles:"All poles",reset:"Reset",apply:"Apply",update:"Update",saving:"Saving...",page:"Page",of:"of",unknown:"Unknown",selected:"selected",project:"Project",lightMode:"Light Mode",darkMode:"Dark Mode",at:"at"},heavyMachinery:{title:"Heavy Machinery Tracking",comingSoon:"Coming soon",viewMachines:{nav:"View machines",title:"View machines",searchPlaceholder:"Search by serial, internal code, type, brand...",addMachine:"Add machine",refresh:"Refresh",emptyTitle:"No machines",emptyHelp:"Add a machine or import them using mass insertion.",details:"Machine details",tabs:{documents:"Documents",operators:"Operators",inspections:"Inspections",transfer:"Transfer"},machine:{serial:"Serial number",internal:"Internal code",type:"Type",brand:"Brand",model:"Model",project:"Project",active:"Active"},form:{createTitle:"New machine",createSerialTitle:"New machine",checkSerial:"Check serial number",serialExists:"A machine with this serial number already exists",editTitle:"Edit machine",image:"Image",chooseImage:"Choose an image",saveFailed:"Failed to save machine",created:"Machine created",updated:"Machine updated"},delete:{confirm:"Delete this machine?",confirmProfessional:`Please delete this machine only if it was added by mistake. If the machine still exists but is no longer in your project, set it to INACTIVE instead.

Do you want to delete it now?`,success:"Machine deleted",failed:"Failed to delete machine"},documents:{add:"Add document",replace:"Replace document",uploadTitle:"Upload: {label}",key:"Document type",label:"Label",startDate:"Start date",expiryDate:"Expiry date",file:"PDF file",choosePdf:"Choose a PDF",uploadFailed:"Upload failed",uploaded:"Document uploaded"},inspections:{add:"Add inspection",newVersion:"New version",uploadTitle:"Upload inspection",parent:"Based on",none:"(none)",startDate:"Start date",endDate:"End date",file:"PDF file",choosePdf:"Choose a PDF",uploaded:"Inspection uploaded",uploadFailed:"Upload failed",deleteConfirm:"Delete this inspection?",deleted:"Inspection deleted",deleteFailed:"Failed to delete inspection"},operators:{helpNoProject:"Assign the machine to a project to manage operators.",searchPlaceholder:"Search a worker by name or CIN",assign:"Assign",assigned:"Operator assigned",assignFailed:"Failed to assign operator",remove:"Remove",removed:"Operator removed",removeFailed:"Failed to remove operator"},transfer:{help:"Changing project will detach all operators from the machine.",action:"Transfer",success:"Machine transferred",failed:"Failed to transfer machine"},bulk:{title:"Mass insertion",help:"Download the Excel template, fill it in, then import it here.",downloadTemplate:"Download template",chooseFile:"Please choose an Excel file",import:"Import",importing:"Importing...",downloadTemplateFailed:"Failed to download template",importFailed:"Import failed",importSummary:"Import completed: {imported} created, {updated} updated",importIssues:"{count} row(s) had issues"}},globalSearch:{nav:"Global search",title:"Global search",searchPlaceholder:"Search by serial number or internal code...",help:"Enter an exact serial number or internal code to retrieve machine documents.",noResult:"No machine found for this code."},expiredDocumentation:{nav:"Expired documentation",title:"Expired documentation",help:"Documents are grouped by project. Use filters to focus on expired vs expiring items.",empty:"No expired/expiring items found.",projectSubtitle:"Machines documents and operators trainings.",stats:{expired:"Expired",expiring:"Expiring soon"},filters:{project:"Project",status:"Status"},status:{all:"All",expired:"Expired",expiring:"Expiring",unknown:"Unknown"},sections:{machines:"Machines documents",operators:"Operators trainings",emptyMachines:"No machine documents in this category.",emptyOperators:"No operator trainings in this category."},columns:{machine:"Machine",document:"Document",expiryDate:"Expiry date",status:"Status",worker:"Worker",training:"Training"}}},devTools:{title:"Dev Tools",shortLabel:"Dev",description:"Simulate role & project scope",simulatedRole:"Simulated role",none:"(none)",projectScope:"Project scope",assignedOnly:"Assigned only"},subcontractors:{title:"Subcontractor tracking",subtitle:"Site opening · Documents · Validity",opening:"Opening",workType:"Type of work",workTypePlaceholder:"e.g. Civil works, scaffolding, electrical...",chooseProjectFirst:"Choose a project first",addOpening:"Add opening",searchPlaceholder:"Search a company...",companiesCount:"{count} companie(s)",noCompanies:"No companies",noCompaniesHelp:"Choose a project and add an opening.",popoverTitle:"Document validity",expired:"Expired",expiring:"Expiring soon",othersCount:"+{count} more...",cardMeta:"{project} · Start: {start} · Workforce: {workers}",documentsCount:"Documents: {uploaded}/{required}",statusSummary:{green:"Up to date",yellow:"Expiring soon",red:"Expired / incomplete"},newOpening:"New site opening",company:"Company",other:"Other...",newCompany:"New company",companyPlaceholder:"Company name",startDate:"Start date",table:{document:"Document",startDate:"Start date",expiryDate:"Expiry date",file:"File"},docStatus:{valid:"valid",expiring:"expiring",expired:"expired",no_expiry:"no date",no_file:"missing"},openingSummary:"Start: {start} · Workforce: {workers} · Documents: {uploaded}/{required}",add:"Add",replace:"Replace",uploadTitle:"Upload: {label}",pdfFile:"PDF file",choosePdf:"Choose a PDF",compressionHint:"Automatic compression to < 5MB only if the file is larger than 5MB.",send:"Send",viewDocument:"View document",pdfOnly:"PDF only",confirmDeleteOpening:'Delete site opening for "{name}"?',openingDeleted:"Opening deleted",openingCreated:"Opening created",uploadFailed:"Upload failed",documentSaved:"Document saved",documentSavedWithSize:"Document saved ({size})",documentSavedCompressed:"Document saved (compressed: {original} → {compressed})"},datePicker:{days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",select:"Select"},status:{approved:"Approved",pending:"Pending",submitted:"Submitted",draft:"Draft",partial:"Partial",rejected:"Rejected",missing:"Missing",notSubmitted:"Not submitted"},auth:{login:"Login",logout:"Logout",email:"Email Address",password:"Password",confirmPassword:"Confirm Password",currentPassword:"Current Password",newPassword:"New Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",resetPassword:"Reset Password",signIn:"Sign In",signOut:"Sign Out",welcomeBack:"Welcome back",signInToContinue:"Sign in to your account to continue",emailRequired:"Email is required",passwordRequired:"Password is required",invalidCredentials:"Invalid credentials",loginSuccess:"Login successful!",redirecting:"Redirecting to your dashboard...",logoutSuccess:"Logged out successfully",resetLinkSent:"Password reset link sent to your email",passwordChanged:"Password changed successfully",accountDeactivated:"Your account has been deactivated. Please contact administrator.",demoCredentials:"Demo Credentials",admin:"Admin",user:"User",showPassword:"Show password",hidePassword:"Hide password",tagline:{line1:"Monitor. Track.",line2:"Improve Safety."},description:"Comprehensive HSE KPI tracking system for managing health, safety, and environmental metrics across all your projects.",publicStats:{hseCompliance:"HSE Compliance",trainingHours:"Training Hours",fatalAccidents:"Fatal Accidents {year}"},appLogoAlt:"Application logo",companyLogoAlt:"SGTM logo",emailPlaceholder:"you@example.com",forgotPasswordPage:{title:"Forgot password?",subtitle:"No worries, we'll send you reset instructions.",emailRequired:"Please enter your email address",sending:"Sending...",submit:"Reset password",resetLinkSent:"Password reset link sent!",checkEmailTitle:"Check your email",checkEmailDescription:"We've sent a password reset link to",backToLogin:"Back to login",safetyManagement:"Safety Management"},passwordPolicy:{standard:"Minimum 8 characters with uppercase, lowercase and a number.",privileged:"Minimum 12 characters with uppercase, lowercase, a number and a special character.",invalid:"Password does not meet the required complexity."},passwordStrength:{title:"Password strength",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"},passwordRequirements:{minLength:"At least {{min}} characters",lowercase:"One lowercase letter",uppercase:"One uppercase letter",digit:"One number",special:"One special character"},forceChangePassword:{title:"Change your password",subtitle:"For security reasons, you must change your password before continuing.",submit:"Update password"}},nav:{dashboard:"Dashboard",administration:"Administration",projects:"Projects",myProjects:"My Projects",users:"Users",kpiSubmission:"KPI Submission",kpiHistory:"KPI History",reports:"Reports",settings:"Settings",profile:"Profile",notifications:"Notifications",help:"Help"},dashboard:{title:"Dashboard",adminTitle:"Admin Dashboard",userTitle:"User Dashboard",welcome:"Welcome",overview:"Overview",statistics:"Statistics",recentActivity:"Recent Activity",quickActions:"Quick Actions",totalProjects:"Total Projects",activeProjects:"Active Projects",totalUsers:"Total Users",activeUsers:"Active Users",pendingReports:"Pending Reports",activeMachines:"Active machines",activeMachinesSubtitle:"In your accessible projects",approvedReports:"Approved Reports",avgTf:"Avg TF",avgTg:"Avg TG",monthlyTrends:"Monthly Trends",projectPerformance:"Project Performance",recentSubmissions:"Recent Submissions",submissionStatus:"Submission Status",exportData:"Export Data",exportExcel:"Export Excel",exportPdf:"Export PDF",exportSuccess:"Report exported successfully",exportFailed:"Failed to export report",loadFailed:"Failed to load dashboard data",totalReports:"Total Reports",awaitingApproval:"Awaiting approval",activeLabel:"active",inYear:"In {{year}}",weekPrefix:"Week",weeklyKpiTrends:"Weekly KPI Trends",detailsForWeek:"Details for {{week}}",viewKpiReports:"View KPI reports",tfTgRates:"TF & TG Rates",yearOverYearSummary:"Year-over-year summary ({{year}} vs {{compareYear}})",reports:"Reports",viewAllProjects:"View all projects",noProjectData:"No project data available.",compareLoadFailed:"Failed to load comparison dashboard data",draftsToComplete:"Reports to complete",draftLabel:"draft",draftLabelPlural:"drafts",weekLabel:"Week {{week}} - {{year}}",monthYearLabel:"{{month}} {{year}}",weekShortPrefix:"W",weekDetailsTitle:"Week {{week}} - Project details",currentWeekLabel:"Current week",themes:{overview:"Executive Overview",safety:"Safety Performance",training:"Training & Competence",compliance:"Compliance & Audits",deviations:"Deviation Tracking",environmental:"Environmental Impact"},deviations:{filters:{title:"Filters",project:"Project",week:"Week"},total:"Total deviations",open:"Open",closed:"Closed",avgCloseDays:"Avg close time",yearContext:"Year {{year}}",inProgressAndOpen:"Open + in progress",closedSubtitle:"Corrective action submitted",avgCloseSubtitle:"From observation to closure",trend:"Deviations trend",byStatus:"By status",byCategory:"Top categories",status:{open:"Open",inProgress:"In progress",closed:"Closed"}},safety:{totalAccidents:"Total Accidents",fatalAccidents:"Fatal Accidents",tfRate:"TF Rate",tgRate:"TG Rate",accidentTrends:"Accident Trends",accidentsBySeverity:"Accidents by Severity",accidentsByProject:"Accidents by Project",yearToDate:"Year to date",noFatalities:"No fatalities ✓",critical:"Critical",avgFrequencyRate:"Average frequency rate",avgSeverityRate:"Average severity rate",tfVsTg:"TF vs TG Rates",noAccidents:"No accidents recorded",greatSafety:"Great safety performance!",fatal:"Fatal",serious:"Serious",minor:"Minor"},training:{totalTrainings:"Total Trainings",employeesTrained:"Employees Trained",trainingHours:"Training Hours",completionRate:"Completion Rate",trainingTrends:"Training Sessions Trend",trainingByCategory:"Training by Category",trainingByProject:"Training by Project",trainingByTheme:"Training by Theme",trainingByDuration:"Training by Duration",trainingByType:"Internal vs External",awarenessByTheme:"TBT/TBM by Theme",sessionsCompleted:"Sessions completed",uniqueAttendees:"Unique attendees",totalHoursDelivered:"Total hours delivered",target:"Target",cumulativeHours:"Cumulative Training Hours",hseTraining:"HSE Training",technical:"Technical",softSkills:"Soft Skills",compliance:"Compliance",noTrainingData:"No training data",internal:"Internal",external:"External",totalAwareness:"TBT/TBM Sessions",awarenessParticipants:"Awareness Participants",awarenessHours:"Awareness Hours"},compliance:{totalInspections:"Total Inspections",hseCompliance:"HSE Compliance",medicalCompliance:"Medical Compliance",auditScore:"Audit Score",complianceRadar:"Compliance Radar",auditFindings:"Audit Findings",findings:"Findings",complianceByProject:"Compliance by Project",inspectionTrends:"Inspection Trends",completedThisYear:"Completed this year",avgScore:"Average score",healthChecks:"Health checks",latestAudit:"Latest audit",criticalFindings:"Critical",majorFindings:"Major",minorFindings:"Minor"},rates:{frequencyRate:"Frequency Rate (TF)",severityRate:"Severity Rate (TG)"},environmental:{hseCompliance:"HSE Compliance",medicalCompliance:"Medical Compliance",waterConsumption:"Water Consumption",electricityUsage:"Electricity Usage",complianceTrends:"Compliance Trends",waterVsElectricity:"Water vs Electricity",safetyTrends:"Safety Trends",complianceProgress:"Compliance Progress",yearToDate:"Year to date",targetAchieved:"Target achieved",toTarget:"to target",trainingHoursYTD:"Training Hours (YTD)",nearMissesYTD:"Near Misses (YTD)"},inspections:"Inspections",nearMisses:"Near Misses",accidents:"Accidents"},projects:{title:"Projects",projectList:"Project List",projectDetails:"Project Details",newProject:"New Project",editProject:"Edit Project",deleteProject:"Delete Project",projectName:"Project Name",projectCode:"Project Code",description:"Description",location:"Location",clientName:"Client Name",startDate:"Start Date",endDate:"End Date",status:"Status",active:"Active",completed:"Completed",suspended:"Suspended",assignedUsers:"Assigned Users",assignUsers:"Assign Users",kpiTrends:"KPI Trends",recentReports:"Recent Reports",noProjects:"No projects found",projectCreated:"Project created successfully",projectUpdated:"Project updated successfully",projectDeleted:"Project deleted successfully",confirmDelete:"Are you sure you want to delete this project?",bulk:{downloadTemplateFailed:"Failed to download template",chooseFile:"Please choose a file",importSummary:"Imported: {{imported}} / Updated: {{updated}}",importIssues:"{{count}} row(s) had issues",importFailed:"Failed to import projects"},assignedForKpi:"Projects assigned to you for KPI reporting",assignedToYou:"Projects assigned to you",backToProjects:"Back to Projects",team:"Team",teamMembers:"Team Members",manageTeam:"Manage Team",addToTeam:"Add to Team",removeFromTeam:"Remove from Team",noTeamMembers:"No team members yet",selectOfficers:"Select HSE Officers",availableOfficers:"Available HSE Officers",noAvailableOfficers:"No available HSE Officers",addSelected:"Add Selected",memberAdded:"Team member added successfully",memberRemoved:"Team member removed successfully",membersAdded:"{{count}} team member(s) added successfully",confirmRemoveMember:"Are you sure you want to remove {{name}} from the team?",addedBy:"Added by",addedOn:"Added on",zones:"Zones",manageZones:"Manage Zones",addZone:"Add a zone",removeZone:"Remove zone",zoneName:"Zone name",existingZones:"Existing zones",noZones:"No zones defined",zoneAdded:"Zone added",zoneRemoved:"Zone removed",zoneExists:"This zone already exists",zonesInfo:"These zones will be available in the deviation tracking dropdown",done:"Done"},training:{navLabel:"Training",pageTitle:"Training Submission",pageSubtitle:"Log training sessions and automatically compute training hours.",project:"Project",selectProject:"Select a project",date:"Date",by:"By",external:"External",externalPlaceholder:"External company name",theme:"Training theme",searchTheme:"Search training theme...",otherTheme:"Specify training name",duration:"Duration",selectDuration:"Select duration",durations:{"30min":"30 Min","1h":"1 Hour","1h30":"1 Hour 30 Min","2h":"2 Hours","3h":"3 Hours",halfDay:"Half a day","1day":"1 Day","2days":"2 Days","3days":"3 Days"},participants:"Number of participants",trainingHours:"Training hours",hoursUnit:"hours",submit:"Submit training",created:"Training saved successfully",photo:"Photo",uploadPhoto:"Click to add a photo",changePhoto:"Change photo",addTraining:"Add Training",clickToExpand:"Click to expand form",listTitle:"Recorded trainings",allProjects:"All projects",allWeeks:"All weeks",weekLabel:"Week {{week}}",noTrainings:"No trainings found for these filters",colDate:"Date",colProject:"Project",colBy:"By",colTheme:"Theme",colDuration:"Duration",colParticipants:"Participants",colHours:"Hours",colPhoto:"Photo",viewPhoto:"View photo",downloadPhoto:"Download photo",themes:["Scaffolding Assembly/Disassembly Training","Scaffolding Use Training","Formwork/Removal Training","Scaffolding Inspection","Slinging & Material Handling Training","First Aid (SST) Training","Personal Protective Equipment (PPE) Training","Power Tools Safety","Defensive Driving Training","Working at Height Training","Mobile Crane Operation Training","Backhoe Loader Operation Training","Tractor Operation Training","Safe Operation of Aerial Work Platforms (MEWP)","Welding Training","Electrical Training & Authorization","HSE Awareness for Personnel","Construction Machinery Operation Training","Light Vehicle Safe Driving Training","Flagman/Spotter Training","Excavation Safety Training","Confined Space","Fire Risk","Ergonomics","Environment (Housekeeping, Waste, Chemicals)","Co-activity / Simultaneous Operations","Other"]},awareness:{navLabel:"TBM/TBT",pageTitle:"Awareness Sessions (TBM/TBT)",pageSubtitle:"Submit and track toolbox meetings and safety talks",addSession:"Add Awareness Session",clickToExpand:"Click to expand form",project:"Project",selectProject:"Select a project",date:"Date",by:"By",theme:"Theme",searchTheme:"Search theme...",other:"Other",otherTheme:"Specify session topic",duration:"Duration",minutes:"minutes",participants:"Number of participants",sessionHours:"Session hours",hoursUnit:"hours",submit:"Submit session",created:"Session saved successfully",listTitle:"Recorded sessions",allProjects:"All projects",allWeeks:"All weeks",weekLabel:"Week {{week}}",noSessions:"No sessions found for these filters",colDate:"Date",colProject:"Project",colBy:"By",colTheme:"Theme",colDuration:"Duration",colParticipants:"Participants",colHours:"Hours",themes:["Safe work at height using certified MEWPs and scaffolding","Securing lifting zones and rigging operations","Traffic management for heavy equipment and co-activity","Communication between operators (signals, hand signs, radios)","Correct use of mandatory PPE","Electrical risks and lockout/tagout","Safe manual handling","Dropped objects prevention and tool securing at height","Excavation and trench safety","Pressure hazards and pressurized equipment safety","Fire safety and extinguisher handling","Chemical safety and SDS awareness","Hot work — fire permit and controlled perimeter","Mechanical / hydraulic energy isolation","Mobile crane safety","Confined space work — atmosphere testing, ventilation, rescue plan","Waste management and housekeeping","Noise hazards and hearing protection","Insufficient lighting on site","Night work — vigilance and organization","Ergonomics and safe body positioning","Hazardous energy control (full LOTO)","Safe use of fixed and portable power tools","Slips, trips, and falls prevention","Extreme weather (wind, rain, heat) and work adaptation","Safety near open electrical panels","Cutting/grinding/drilling risk prevention","Hazard of impact with suspended loads","Securing access points and zone barricading","Fatigue risk and lack of focus","Near-miss prevention and lessons learned","Emergency evacuation and first aid readiness","Proper material storage and workplace organization"]},workPermits:{title:"Work Permits",pageTitle:"Work Permits Management",pageSubtitle:"Manage work permits for your projects",newPermit:"New Permit",editPermit:"Edit Permit",deletePermit:"Delete Permit",permitNumber:"Permit Number",project:"Project",selectProject:"Select a project",week:"Week",selectWeek:"Select week",year:"Year",prolongation:"Prolongation (Sunday)",prolongationHint:"Check for Sunday permits",serialNumber:"Serial Number",permitTypes:"Permit Types",types:{cold:"Cold Permit",workAtHeight:"Work at Height Permit",hotWork:"Hot Work Permit",confinedSpaces:"Confined Spaces Permit",electricalIsolation:"Electrical Isolation Permit",energizedWork:"Energized Work Permit",excavation:"Excavation Permit",mechanicalIsolation:"Mechanical Isolation Permit",grinder7inch:"7 Inch Grinder Permit"},description:"Permit Description",descriptionPlaceholder:"Describe the work to be performed...",area:"Area",areaPlaceholder:"Work area location",permitUser:"Permit User",permitUserPlaceholder:"Name of permit user",signedBy:"Permit Issuer",signedByPlaceholder:"Name of issuer",authorizer:"Authorizer",authorizerPlaceholder:"Name of authorizer",commenceDate:"Start Date",exportExcel:"Export Excel",exported:"Permits exported successfully",exportError:"Error exporting permits",endDate:"End Date",enterprise:"Enterprise",enterprisePlaceholder:"Enterprise name",status:{draft:"Draft",active:"Active",closed:"Closed",cancelled:"Cancelled"},copyFromPrevious:"Copy from Previous Week",copySelected:"Copy Selected",reinitializeNumbers:"Reinitialize Numbers",launchWeek:"Launch Week",launchConfirm:"Are you sure you want to launch all permits for this week? This will reinitialize permit numbers and activate all draft permits.",created:"Work permit created successfully",updated:"Work permit updated successfully",deleted:"Work permit deleted successfully",copied:"{{count}} permit(s) copied successfully",numbersReinitialized:"Permit numbers reinitialized",weekLaunched:"Week launched: {{count}} permit(s) activated",loadProjectsFailed:"Failed to load projects",loadPermitsFailed:"Failed to load permits",deleteFailed:"Failed to delete permit",copyFailed:"Failed to copy permits",launchFailed:"Failed to launch week",confirmDelete:"Are you sure you want to delete this permit?",noPermits:"No permits found for this week",previousWeekPermits:"Previous Week Permits",currentWeekPermits:"Current Week Permits",selectToCopy:"Select permits to copy to current week",weekInfo:"Week {{week}} ({{start}} - {{end}})",mondayToSaturday:"Monday to Saturday"},inspections:{title:"Inspections",pageTitle:"Inspection Management",pageSubtitle:"Manage HSE and environment inspections",project:"Project",selectProject:"Select a project",selectProjectFirst:"Please select a project to view inspections",newInspection:"New Inspection",editInspection:"Edit Inspection",listTitle:"Inspection List",noInspections:"No inspections found",searchPlaceholder:"Search by inspector, location, zone...",date:"Date",nature:"Inspection Nature",natureOther:"Specify",natureOtherPlaceholder:"Specify the inspection nature",type:"Inspection Type",location:"Location",locationPlaceholder:"Inspection location",zone:"Zone",zonePlaceholder:"Inspection zone",startDate:"Start Date",endDate:"Completion Date",inspector:"Inspector",enterprise:"Enterprise",enterprisePlaceholder:"Enterprise name",status:"Status",statusOpen:"Open",statusClosed:"Closed",notes:"Notes",notesPlaceholder:"Additional notes...",natures:{sst:"HSE Inspection",environment:"Environment Inspection",thirdParty:"Third Party Inspection",equipment:"Equipment and Tools Inspection",other:"Other"},types:{internal:"Internal",external:"External"},create:"Create Inspection",created:"Inspection created successfully",updated:"Inspection updated successfully",deleted:"Inspection deleted successfully",confirmDelete:"Are you sure you want to delete this inspection?"},workers:{title:"Workers Management",subtitle:"Manage workers and their information",addWorker:"Add Worker",newWorker:"New Worker",editWorker:"Edit Worker",noWorkers:"No workers found",nom:"Last Name",prenom:"First Name",fonction:"Function",cin:"National ID",dateNaissance:"Date of Birth",entreprise:"Company",projet:"Project",dateEntree:"Entry Date",status:"Status",active:"Active",inactive:"Inactive",import:"Import",export:"Export",downloadTemplate:"Download Template",bulkDeactivate:"Deactivate Selected",bulkActivate:"Activate Selected",deactivate:"Deactivate",activate:"Activate",created:"Worker created successfully",merged:"Worker updated (existing CIN)",updated:"Worker updated successfully",deactivated:"Worker deactivated successfully",activated:"Worker activated successfully",bulkDeactivated:"{{count}} worker(s) deactivated",bulkActivated:"{{count}} worker(s) activated",importSuccess:"Import successful: {{imported}} imported, {{merged}} merged",confirmDeactivate:"Are you sure you want to deactivate {{name}}?",confirmBulkDeactivate:"Are you sure you want to deactivate {{count}} worker(s)?",allProjects:"All Projects",allEntreprises:"All Companies",allFonctions:"All Functions",allStatus:"All Status",filters:{pole:"Pole",project:"Project",entreprise:"Company",fonction:"Function",training:"Training",qualification:"Qualification",medical:"Medical aptitude",medicalStatus:"Medical status",presence:"Presence",with:"With",without:"Without",expired:"Expired",expiredAny:"Any",expiredOnly:"Only expired",expiredWithout:"Without expired"},totalWorkers:"Total Workers",activeWorkers:"Active",inactiveWorkers:"Inactive",hseTeam:"HSE Team",stats:{inductionHse:"HSE Induction",workAtHeight:"Work at height",physicalAptitude:"Physical aptitude",bypassingSafetyControls:"Bypassing safety controls",medicalAptitude:"Medical aptitude"},statusHelp:"Deactivated = not visible in project",importTitle:"Import Workers",importHelp:"Download the template, fill it in, and import it.",selectFile:"Select File",cinInfo:"CIN is the unique identifier. Duplicates will be merged.",selectDate:"Select a date",minAge:"Worker must be at least 18 years old",fonctionPlaceholder:"Site Manager, Worker...",entreprisePlaceholder:"SGTM, Contractor...",details:{title:"Worker details",noImage:"No image",image:{add:"Add image"},sections:{trainings:"Trainings",qualifications:"Qualifications",medical:"Medical aptitude"},tabs:{trainings:"Trainings",qualifications:"Qualifications",medical:"Medical aptitude"},common:{startDate:"Start date",endDate:"End date",endDateAutoHelp:"End date defaults to 1 year after start date (editable).",file:"File (PDF)",choosePdf:"Choose a PDF",pdfOnly:"Please choose a PDF file"},trainings:{addTitle:"Add training",type:"Type of training",otherLabel:"Specify",empty:"No trainings recorded for this worker.",types:{bypassing_safety_controls:"Bypassing safety controls",formation_coactivite:"Co-activity training",formation_coffrage_decoffrage:"Formwork and stripping training",formation_conduite_defensive:"Defensive driving training",formation_analyse_des_risques:"Risk analysis training",formation_elingage_manutention:"Slinging and handling training",formation_ergonomie:"Ergonomics training",formation_excavations:"Excavation training",formation_outils_electroportatifs:"Power tools training",formation_epi:"PPE training",formation_environnement:"Environment training",formation_espaces_confines:"Confined spaces training",formation_flagman:"Flagman training",formation_jha:"JHA training",formation_line_of_fire:"Line of fire training",formation_manutention_manuelle:"Manual handling training",formation_manutention_mecanique:"Mechanical handling training",formation_point_chaud:"Hot work training",formation_produits_chimiques:"Chemical products training",formation_risques_electriques:"Electrical risks training",induction_hse:"HSE induction",travail_en_hauteur:"Working at height",other:"Other (specify)"}},qualifications:{addTitle:"Add qualification",empty:"No qualifications recorded for this worker.",type:"Qualification",level:"Level",levelPlaceholder:"e.g. B0 / H0V / B1V...",otherLabel:"Specify",types:{elingueur:"Slinger",equipier_premiere_intervention:"First response team member",habilitation_electrique:"Electrical authorization",inspecteur_echafaudage:"Scaffolding inspector",monteur_echafaudage:"Scaffolding erector",monteur_grue_a_tour:"Tower crane assembler",operateur_bulldozer:"Bulldozer operator",operateur_chargeuse:"Loader operator",operateur_chariot_elevateur:"Forklift operator",operateur_compacteur:"Compactor operator",operateur_dumper:"Dumper operator",operateur_grue_a_tour:"Tower crane operator",operateur_grue_mobile:"Mobile crane operator",operateur_niveleuse:"Grader operator",operateur_nacelle:"MEWP / aerial platform operator",operateur_pelle:"Excavator operator",sst:"First aid (SST)",soudeur:"Welder",utilisation_meule:"Grinder use",other:"Other (specify)"}},medical:{addTitle:"Add medical aptitude",empty:"No medical aptitude recorded for this worker.",status:"Status",apte:"Fit (Apte)",inapte:"Unfit (Inapte)",examNature:"Exam nature",ableTo:"Able to",examNatures:{embauche_reintegration:"Hiring / reintegration",visite_systematique:"Periodic visit",surveillance_medical_special:"Special medical monitoring",visite_de_reprise:"Return-to-work visit",visite_spontanee:"Spontaneous visit"},ableToOptions:{travaux_en_hauteur:"Work at height",travaux_electrique:"Electrical work",travaux_en_espace_confine:"Confined space work",operateur:"Operator",travaux_point_chaud:"Hot work"}}}},qualifiedPersonnel:{navLabel:"Qualified Personnel",pageTitle:"Worker Trainings",pageSubtitle:"Manage worker-specific trainings and certificates.",filters:{searchPlaceholder:"Search by name or National ID...",trainingPlaceholder:"All trainings",resultsCount:"{count} result(s)"},workerCardTitle:"Personnel",addTrainingTitle:"Add Training",trainingType:"Training type",trainingLabel:"Training title",trainingDate:"Training date",expiryDate:"Expiry date",certificate:"Certificate (PDF)",chooseFile:"Choose a file",saveTraining:"Save training",trainingCreated:"Worker training saved",invalidExpiry:"Expiry date cannot be before training date",trainingListTitle:"Worker trainings",colType:"Type",colStartDate:"Start date",colEndDate:"Expiry date",colCertificate:"Certificate",noTrainings:"No trainings for this worker.",noWorkerSelected:"Select a worker to see their trainings.",noWorkerSelectedHelp:"Choose a project and search by name or National ID, then select a worker to view and add trainings.",statusValid:"Valid",statusExpiring:"Expiring soon",statusExpired:"Expired",statusNoExpiry:"No date",viewExpiringButton:"View expiring / expired trainings",viewAllButton:"View all trainings",expiringListTitle:"Expiring / expired trainings",noExpiring:"No expiring or expired trainings found for your projects.",viewCertificate:"View certificate",downloadCertificate:"Download",types:{inductionHse:"Induction HSE",aptitudePhysique:"Physical aptitude",travailHauteur:"Working at height",elinguage:"Slinging",outillageElectrique:"Electrical tools",inspecteurEchafaudage:"Scaffold inspector",monteurEchafaudage:"Scaffold erector",incendie:"Fire safety",secourisme:"First aid",reconnaissanceHse:"HSE awareness",other:"Other (specify)"}},users:{title:"User Management",subtitle:"Manage system users and their permissions",userList:"User List",userDetails:"User Details",addUser:"Add User",newUser:"New User",editUser:"Edit User",createUser:"Create New User",updateUser:"Update User",createUserBtn:"Create User",deleteUser:"Delete User",searchPlaceholder:"Search users...",allRoles:"All Roles",roles:{admin:"Administrator",hse_manager:"HSE Manager",responsable:"HSE Responsible",user:"HSE Officer",supervisor:"HSE Supervisor",hr:"Human Resources",dev:"Developer",pole_director:"Pole Director",works_director:"Works Director",hse_director:"HSE Director",hr_director:"HR Director"},table:{user:"User",role:"Role",projects:"Projects",status:"Status",actions:"Actions"},status:{active:"Active",inactive:"Inactive"},form:{fullName:"Full Name",email:"Email Address",cin:"National ID",cinPlaceholder:"National ID card number",password:"Password",passwordHint:"leave blank to keep current",role:"Role",pole:"Pole",selectPole:"Select pole",phone:"Phone",assignProjects:"Assign to Projects"},activate:"Activate",deactivate:"Deactivate",loadError:"Failed to load users",saveError:"Failed to save user",createSuccess:"User created successfully",updateSuccess:"User updated successfully",deleteSuccess:"User deleted successfully",deleteError:"Failed to delete user",deleteConfirm:"Are you sure you want to delete {{name}}?",activateSuccess:"User activated successfully",deactivateSuccess:"User deactivated successfully",statusError:"Failed to update user status",noUsers:"No users found",assignedProjects:"Assigned Projects",toggleStatus:"Toggle Status",bulk:{downloadTemplateFailed:"Failed to download template",chooseFile:"Please choose a file",importSummary:"Imported: {{imported}} / Updated: {{updated}}",importIssues:"{{count}} row(s) had issues",importFailed:"Failed to import users"}},members:{title:"Member Management",subtitle:"Manage project team members",addMember:"Add Member",newMember:"New Member",editMember:"Edit Member",noMembers:"No members found",createSuccess:"Member created successfully",createMerged:"Existing user found with this National ID and added to project",updateSuccess:"Member updated successfully",removeSuccess:"Member removed from project successfully",removeConfirm:"Are you sure you want to remove {{name}} from this project?",removeWarning:"The user will be deactivated if they have no remaining project affiliations.",cinExists:"A user with this National ID already exists",emailExists:"A user with this email already exists",selectRole:"Select a role",cannotRemoveSelf:"You cannot remove yourself from the project",cinInfo:"If a user with this National ID already exists, they will be automatically added to this project."},kpi:{title:"KPI Reports",submission:"KPI Submission",submitKpi:"Submit KPI",history:"KPI History",newReport:"New Report",editReport:"Edit Report",viewReport:"View Report",deleteReport:"Delete Report",selectProject:"Select Project",selectMonth:"Select Month",selectYear:"Select Year",reportDate:"Report Date",reportMonth:"Report Month",reportYear:"Report Year",status:{draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"},saveDraft:"Save Draft",submitReport:"Submit Report",approve:"Approve",reject:"Reject",rejectionReason:"Rejection Reason",accidents:{title:"Accidents",total:"Total Accidents",fatal:"Fatal Accidents",serious:"Serious Accidents",minor:"Minor Accidents",nearMisses:"Near Misses",firstAidCases:"First Aid Cases"},training:{title:"Training",conducted:"Trainings Conducted",planned:"Trainings Planned",employeesTrained:"Employees Trained",trainingHours:"Training Hours",toolboxTalks:"Toolbox Talks"},inspections:{title:"Inspections",completed:"Inspections Completed",planned:"Inspections Planned",findingsOpen:"Open Findings",findingsClosed:"Closed Findings",correctiveActions:"Corrective Actions"},rates:{title:"Rates & Hours",hoursWorked:"Hours Worked",lostWorkdays:"Lost Workdays",frequencyRate:"Frequency Rate (TF)",severityRate:"Severity Rate (TG)"},additional:{title:"Additional Metrics",unsafeActs:"Unsafe Acts Reported",unsafeConditions:"Unsafe Conditions Reported",emergencyDrills:"Emergency Drills",ppeCompliance:"PPE Compliance (%)"},notes:"Notes & Comments",noReports:"No reports found",reportSaved:"Report saved successfully",reportSubmitted:"Report submitted successfully",reportResubmitted:"Report resubmitted successfully",reportApproved:"Report approved successfully",reportRejected:"Report rejected",reportDeleted:"Report deleted successfully",confirmDelete:"Are you sure you want to delete this report?",management:{title:"KPI Report Management",subtitle:"Approve or reject submitted reports",searchPlaceholder:"Search...",allStatuses:"All statuses",statusSubmitted:"Pending",submittedBy:"Submitted by",period:"Period",date:"Date",viewDetails:"View details",rejectTitle:"Reject report",rejectReasonRequired:"Please enter a rejection reason",rejectWarningBefore:"The report will be moved back to",rejectWarningAfter:"so the submitter can correct and resubmit.",rejectReasonPlaceholder:"Enter the rejection reason...",detailsTitle:"Report details",loadDetailsFailed:"Failed to load report details",previouslyRejected:"Previously rejected",rejectedOn:"Rejected on {date}",sections:{effectifInduction:"1-2. Workforce & Induction",observationsAwareness:"3-4. Observations & Awareness",accidentsIncidents:"5-8. Accidents & Incidents",inspectionsIndicators:"9-11. Inspections & Indicators",trainingPermitsDiscipline:"12-14. Training, Permits & Discipline",complianceMonitoring:"15-17. Compliance & Monitoring",energyConsumption:"18-19. Energy Consumption"}},steps:{projectInfo:"Project Info",weeklyReporting:"HSE Reporting",incidentTracking:"Incident Tracking"},projectInfo:{title:"Project Information",selectProject:"Select a project",reportPeriod:"Report Period",weekNumber:"Week Number",startDate:"Start Date",endDate:"End Date",currentWeek:"Current week"},autoPopulate:"Auto-fill Data",autoPopulateTitle:"Auto-fill from Related Data",autoPopulateDesc:"Automatically fill the form with data from deviations, trainings, inspections, etc.",autoPopulated:"Data auto-filled",noDataToPopulate:"No related data found for this period",selectProjectAndWeek:"Please select a project and week first",weekly:{title:"Weekly HSE Reporting",subtitle:"HSE REPORTING",effectif:"Workforce",induction:"Induction",ecarts:"Deviations Recorded",sensibilisation:"Awareness Sessions",presquAccident:"Near Miss",premiersSoins:"First Aid Cases",accident:"Accident",joursArret:"Lost Work Days",inspections:"Number of Inspections",tauxGravite:"Severity Rate (TG)",tauxFrequence:"Frequency Rate (TF)",heuresFormation:"Training Hours",permisTravail:"Work Permits",mesuresDisciplinaires:"Disciplinary Measures",conformiteHSE:"HSE Regulatory Compliance Rate",conformiteMedecine:"Occupational Medicine Compliance",suiviBruit:"Noise Monitoring",consoEau:"Energy Consumption: Water",consoElectricite:"Energy Consumption: Electricity",consommation:"Resource Consumption",consommationEau:"Water Consumption",consommationElectricite:"Electricity Consumption"},incidents:{title:"Incident & Accident Tracking",subtitle:"INCIDENT & ACCIDENT TRACKING",fatality:"Fatality",lostTimeAccident:"Lost Time Accident",nonLostTimeAccident:"Non-Lost Time Accident",firstAidCase:"First Aid Case",nearMiss:"Near Miss",propertyDamage:"Property Damage",environmentalImpact:"Environmental Impact",lostWorkDays:"Lost Work Days",summary:"Summary",ltaShort:"LTA"},dailyKpi:{title:"Daily HSE Entry",subtitle:"Daily data → Auto-calculate weekly KPIs",download:"Download",import:"Import",entry:"Entry",downloadTemplate:"SGTM Excel Template",downloadDesc:"Download template, fill daily data, then import it",importFile:"Import filled file",importDesc:"Data will automatically fill the table",selectFile:"Select",indicator:"Indicator",total:"Total",autoFill:"Auto-fill",confirm:"Confirm",confirmApply:"Confirm and apply",hasData:"Data",templateDownloaded:"Template downloaded - Import after filling",dataImported:"Data imported - review then confirm",dataSaved:"Data saved and applied to KPI",systemDataApplied:"System data applied",noDataToSave:"No data to save",downloadFailed:"Download failed",parseFailed:"Failed to parse file",saveFailed:"Save failed",formulaInfo:"Deviations, TBM, Training, Permits: fetched from system",workHoursFormula:"Work hours = Workforce × 10",dailyData:"Daily Data",days:"days",loadingDaily:"Loading daily data..."},historyPage:{subtitle:"View and manage your submitted KPI reports",loadFailed:"Failed to load reports",onlyDraftDeletable:"Only draft reports can be deleted",deleteSuccess:"Report deleted successfully",exportFailed:"Failed to export reports"},submissionPage:{cannotEditReport:"This report can no longer be edited",loadReportFailed:"Failed to load report",selectWeekRequired:"Please select a week"}},profile:{title:"Profile",subtitle:"Manage your account settings and preferences",personalInfo:"Personal Information",updateProfile:"Update Profile",changePassword:"Change Password",profileUpdated:"Profile updated successfully",passwordMismatch:"Passwords do not match",passwordMinLength:"Password must be at least 8 characters",passwordMinLengthHint:"Password must be at least 8 characters long",currentPasswordWrong:"Current password is incorrect",emailReadOnly:"Email cannot be changed",preferencesTitle:"Preferences",language:"Language",projectListPreference:"Project list preference",projectListByCode:"By code",projectListByName:"By name",theme:"Theme",savePreferences:"Save Preferences",preferencesUpdated:"Preferences updated successfully"},notifications:{title:"Notifications",markAllRead:"Mark all as read",viewAll:"View all notifications",deleteRead:"Delete read",noNotifications:"No notifications yet",newReport:"New report submitted",reportApproved:"Your report has been approved",reportRejected:"Your report has been rejected",projectAssigned:"You have been assigned to a project",kpiSubmitted:"New KPI report submitted",kpiApproved:"KPI report approved",kpiRejected:"KPI report rejected",sorSubmitted:"New non-conformity reported",sorCorrected:"Corrective action submitted",trainingSubmitted:"New training recorded",awarenessSubmitted:"New awareness session recorded",reminder:"Reminder",system:"System announcement"},errors:{somethingWentWrong:"Something went wrong",pageNotFound:"Page not found",unauthorized:"Unauthorized",forbidden:"Access forbidden",serverError:"Server error",networkError:"Network error. Please check your connection.",validationError:"Validation error",notFound:"Resource not found",fetchFailed:"Failed to fetch data",invalidFileType:"Invalid file type",goBack:"Go Back",goHome:"Go Home",failedToLoad:"Failed to load data",failedToSave:"Failed to save changes",failedToDelete:"Failed to delete item",failedToExport:"Failed to export data",failedToSendResetLink:"Failed to send reset link"},ppe:{nav:"PPE",title:"PPE Management",subtitle:"Manage PPE stock and issue PPE to workers",note:"Issuing PPE decreases stock. If you select “Other”, the item will be added to the list automatically.",project:"Project",projectRequired:"Please select a project",items:{name:"Item",stock:"Stock",threshold:"Low stock threshold",add:"Add PPE item",edit:"Edit PPE item",confirmDelete:"Are you sure you want to delete “{{name}}”?"},restock:{button:"Restock",title:"Restock PPE",item:"PPE item",chooseItem:"Please choose a PPE item (or specify Other)",quantity:"Quantity to add",threshold:"Low stock threshold",thresholdPlaceholder:"Optional",submit:"Restock"},issue:{button:"Issue PPE",title:"Issue PPE to worker",worker:"Worker",workerSearchPlaceholder:"Search worker by name, CIN...",chooseWorker:"Please select a worker",item:"PPE item",other:"Other",otherSpecify:"Specify",otherPlaceholder:"Enter PPE name",quantity:"Quantity",receivedAt:"Received date",chooseItem:"Please choose a PPE item (or specify Other)",submit:"Issue",success:"PPE issued successfully"},workerTab:{title:"PPE",empty:"No PPE issued",issueButton:"Issue PPE",lastIssuedTitle:"Last issued per item",columns:{item:"Item",quantity:"Qty",receivedAt:"Date"}}},regulatoryWatch:{nav:"Regulatory watch",title:"Regulatory watch",subtitle:"Regulatory compliance checklist per project",historySubtitle:"Submission history and scores",selectProject:"Select a project",projectRequired:"Please select a project",week:"Week",year:"Year",selectWeek:"Select week",selectYear:"Select a year",lastSubmission:"Last submission",sectionScore:"Section score",overallScore:"Overall score",avgScore:"Average score",historyTitle:"Submissions",noSubmissions:"No submissions",submittedAt:"Submitted at",viewDetails:"View details",detailsTitle:"Submission details",sectionScores:"Section scores",newSubmission:"New submission",newTitle:"New submission",resubmit:"Resubmit",resubmitTitle:"Resubmit (prefilled)",applicable:"Applicable",notApplicable:"Not applicable",conforme:"Compliant",nonConforme:"Non-compliant",correctiveAction:"Corrective action",comment:"Comment",submitSuccess:"Submission saved"},success:{saved:"Saved successfully",deleted:"Deleted successfully",profileUpdated:"Profile updated successfully",passwordChanged:"Password changed successfully"},months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},pagination:{showing:"Showing",submitDeviation:"Submit Deviation",addNew:"New Observation",newReport:"New Non-Conformity",editReport:"Edit Non-Conformity",viewReport:"Observation Details",noReports:"No observations recorded",fillRequired:"Please fill in all required fields",createSuccess:"Observation created successfully",updateSuccess:"Observation updated successfully",statusUpdated:"Status updated successfully",markClosed:"Mark as closed",project:"Project Name",selectProject:"Select a project",company:"Company",date:"Date",time:"Time",zone:"Zone",zonePlaceholder:"Work area / location...",supervisor:"Supervisor / HSE Officer",supervisorPlaceholder:"Name of supervisor or HSE officer",nonConformity:"Non-Conformity",nonConformityPlaceholder:"Describe the non-conformity or observation...",photo:"Photo",uploadPhoto:"Click to add a photo",changePhoto:"Change photo",category:"Deviation Category",selectCategory:"Select a category",categories:{nettoyage_rangement:"Housekeeping & Cleaning",protection_chute:"Fall Protection",echafaudage:"Scaffolding / Ladders / Stairs",epi:"Personal Protective Equipment (PPE)",excavations:"Excavations",levage:"Lifting",methode_travail:"Work Method - SPA",manutention:"Manual Handling",vehicule_transport:"Vehicle / Transport",outils_equipements:"Tools / Equipment",chute_trebuchement:"Slip / Trip / Fall",electricite:"Electricity",protection_incendie:"Fire Protection",communication_attitude:"Communication / Attitude",acces_passage:"Access / Walkways / Emergency Exits",formation_toolbox:"Training / Toolbox / Meeting",inspection_evaluation:"Inspection & Evaluation",documentation_hse:"HSE Documentation & Evaluation",gestion_sous_traitants:"Subcontractor Management",autre:"Other"},responsiblePerson:"Responsible Person",responsiblePersonPlaceholder:"Name of responsible person",deadline:"Deadline",correctiveAction:"Corrective Action",correctiveActionPlaceholder:"Describe the corrective action to implement...",status:{label:"Status",open:"Open",inProgress:"In Progress",closed:"Closed"},pendingCorrective:"Pending Corrective Actions",addCorrective:"Add Action",addCorrectiveTitle:"Submit Corrective Action",correctivePromptTitle:"Corrective Action",correctivePromptMessage:"Would you like to submit the corrective action now or later?",correctiveDate:"Action Date",correctiveTime:"Action Time",correctivePhoto:"Corrective Action Photo",correctiveRequired:"Corrective action is required",correctiveSubmitted:"Corrective action submitted successfully",editCorrective:"Edit Corrective Action",submitLater:"Submit Later",submitAndClose:"Submit & Close",createClosedSuccess:"Observation created and closed",createPinnedSuccess:"Observation created and pinned for follow-up",problemSummary:"Problem Summary",closedBy:"Closed by",submittedBy:"Submitted by",clickToEnlarge:"Click to enlarge"},roles:{admin:"Administrator",hse_manager:"HSE Manager",responsable:"HSE Responsible",user:"HSE Officer",supervisor:"HSE Supervisor",hr:"Human Resources",dev:"Developer",pole_director:"Pole Director",works_director:"Works Director",hse_director:"HSE Director",hr_director:"HR Director"},hseExport:{title:"HSE Weekly Export",description:"Export comprehensive HSE weekly report to Excel",selectProject:"Select Project",selectWeek:"Select Week",selectYear:"Select Year",week:"Week",year:"Year",exportButton:"Export KPI Excel",exporting:"Exporting...",success:"Export generated successfully",error:"Error during export",noProject:"Please select a project",noWeek:"Please select a week and year",sheets:{projectInfo:"Project Information",hseReporting:"HSE Reporting",incidents:"Incidents & Accidents",deviationsSgtm:"SGTM Deviations",deviationsSt:"Subcontractor Deviations",categories:"Deviation Categories",certifications:"Certifications",personnel:"Personnel Tracking",training:"Training & Awareness",inspections:"Inspections",workPermits:"Work Permits"}}},B={fr:lr,en:dr},Fe="fr",Me="hse-kpi-language",it=h.createContext(),V=[{code:"fr",name:"Français",flag:"🇫🇷"},{code:"en",name:"English",flag:"🇬🇧"}];function ur({children:e}){const[r,a]=h.useState(()=>{const u=localStorage.getItem(Me);return u&&B[u]?u:Fe}),s=h.useCallback(u=>{B[u]&&(a(u),localStorage.setItem(Me,u),document.documentElement.lang=u)},[]);h.useEffect(()=>{document.documentElement.lang=r},[r]);const i=h.useCallback((u,m={})=>{const p=u.split(".");let f=B[r];for(const w of p)if(f&&typeof f=="object"&&w in f)f=f[w];else{f=B[Fe];for(const x of p)if(f&&typeof f=="object"&&x in f)f=f[x];else return console.warn(`Translation key not found: ${u}`),u;break}return Array.isArray(f)?f:typeof f!="string"?(console.warn(`Translation key is not a string or array: ${u}`),u):f.replace(/\{(\w+)\}/g,(w,x)=>m[x]!==void 0?m[x]:w)},[r]),n=V.find(u=>u.code===r)||V[0],l={language:r,setLanguage:s,t:i,currentLanguage:n,languages:V};return t.jsx(it.Provider,{value:l,children:e})}function he(){const e=h.useContext(it);if(e)return e;const r=(()=>{try{return localStorage.getItem(Me)}catch{return null}})(),a=r&&B[r]?r:Fe,s=(n,l={})=>{const u=n.split(".");let m=B[a];for(const p of u)if(m&&typeof m=="object"&&p in m)m=m[p];else return console.warn(`Translation key not found: ${n}`),n;return Array.isArray(m)?m:typeof m!="string"?(console.warn(`Translation key is not a string or array: ${n}`),n):m.replace(/\{(\w+)\}/g,(p,f)=>l[f]!==void 0?l[f]:p)},i=V.find(n=>n.code===a)||V[0];return{language:a,setLanguage:()=>{},t:s,currentLanguage:i,languages:V}}function Vr(){const{t:e}=he();return e}const pr="modulepreload",mr=function(e){return"/"+e},$e={},j=function(r,a,s){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=Promise.allSettled(a.map(m=>{if(m=mr(m),m in $e)return;$e[m]=!0;const p=m.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":pr,p||(w.as="script"),w.crossOrigin="",w.href=m,u&&w.setAttribute("nonce",u),document.head.appendChild(w),p)return new Promise((x,D)=>{w.addEventListener("load",x),w.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${m}`)))})}))}function n(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&n(u.reason);return r().catch(n)})},hr={};function gr(e,r){let a;try{a=e()}catch{return}return{getItem:i=>{var n;const l=m=>m===null?null:JSON.parse(m,void 0),u=(n=a.getItem(i))!=null?n:null;return u instanceof Promise?u.then(l):l(u)},setItem:(i,n)=>a.setItem(i,JSON.stringify(n,void 0)),removeItem:i=>a.removeItem(i)}}const X=e=>r=>{try{const a=e(r);return a instanceof Promise?a:{then(s){return X(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return X(s)(a)}}}},fr=(e,r)=>(a,s,i)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,k)=>({...k,...y}),...r},l=!1;const u=new Set,m=new Set;let p;try{p=n.getStorage()}catch{}if(!p)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...y)},s,i);const f=X(n.serialize),w=()=>{const y=n.partialize({...s()});let k;const v=f({state:y,version:n.version}).then(A=>p.setItem(n.name,A)).catch(A=>{k=A});if(k)throw k;return v},x=i.setState;i.setState=(y,k)=>{x(y,k),w()};const D=e((...y)=>{a(...y),w()},s,i);let N;const b=()=>{var y;if(!p)return;l=!1,u.forEach(v=>v(s()));const k=((y=n.onRehydrateStorage)==null?void 0:y.call(n,s()))||void 0;return X(p.getItem.bind(p))(n.name).then(v=>{if(v)return n.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==n.version){if(n.migrate)return n.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var A;return N=n.merge(v,(A=s())!=null?A:D),a(N,!0),w()}).then(()=>{k?.(N,void 0),l=!0,m.forEach(v=>v(N))}).catch(v=>{k?.(void 0,v)})};return i.persist={setOptions:y=>{n={...n,...y},y.getStorage&&(p=y.getStorage())},clearStorage:()=>{p?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>b(),hasHydrated:()=>l,onHydrate:y=>(u.add(y),()=>{u.delete(y)}),onFinishHydration:y=>(m.add(y),()=>{m.delete(y)})},b(),N||D},vr=(e,r)=>(a,s,i)=>{let n={storage:gr(()=>localStorage),partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...r},l=!1;const u=new Set,m=new Set;let p=n.storage;if(!p)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...b)},s,i);const f=()=>{const b=n.partialize({...s()});return p.setItem(n.name,{state:b,version:n.version})},w=i.setState;i.setState=(b,y)=>{w(b,y),f()};const x=e((...b)=>{a(...b),f()},s,i);i.getInitialState=()=>x;let D;const N=()=>{var b,y;if(!p)return;l=!1,u.forEach(v=>{var A;return v((A=s())!=null?A:x)});const k=((y=n.onRehydrateStorage)==null?void 0:y.call(n,(b=s())!=null?b:x))||void 0;return X(p.getItem.bind(p))(n.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==n.version){if(n.migrate)return[!0,n.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var A;const[te,fe]=v;if(D=n.merge(fe,(A=s())!=null?A:x),a(D,!0),te)return f()}).then(()=>{k?.(D,void 0),D=s(),l=!0,m.forEach(v=>v(D))}).catch(v=>{k?.(void 0,v)})};return i.persist={setOptions:b=>{n={...n,...b},b.storage&&(p=b.storage)},clearStorage:()=>{p?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>N(),hasHydrated:()=>l,onHydrate:b=>(u.add(b),()=>{u.delete(b)}),onFinishHydration:b=>(m.add(b),()=>{m.delete(b)})},n.skipHydration||N(),D||x},yr=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((hr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),fr(e,r)):vr(e,r),He=yr,br="/api",$=new Map,nt=3e4,I=new Map,ct=(e,r)=>`${e}:${JSON.stringify(r||{})}`,lt=(e,r)=>{const a=$.get(e),s=r??a?.ttl??nt;return a&&Date.now()-a.timestamp<s?a.data:($.delete(e),null)},dt=(e,r,a)=>{if($.set(e,{data:r,ttl:a,timestamp:Date.now()}),$.size>100){const s=$.keys().next().value;$.delete(s)}},o=ot.create({baseURL:br,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:3e4}),xr=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}`},jr=e=>{const r=String(e||"");return r.includes("/auth/login")||r.includes("/auth/reset-password")||r.includes("/auth/forgot-password")||r.includes("/auth/change-password")};o.interceptors.request.use(e=>(e.metadata={startTime:Date.now(),requestId:xr()},e),e=>Promise.reject(e));const Gr={getAll:e=>o.get("/trainings",{params:e}),getById:e=>o.get(`/trainings/${e}`),getPhoto:e=>o.get(`/trainings/${e}/photo`,{responseType:"blob"}),create:e=>{const r=new FormData;return Object.keys(e).forEach(a=>{const s=e[a];s!=null&&s!==""&&(typeof s=="boolean"?r.append(a,s?"1":"0"):r.append(a,s))}),o.post("/trainings",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const a=new FormData;return a.append("_method","PUT"),Object.keys(r).forEach(s=>{const i=r[s];i!=null&&i!==""&&a.append(s,i)}),o.post(`/trainings/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/trainings/${e}`)},Kr={getAll:e=>o.get("/worker-trainings",{params:e}),getOtherLabels:e=>o.get("/worker-trainings/other-labels",{params:e}),getById:e=>o.get(`/worker-trainings/${e}`),create:e=>{const r=new FormData;return Object.keys(e).forEach(a=>{const s=e[a];s!=null&&s!==""&&r.append(a,s)}),o.post("/worker-trainings",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const a=new FormData;return a.append("_method","PUT"),Object.keys(r).forEach(s=>{const i=r[s];i!=null&&i!==""&&a.append(s,i)}),o.post(`/worker-trainings/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/worker-trainings/${e}`)},Yr={getAll:e=>o.get("/worker-qualifications",{params:e}),getById:e=>o.get(`/worker-qualifications/${e}`),create:e=>{const r=new FormData;return Object.keys(e).forEach(a=>{const s=e[a];s!=null&&s!==""&&r.append(a,s)}),o.post("/worker-qualifications",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const a=new FormData;return a.append("_method","PUT"),Object.keys(r).forEach(s=>{const i=r[s];i!=null&&i!==""&&a.append(s,i)}),o.post(`/worker-qualifications/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/worker-qualifications/${e}`)},Jr={getAll:e=>o.get("/worker-medical-aptitudes",{params:e}),getById:e=>o.get(`/worker-medical-aptitudes/${e}`),create:e=>{const r=new FormData;return Object.keys(e).forEach(a=>{const s=e[a];if(s!=null&&s!==""){if(a==="able_to"&&Array.isArray(s)){s.forEach(i=>{i!=null&&String(i).trim()!==""&&r.append("able_to[]",i)});return}r.append(a,s)}}),o.post("/worker-medical-aptitudes",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const a=new FormData;return a.append("_method","PUT"),Object.keys(r).forEach(s=>{const i=r[s];if(i!=null&&i!==""){if(s==="able_to"&&Array.isArray(i)){i.forEach(n=>{n!=null&&String(n).trim()!==""&&a.append("able_to[]",n)});return}a.append(s,i)}}),o.post(`/worker-medical-aptitudes/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/worker-medical-aptitudes/${e}`)},Zr={getAll:e=>o.get("/awareness-sessions",{params:e}),getById:e=>o.get(`/awareness-sessions/${e}`),create:e=>o.post("/awareness-sessions",e),update:(e,r)=>o.put(`/awareness-sessions/${e}`,r),delete:e=>o.delete(`/awareness-sessions/${e}`)};o.interceptors.response.use(e=>(e.config.metadata&&Date.now()-e.config.metadata.startTime,e),e=>{if(ot.isCancel?.(e)||e?.code==="ERR_CANCELED"||e?.name==="CanceledError"||e?.name==="AbortError")return Promise.reject(e);const{response:a,config:s}=e;try{const i=String(s?.method||"GET").toUpperCase(),n=String(s?.url||""),l=s?.metadata?.requestId,u=a?.status,m={requestId:l,method:i,url:n,params:s?.params};jr(n)||(m.data=s?.data);const p=a?{status:a.status,statusText:a.statusText,data:a.data}:null;console.groupCollapsed(`[API] ${i} ${n} -> ${u??"NO_RESPONSE"}`),console.log("request",m),p&&console.log("response",p),console.error(e),console.groupEnd()}catch(i){console.error("[API] Failed to log error",i)}if(a)switch(a.status){case 401:localStorage.removeItem("hse-auth-storage"),window.location.href="/login";break;case 403:O.error("Access denied. You do not have permission to perform this action.");break;case 404:O.error("Resource not found.");break;case 422:break;case 500:console.error("Server error:",a.data),O.error("Server error. Please try again later.");break;case 502:case 503:case 504:O.error("Server is temporarily unavailable. Please try again.");break;default:O.error(a.data?.message||"An error occurred")}else e.code==="ECONNABORTED"?O.error("Request timed out. Please try again."):O.error("Network error. Please check your connection.");return Promise.reject(e)});const _=async(e,r={},a=nt)=>{const s=ct(e,r),i=lt(s,a);if(i)return{data:i,fromCache:!0};if(I.has(s))return I.get(s);const n=o.get(e,{params:r}).then(l=>(dt(s,l.data,a),I.delete(s),l)).catch(l=>{throw I.delete(s),l});return I.set(s,n),n},Qr={login:(e,r)=>o.post("/auth/login",{email:e,password:r}),logout:()=>o.post("/auth/logout"),me:()=>o.get("/auth/me"),forgotPassword:e=>o.post("/auth/forgot-password",{email:e}),resetPassword:e=>o.post("/auth/reset-password",e),updateProfile:e=>o.put("/auth/profile",e),changePassword:e=>o.post("/auth/change-password",e)},Xr={getAdminDashboard:e=>_("/dashboard/admin",e),getUserDashboard:e=>_("/dashboard/user",typeof e=="number"?{year:e}:e||{}),getAccidentCharts:e=>_("/dashboard/charts/accidents",e),getTrainingCharts:e=>_("/dashboard/charts/trainings",e),getInspectionCharts:e=>_("/dashboard/charts/inspections",e),getSorCharts:e=>_("/dashboard/charts/sor",e),getRateCharts:e=>_("/dashboard/charts/rates",e)},eo={getAll:e=>o.get("/users",{params:e}),getById:e=>o.get(`/users/${e}`),create:e=>o.post("/users",e),update:(e,r)=>o.put(`/users/${e}`,r),delete:e=>o.delete(`/users/${e}`),toggleStatus:e=>o.post(`/users/${e}/toggle-status`),assignProjects:(e,r)=>o.post(`/users/${e}/assign-projects`,{project_ids:r}),getStatistics:()=>o.get("/users/statistics"),downloadTemplate:()=>o.get("/users/template",{responseType:"blob"}),bulkImport:e=>o.post("/users/import",e,{headers:{"Content-Type":"multipart/form-data"}})},to={getAll:e=>o.get("/projects",{params:e}),getAllList:async(e={})=>{const r=e.per_page??200,a={...e||{}};delete a.page,delete a.per_page;const s=ct("/projects/allList",{...a,per_page:r}),i=lt(s,6e4);if(i)return i;if(I.has(s))return I.get(s);const n=(async()=>{let l=1;const u=[];let m=!0;for(;m;){const p=await _("/projects",{...a,page:l,per_page:r},6e4),f=p.data?.data??[];Array.isArray(f)&&u.push(...f);const w=p.data?.meta;m=!!w&&l<w.last_page,m&&(l+=1)}return dt(s,u,6e4),I.delete(s),u})().catch(l=>{throw I.delete(s),l});return I.set(s,n),n},getById:e=>o.get(`/projects/${e}`),create:e=>o.post("/projects",e),update:(e,r)=>o.put(`/projects/${e}`,r),delete:e=>o.delete(`/projects/${e}`),getStatistics:()=>o.get("/projects/statistics"),getKpiTrends:(e,r)=>o.get(`/projects/${e}/kpi-trends`,{params:{months:r}}),getPoles:e=>_("/projects/poles",e??{},3e5),downloadTemplate:()=>o.get("/projects/template",{responseType:"blob"}),bulkImport:e=>o.post("/projects/import",e,{headers:{"Content-Type":"multipart/form-data"}}),getTeam:e=>o.get(`/projects/${e}/team`),getAvailableOfficers:e=>o.get(`/projects/${e}/team/available`),addTeamMember:(e,r)=>o.post(`/projects/${e}/team`,{user_id:r}),addTeamMembers:(e,r)=>o.post(`/projects/${e}/team/bulk`,{user_ids:r}),downloadTeamTemplate:e=>o.get(`/projects/${e}/team/template`,{responseType:"blob"}),importTeam:(e,r)=>o.post(`/projects/${e}/team/import`,r,{headers:{"Content-Type":"multipart/form-data"}}),removeTeamMember:(e,r)=>o.delete(`/projects/${e}/team/${r}`),getMembers:e=>o.get(`/projects/${e}/members`),createMember:(e,r)=>o.post(`/projects/${e}/members/create`,r),updateMember:(e,r,a)=>o.put(`/projects/${e}/members/${r}`,a),removeMember:(e,r)=>o.delete(`/projects/${e}/members/${r}`),getZones:e=>o.get(`/projects/${e}/zones`),updateZones:(e,r)=>o.put(`/projects/${e}/zones`,{zones:r}),addZone:(e,r)=>o.post(`/projects/${e}/zones/add`,{zone:r}),removeZone:(e,r)=>o.post(`/projects/${e}/zones/remove`,{zone:r})},ro={getDocumentKeys:()=>o.get("/heavy-machinery/document-keys"),getMachineTypes:()=>o.get("/heavy-machinery/machine-types"),downloadMachinesTemplate:()=>o.get("/heavy-machinery/machines/template",{responseType:"blob"}),importMachines:e=>o.post("/heavy-machinery/machines/import",e,{headers:{"Content-Type":"multipart/form-data"}}),getMachines:e=>o.get("/heavy-machinery/machines",{params:e}),getMachine:e=>o.get(`/heavy-machinery/machines/${e}`),createMachine:e=>o.post("/heavy-machinery/machines",e,{headers:{"Content-Type":"multipart/form-data"}}),updateMachine:(e,r)=>o.put(`/heavy-machinery/machines/${e}`,r),deleteMachine:e=>o.delete(`/heavy-machinery/machines/${e}`),transferMachine:(e,r)=>o.post(`/heavy-machinery/machines/${e}/transfer`,{project_id:r}),uploadMachineImage:(e,r)=>o.post(`/heavy-machinery/machines/${e}/image`,r,{headers:{"Content-Type":"multipart/form-data"}}),upsertDocument:(e,r)=>o.post(`/heavy-machinery/machines/${e}/documents`,r,{headers:{"Content-Type":"multipart/form-data"}}),updateDocument:(e,r,a)=>(a instanceof FormData&&a.append("_method","PUT"),o.post(`/heavy-machinery/machines/${e}/documents/${r}`,a,{headers:{"Content-Type":"multipart/form-data"}})),deleteDocument:(e,r)=>o.delete(`/heavy-machinery/machines/${e}/documents/${r}`),upsertInspection:(e,r)=>o.post(`/heavy-machinery/machines/${e}/inspections`,r,{headers:{"Content-Type":"multipart/form-data"}}),deleteInspection:(e,r)=>o.delete(`/heavy-machinery/machines/${e}/inspections/${r}`),searchWorkers:e=>o.get("/heavy-machinery/workers/search",{params:e}),addOperator:(e,r)=>o.post(`/heavy-machinery/machines/${e}/operators`,{worker_id:r}),removeOperator:(e,r)=>o.delete(`/heavy-machinery/machines/${e}/operators/${r}`),globalSearch:e=>o.get("/heavy-machinery/global-search",{params:{query:e}}),expiredDocumentation:e=>o.get("/heavy-machinery/reports/expired-documentation",{params:e})},oo={getAll:e=>o.get("/kpi-reports",{params:e}),getById:e=>o.get(`/kpi-reports/${e}`),create:e=>o.post("/kpi-reports",e),update:(e,r)=>o.put(`/kpi-reports/${e}`,r),delete:e=>o.delete(`/kpi-reports/${e}`),approve:e=>o.post(`/kpi-reports/${e}/approve`),reject:(e,r)=>o.post(`/kpi-reports/${e}/reject`,{reason:r}),getAutoPopulatedData:e=>o.get("/kpi-reports/auto-populate",{params:e})},Y={getAll:e=>o.get("/notifications",{params:e}),getUnreadCount:e=>_("/notifications/unread-count",e??{},15e3),markAsRead:e=>o.post(`/notifications/${e}/mark-read`),markAllAsRead:e=>o.post("/notifications/mark-all-read",e),delete:e=>o.delete(`/notifications/${e}`),deleteRead:()=>o.post("/notifications/delete-read"),send:e=>o.post("/notifications/send",e)},ao={exportExcel:e=>o.get("/export/excel",{params:e,responseType:"blob"}),exportPdf:e=>o.get("/export/pdf",{params:e,responseType:"blob"}),exportProjectReport:(e,r)=>o.get(`/export/project/${e}`,{params:r,responseType:"blob"}),exportInspections:e=>o.get("/inspections/export",{params:e,responseType:"blob"}),exportDeviations:e=>o.get("/sor-reports/export",{params:e,responseType:"blob"}),exportAwareness:e=>o.get("/awareness-sessions/export",{params:e,responseType:"blob"}),exportTrainings:e=>o.get("/trainings/export",{params:e,responseType:"blob"}),exportKpiHistory:e=>o.get("/kpi-reports/export",{params:e,responseType:"blob"}),exportHseWeekly:e=>o.get("/export/hse-weekly",{params:e,responseType:"blob"})},so={getAll:e=>o.get("/sor-reports",{params:e}),getById:e=>o.get(`/sor-reports/${e}`),getPinned:()=>o.get("/sor-reports/pinned"),create:e=>{const r=new FormData;return Object.keys(e).forEach(a=>{const s=e[a];s!=null&&s!==""&&(typeof s=="boolean"?r.append(a,s?"1":"0"):r.append(a,s))}),o.post("/sor-reports",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const a=new FormData;return a.append("_method","PUT"),Object.keys(r).forEach(s=>{const i=r[s];i!=null&&i!==""&&a.append(s,i)}),o.post(`/sor-reports/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})},submitCorrectiveAction:(e,r)=>{const a=new FormData;return Object.keys(r).forEach(s=>{r[s]!==null&&r[s]!==void 0&&r[s]!==""&&a.append(s,r[s])}),o.post(`/sor-reports/${e}/corrective-action`,a,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/sor-reports/${e}`),getCategories:()=>o.get("/sor-reports/categories"),getStatistics:e=>o.get("/sor-reports/statistics",{params:e})},io={getAll:e=>o.get("/work-permits",{params:e}),getById:e=>o.get(`/work-permits/${e}`),create:e=>o.post("/work-permits",e),update:(e,r)=>o.put(`/work-permits/${e}`,r),delete:e=>o.delete(`/work-permits/${e}`),restore:e=>o.post(`/work-permits/${e}/restore`),getWeekInfo:e=>o.get("/work-permits/week-info",{params:e}),getWeekPermits:e=>o.get("/work-permits/week-permits",{params:e}),copyFromPrevious:e=>o.post("/work-permits/copy-from-previous",e),reinitializeNumbers:e=>o.post("/work-permits/reinitialize-numbers",e),launchWeek:e=>o.post("/work-permits/launch-week",e),export:e=>o.get("/work-permits/export",{params:e,responseType:"blob"}),getArchived:e=>o.get("/work-permits",{params:{...e,only_archived:!0}})},no={getAll:e=>o.get("/daily-kpi",{params:e}),getById:e=>o.get(`/daily-kpi/${e}`),create:e=>o.post("/daily-kpi",e),update:(e,r)=>o.put(`/daily-kpi/${e}`,r),delete:e=>o.delete(`/daily-kpi/${e}`),getWeekDates:e=>o.get("/daily-kpi/week-dates",{params:e}),getWeekAggregates:e=>o.get("/daily-kpi/week-aggregates",{params:e}),getAutoFillValues:e=>o.get("/daily-kpi/auto-fill",{params:e}),downloadTemplate:e=>o.get("/daily-kpi/download-template",{params:e,responseType:"blob"}),parseTemplate:e=>o.post("/daily-kpi/parse-template",e,{headers:{"Content-Type":"multipart/form-data"}}),bulkSave:e=>o.post("/daily-kpi/bulk-save",e)},co={getAll:e=>o.get("/inspections",{params:e}),getById:e=>o.get(`/inspections/${e}`),create:e=>o.post("/inspections",e),update:(e,r)=>o.put(`/inspections/${e}`,r),delete:e=>o.delete(`/inspections/${e}`),getStatistics:e=>o.get("/inspections/statistics",{params:e}),getWeekCount:e=>o.get("/inspections/week-count",{params:e})},lo={getAll:e=>o.get("/regulatory-watch",{params:e}),getLatest:e=>o.get("/regulatory-watch/latest",{params:e}),getById:e=>o.get(`/regulatory-watch/${e}`),submit:e=>o.post("/regulatory-watch",e)},uo={getAll:(e,r={})=>o.get("/workers",{...r,params:e}),getById:(e,r={})=>o.get(`/workers/${e}`,{...r}),create:(e,r={})=>o.post("/workers",e,r),update:(e,r,a={})=>o.put(`/workers/${e}`,r,a),delete:(e,r={})=>o.delete(`/workers/${e}`,{...r}),getStatistics:(e,r={})=>o.get("/workers/statistics",{...r,params:e}),getEntreprises:()=>_("/workers/entreprises",{},3e5),getFonctions:()=>_("/workers/fonctions",{},3e5),downloadTemplate:()=>o.get("/workers/template",{responseType:"blob"}),export:e=>o.get("/workers/export",{params:e,responseType:"blob"}),import:e=>o.post("/workers/import",e,{headers:{"Content-Type":"multipart/form-data"}}),bulkDeactivate:e=>o.post("/workers/bulk-deactivate",{worker_ids:e}),bulkActivate:e=>o.post("/workers/bulk-activate",{worker_ids:e})},po={getItems:e=>o.get("/ppe/items",{params:e}),upsertItem:e=>o.post("/ppe/items",e),deleteItem:e=>o.delete(`/ppe/items/${e}`),restock:e=>o.post("/ppe/restock",e),issueToWorker:e=>o.post("/ppe/issue",e),getIssues:e=>o.get("/ppe/issues",{params:e}),getWorkerIssues:e=>o.get(`/ppe/workers/${e}/issues`)},mo={getAll:e=>o.get("/subcontractor-openings",{params:e}),getById:e=>o.get(`/subcontractor-openings/${e}`),create:e=>o.post("/subcontractor-openings",e),update:(e,r)=>o.put(`/subcontractor-openings/${e}`,r),delete:e=>o.delete(`/subcontractor-openings/${e}`),uploadDocument:(e,r)=>{const a=new FormData;return Object.keys(r).forEach(s=>{const i=r[s];i!=null&&i!==""&&a.append(s,i)}),o.post(`/subcontractor-openings/${e}/documents`,a,{headers:{"Content-Type":"multipart/form-data"}})}},ee=Oe(He((e,r)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:async(a,s)=>{e({isLoading:!0});try{const i=await o.post("/auth/login",{email:a,password:s}),{user:n,token:l}=i.data.data;return e({user:n,token:l,isAuthenticated:!0,isLoading:!1}),o.defaults.headers.common.Authorization=`Bearer ${l}`,{success:!0,user:n}}catch(i){throw e({isLoading:!1}),i}},logout:async()=>{try{await o.post("/auth/logout")}catch(a){console.error("Logout error:",a)}finally{e({user:null,token:null,isAuthenticated:!1}),delete o.defaults.headers.common.Authorization}},fetchUser:async()=>{const{token:a}=r();if(a)try{o.defaults.headers.common.Authorization=`Bearer ${a}`;const s=await o.get("/auth/me");e({user:s.data.data,isAuthenticated:!0})}catch{e({user:null,token:null,isAuthenticated:!1}),delete o.defaults.headers.common.Authorization}},updateProfile:async a=>{const s=await o.put("/auth/profile",a);return e({user:s.data.data}),s.data},changePassword:async(a,s,i)=>{const n=await o.post("/auth/change-password",{current_password:a,password:s,password_confirmation:i}),{user:l}=r();return l&&e({user:{...l,must_change_password:!1}}),n.data},isAdmin:()=>{const{user:a}=r();return a?.role==="admin"},initializeAuth:()=>{const{token:a,fetchUser:s}=r();a&&(o.defaults.headers.common.Authorization=`Bearer ${a}`,s())}}),{name:"hse-auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated}),onRehydrateStorage:()=>e=>{e?.token&&(o.defaults.headers.common.Authorization=`Bearer ${e.token}`,e.fetchUser())}})),H={ALL:"all",ASSIGNED:"assigned"},wr="hse_manager",ge=Oe(He((e,r)=>({simulatedRole:null,projectScope:H.ALL,setSimulatedRole:a=>e({simulatedRole:a||null}),clearSimulatedRole:()=>e({simulatedRole:null}),setProjectScope:a=>{const s=a===H.ASSIGNED?H.ASSIGNED:H.ALL;e({projectScope:s})},resetDevTools:()=>e({simulatedRole:wr,projectScope:H.ALL})}),{name:"hse-dev-tools",partialize:e=>({simulatedRole:e.simulatedRole,projectScope:e.projectScope})})),qe=Oe(He((e,r)=>({isDark:!1,toggleTheme:()=>{const a=!r().isDark;e({isDark:a}),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setTheme:a=>{e({isDark:a}),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},initTheme:()=>{r().isDark?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),{name:"theme-storage"})),Pr=(e,r="fr")=>{const a=e?.toString()??"";let s="500",i=Ie,n="text-red-500",l="from-red-500 to-red-600",u=r==="fr"?"Erreur Inattendue":"Unexpected Error",m=r==="fr"?"Une erreur s'est produite. Veuillez réessayer ou contacter l'administrateur.":"An error occurred. Please try again or contact the administrator.";return a.includes("403")||a.includes("Forbidden")?(s="403",i=Ht,n="text-orange-500",l="from-orange-500 to-orange-600",u=r==="fr"?"Accès Refusé":"Access Denied",m=r==="fr"?"Vous n'avez pas les permissions nécessaires pour accéder à cette ressource.":"You don't have permission to access this resource."):(a.includes("Network")||a.includes("fetch"))&&(s="NET",i=qt,n="text-blue-500",l="from-blue-500 to-blue-600",u=r==="fr"?"Connexion Perdue":"Connection Lost",m=r==="fr"?"Impossible de contacter le serveur. Vérifiez votre connexion internet.":"Unable to reach the server. Check your internet connection."),{errorCode:s,icon:i,iconColor:n,bgColor:l,title:u,description:m}};class Sr extends h.Component{constructor(a){super(a);xe(this,"handleReload",()=>{window.location.reload()});xe(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,s){this.setState({errorInfo:s});const i=this.props?.context,n=this.props?.name||"ErrorBoundary";try{console.groupCollapsed(`[${n}] React render error`),i&&console.log("context",i),console.error(a),console.log("componentStack",s?.componentStack),console.groupEnd()}catch(l){console.error("Error caught by boundary:",a,s,i,l)}}render(){if(this.state.hasError){const a=localStorage.getItem("hse-kpi-language")||"fr",{errorCode:s,icon:i,bgColor:n,title:l,description:u}=Pr(this.state.error,a);return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-950 flex items-center justify-center p-6",children:t.jsxs("div",{className:"text-center max-w-md mx-auto",children:[t.jsxs("div",{className:"relative inline-flex items-center justify-center mb-8",children:[t.jsx("div",{className:"absolute w-32 h-32 rounded-full bg-red-100 dark:bg-red-900/20 animate-ping opacity-20"}),t.jsx("div",{className:`relative w-24 h-24 rounded-2xl bg-gradient-to-br ${n} shadow-2xl flex items-center justify-center`,children:t.jsx(i,{className:"w-12 h-12 text-white",strokeWidth:1.5})})]}),t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-red-100 dark:bg-red-900/40 rounded-full mb-4",children:[t.jsx(z,{className:"w-3.5 h-3.5 text-red-600 dark:text-red-400"}),t.jsxs("span",{className:"text-xs font-semibold text-red-700 dark:text-red-300 uppercase tracking-wide",children:[a==="fr"?"Erreur":"Error"," ",s]})]}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:l}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:u}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[t.jsxs("button",{onClick:this.handleReload,className:"group w-full sm:w-auto px-6 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl font-medium text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600 hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(Lt,{className:"w-4 h-4 group-hover:rotate-180 transition-transform duration-500"}),a==="fr"?"Réessayer":"Try Again"]}),t.jsxs("button",{onClick:this.handleGoHome,className:`w-full sm:w-auto px-6 py-3 bg-gradient-to-r ${n} rounded-xl font-medium text-white shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2`,children:[t.jsx(Ot,{className:"w-4 h-4"}),a==="fr"?"Accueil":"Home"]})]}),this.state.error&&t.jsxs("details",{className:"mt-10 text-left",children:[t.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 text-center",children:a==="fr"?"Détails techniques":"Technical details"}),t.jsxs("pre",{className:"mt-3 p-4 bg-gray-900 text-red-400 text-xs rounded-lg overflow-x-auto max-h-32 overflow-y-auto",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]})]})})}return this.props.children}}const Le="/assets/App_Logo.png",Ve="/assets/SGTM_Logo.jpg",Ge="/assets/login-background.jpg";function ut({variant:e="default"}){const{language:r,setLanguage:a,currentLanguage:s,languages:i}=he(),[n,l]=h.useState(!1),u=h.useRef(null);h.useEffect(()=>{function p(f){u.current&&!u.current.contains(f.target)&&l(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const m=p=>{a(p),l(!1)};return e==="compact"?t.jsxs("div",{className:"relative",ref:u,children:[t.jsxs("button",{onClick:()=>l(!n),className:"flex items-center gap-1 px-2 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:s.name,children:[t.jsx("span",{className:"text-lg",children:s.flag}),t.jsx(Q,{className:`w-3 h-3 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute right-0 mt-1 w-36 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50",children:i.map(p=>t.jsxs("button",{onClick:()=>m(p.code),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${r===p.code?"text-hse-primary bg-hse-primary/5":"text-gray-700 dark:text-gray-300"}`,children:[t.jsx("span",{className:"text-lg",children:p.flag}),t.jsx("span",{className:"flex-1 text-left",children:p.name}),r===p.code&&t.jsx(Ue,{className:"w-4 h-4"})]},p.code))})]}):t.jsxs("div",{className:"relative",ref:u,children:[t.jsxs("button",{onClick:()=>l(!n),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[t.jsx(zt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-lg",children:s.flag}),t.jsx("span",{children:s.name}),t.jsx(Q,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute right-0 mt-2 w-44 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50",children:i.map(p=>t.jsxs("button",{onClick:()=>m(p.code),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${r===p.code?"text-hse-primary bg-hse-primary/5":"text-gray-700 dark:text-gray-300"}`,children:[t.jsx("span",{className:"text-xl",children:p.flag}),t.jsx("span",{className:"flex-1 text-left font-medium",children:p.name}),r===p.code&&t.jsx(Ue,{className:"w-4 h-4"})]},p.code))})]})}function kr(){const{t:e}=he(),{isDark:r,toggleTheme:a}=qe(),[s,i]=h.useState({hse_compliance:0,training_hours:0,fatal_accidents:0,year:new Date().getFullYear()});return h.useEffect(()=>{if(!(typeof window<"u"&&window.matchMedia&&window.matchMedia("(min-width: 1024px)").matches))return;const l=document.createElement("link");l.rel="preload",l.as="image",l.href=Ge,l.setAttribute("fetchpriority","high"),document.head.appendChild(l);const u=document.createElement("link");u.rel="preload",u.as="image",u.href=Le,u.setAttribute("fetchpriority","high"),document.head.appendChild(u);const m=document.createElement("link");return m.rel="preload",m.as="image",m.href=Ve,m.setAttribute("fetchpriority","high"),document.head.appendChild(m),()=>{l.parentNode&&l.parentNode.removeChild(l),u.parentNode&&u.parentNode.removeChild(u),m.parentNode&&m.parentNode.removeChild(m)}},[]),h.useEffect(()=>{(async()=>{try{const l=await o.get("/public-stats");l.data?.data&&i(l.data.data)}catch{console.log("Could not fetch public stats")}})()},[]),t.jsxs("div",{className:"min-h-screen flex",children:[t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-sgtm-gray relative overflow-hidden",style:{backgroundImage:`url(${Ge})`,backgroundSize:"cover",backgroundPosition:"center"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sgtm-gray-dark/70 to-sgtm-gray/90"}),t.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 text-white",children:[t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("img",{src:Le,alt:e("auth.appLogoAlt"),className:"w-24 h-24 object-contain"}),t.jsx("span",{className:"text-4xl text-white/40 font-light",children:"/"}),t.jsx("img",{src:Ve,alt:e("auth.companyLogoAlt"),className:"w-24 h-24 object-contain"})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-4xl font-bold leading-tight",children:[e("auth.tagline.line1"),t.jsx("br",{}),e("auth.tagline.line2")]}),t.jsx("p",{className:"mt-4 text-lg text-white/80 max-w-md",children:e("auth.description")})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("div",{className:"text-3xl font-bold",children:s.hse_compliance!=null?`${s.hse_compliance}%`:""}),t.jsx("div",{className:"text-sm text-white/70",children:e("auth.publicStats.hseCompliance")})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("div",{className:"text-3xl font-bold",children:s.training_hours!=null?s.training_hours.toLocaleString():""}),t.jsx("div",{className:"text-sm text-white/70",children:e("auth.publicStats.trainingHours")})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("div",{className:"text-3xl font-bold",children:s.fatal_accidents}),t.jsx("div",{className:"text-sm text-white/70",children:e("auth.publicStats.fatalAccidents",{year:s.year})})]})]})]}),t.jsxs("div",{className:"text-sm text-white/60",children:["© ",new Date().getFullYear()," ",e("common.companyName"),"."]})]}),t.jsx("div",{className:"absolute -bottom-20 -right-20 w-96 h-96 bg-white/5 rounded-full"}),t.jsx("div",{className:"absolute top-20 -right-10 w-64 h-64 bg-white/5 rounded-full"})]}),t.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 bg-gray-50 dark:bg-gray-900 relative",children:[t.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[t.jsx(ut,{}),t.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-all border border-gray-200 dark:border-gray-700",title:e(r?"common.lightMode":"common.darkMode"),children:r?t.jsx(tt,{className:"w-5 h-5 text-yellow-500"}):t.jsx(rt,{className:"w-5 h-5 text-gray-600"})})]}),t.jsx("main",{id:"main-content",className:"w-full max-w-md pt-12","aria-label":e("auth.login"),children:t.jsx(et,{})})]})]})}function F(){const[e,r]=h.useState(!1),[a,s]=h.useState(!1),[i,n]=h.useState(!1),[l,u]=h.useState(!1),[m,p]=h.useState(0),[f,w]=h.useState([]),{user:x,logout:D,isAdmin:N}=ee(),{simulatedRole:b,setSimulatedRole:y,clearSimulatedRole:k,projectScope:v,setProjectScope:A}=ge(),{isDark:te,toggleTheme:fe}=qe(),{t:d}=he(),R=It(),ve=pe(),mt=N(),ze=x?.role==="dev",T=ze&&b?b:x?.role,ht=["admin","pole_director","works_director","hse_director","hr_director"],G=mt||x?.role==="dev"&&!b||ht.includes(T),We=ve.pathname.startsWith("/admin");h.useEffect(()=>{if(!x)return;const g=async()=>{try{const E=await Y.getUnreadCount();p(E.data?.data?.count??0)}catch(E){E.response?.status!==403&&E.response?.status!==401&&console.error("Error fetching notifications:",E)}};g();const P=setInterval(g,3e4);return()=>clearInterval(P)},[x]),h.useEffect(()=>{if(!x||!i)return;(async()=>{try{const P=await Y.getAll({per_page:5});w(P.data?.data??[]);const E=await Y.getUnreadCount();p(E.data?.data?.count??0)}catch(P){P.response?.status!==403&&P.response?.status!==401&&console.error("Error fetching notifications:",P)}})()},[i,x]);const gt=async()=>{await D(),R("/login")},ft=g=>{const P={kpi_submitted:{icon:je,color:"text-blue-500",bg:"bg-blue-100 dark:bg-blue-900/30"},kpi_approved:{icon:ke,color:"text-green-500",bg:"bg-green-100 dark:bg-green-900/30"},kpi_rejected:{icon:Ie,color:"text-red-500",bg:"bg-red-100 dark:bg-red-900/30"},project_assigned:{icon:Xt,color:"text-purple-500",bg:"bg-purple-100 dark:bg-purple-900/30"},sor_submitted:{icon:z,color:"text-orange-500",bg:"bg-orange-100 dark:bg-orange-900/30"},sor_corrected:{icon:ke,color:"text-green-500",bg:"bg-green-100 dark:bg-green-900/30"},training_submitted:{icon:Qt,color:"text-indigo-500",bg:"bg-indigo-100 dark:bg-indigo-900/30"},awareness_submitted:{icon:q,color:"text-teal-500",bg:"bg-teal-100 dark:bg-teal-900/30"},worker_training_expiring:{icon:L,color:"text-amber-500",bg:"bg-amber-100 dark:bg-amber-900/30"},worker_training_expired:{icon:L,color:"text-red-500",bg:"bg-red-100 dark:bg-red-900/30"},reminder:{icon:Zt,color:"text-yellow-500",bg:"bg-yellow-100 dark:bg-yellow-900/30"},system:{icon:Jt,color:"text-gray-500",bg:"bg-gray-100 dark:bg-gray-700"},info:{icon:Se,color:"text-blue-500",bg:"bg-blue-100 dark:bg-blue-900/30"},warning:{icon:z,color:"text-yellow-500",bg:"bg-yellow-100 dark:bg-yellow-900/30"},success:{icon:ke,color:"text-green-500",bg:"bg-green-100 dark:bg-green-900/30"},error:{icon:Ie,color:"text-red-500",bg:"bg-red-100 dark:bg-red-900/30"}};return P[g]||P.info},vt=async g=>{if(!g.read_at)try{await Y.markAsRead(g.id),p(P=>Math.max(0,P-1)),w(P=>P.map(E=>E.id===g.id?{...E,read_at:new Date().toISOString()}:E))}catch(P){console.error("Error marking notification as read:",P)}if(n(!1),g.action_url){R(g.action_url);return}switch(g.type){case"kpi_approved":case"kpi_rejected":case"kpi_submitted":R(G?"/admin/kpi":"/kpi/history");break;case"project_assigned":R(G?"/admin/projects":"/my-projects");break;case"sor_submitted":case"sor_corrected":R(bt?"/sor":"/user/sor");break;case"training_submitted":R("/training");break;case"awareness_submitted":R("/awareness");break}},yt=async()=>{try{await Y.markAllAsRead(),p(0),w(g=>g.map(P=>({...P,read_at:new Date().toISOString()})))}catch(g){console.error("Error marking all as read:",g)}},bt=T==="user",xt=T==="hr",jt=T==="hr_director",wt=[{to:"/admin",icon:oe,label:d("nav.dashboard")},{to:"/admin/users",icon:q,label:d("users.title")},{to:"/admin/projects",icon:K,label:d("projects.title")},{to:"/admin/kpi",icon:je,label:d("kpi.title")},{to:"/admin/kpi-history",icon:we,label:d("kpi.history")},{to:"/admin/training",icon:ae,label:d("training.navLabel")},{to:"/admin/awareness",icon:q,label:d("awareness.navLabel")},{to:"/admin/sor",icon:z,label:d("sor.title")},{to:"/admin/work-permits",icon:se,label:d("workPermits.title")},{to:"/admin/inspections",icon:ie,label:d("inspections.title")},{to:"/admin/regulatory-watch",icon:ne,label:d("regulatoryWatch.nav")},{to:"/admin/workers",icon:L,label:d("workers.title")},{to:"/admin/ppe",icon:U,label:d("ppe.nav")},{to:"/admin/subcontractors",icon:Pe,label:d("subcontractors.title")}],ye=[{to:"/admin",icon:oe,label:d("nav.dashboard")},{to:"/admin/kpi",icon:je,label:d("kpi.title")},{to:"/admin/kpi-history",icon:we,label:d("kpi.history")},{to:"/admin/training",icon:ae,label:d("training.navLabel")},{to:"/admin/awareness",icon:q,label:d("awareness.navLabel")},{to:"/admin/sor",icon:z,label:d("sor.title")},{to:"/admin/work-permits",icon:se,label:d("workPermits.title")},{to:"/admin/inspections",icon:ie,label:d("inspections.title")},{to:"/admin/regulatory-watch",icon:ne,label:d("regulatoryWatch.nav")},{to:"/admin/workers",icon:L,label:d("workers.title")},{to:"/admin/ppe",icon:U,label:d("ppe.nav")},{to:"/admin/subcontractors",icon:Pe,label:d("subcontractors.title")}],Pt=[{to:"/admin",icon:oe,label:d("nav.dashboard")},{to:"/admin/workers",icon:L,label:d("workers.title")},{to:"/admin/ppe",icon:U,label:d("ppe.nav")}],re=[{to:"/dashboard",icon:oe,label:d("nav.dashboard")},{to:"/my-projects",icon:K,label:d("nav.myProjects")},{to:"/kpi/submit",icon:Wt,label:d("kpi.submission")},{to:"/kpi/history",icon:we,label:d("kpi.history")},{to:"/training",icon:ae,label:d("training.navLabel")},{to:"/awareness",icon:q,label:d("awareness.navLabel")},{to:"/work-permits",icon:se,label:d("workPermits.title")},{to:"/inspections",icon:ie,label:d("inspections.title")},{to:"/regulatory-watch",icon:ne,label:d("regulatoryWatch.nav")},{to:"/workers",icon:L,label:d("workers.title")},{to:"/ppe",icon:U,label:d("ppe.nav")},{to:"/subcontractors",icon:Pe,label:d("subcontractors.title")}],St=[{to:"/sor",icon:z,label:d("sor.title")},{to:"/sor/projects",icon:K,label:d("nav.myProjects")},{to:"/sor/awareness",icon:q,label:d("awareness.navLabel")}],kt=[{to:"/supervisor",icon:z,label:d("sor.title")},{to:"/supervisor/projects",icon:K,label:d("nav.myProjects")},{to:"/supervisor/awareness",icon:q,label:d("awareness.navLabel")},{to:"/supervisor/training",icon:ae,label:d("training.navLabel")},{to:"/supervisor/work-permits",icon:se,label:d("workPermits.title")},{to:"/supervisor/inspections",icon:ie,label:d("inspections.title")},{to:"/supervisor/regulatory-watch",icon:ne,label:d("regulatoryWatch.nav")},{to:"/supervisor/workers",icon:L,label:d("workers.title")},{to:"/supervisor/ppe",icon:U,label:d("ppe.nav")}],Tt=[{to:"/hr/workers",icon:L,label:d("workers.title")},{to:"/hr/ppe",icon:U,label:d("ppe.nav")}],At=T==="admin"?wt:T==="pole_director"||T==="works_director"||T==="hse_director"?ye:T==="hr_director"?Pt:T==="user"?St:T==="supervisor"?kt:T==="hr"?Tt:re,Dt=!xt&&!jt,[be,Et]=h.useState(()=>ve.pathname.startsWith("/heavy-machinery"));return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>r(!1)}),t.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>R(G||We?"/admin":"/dashboard"),children:[t.jsx("img",{src:Le,alt:d("common.appName"),className:"h-10 w-10 object-contain rounded-lg"}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-bold text-sgtm-orange",children:d("common.companyName")}),t.jsx("p",{className:"text-xs text-gray-500",children:d("common.appName")})]})]}),t.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",children:t.jsx(Ut,{className:"w-5 h-5"})})]}),t.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto scrollbar-thin",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:d(We?"nav.administration":"nav.dashboard")})}),At.map(g=>t.jsxs(W,{to:g.to,end:g.to==="/admin"||g.to==="/dashboard"||g.to==="/sor",className:({isActive:P})=>P?"sidebar-link-active":"sidebar-link",onClick:()=>r(!1),children:[t.jsx(g.icon,{className:"w-5 h-5"}),t.jsx("span",{children:g.label})]},g.to)),Dt&&t.jsxs("div",{className:"pt-2",children:[t.jsxs("button",{type:"button",onClick:()=>Et(g=>!g),className:be?"sidebar-link-active w-full justify-between":"sidebar-link w-full justify-between",children:[t.jsxs("span",{className:"flex items-center gap-3",children:[t.jsx(Bt,{className:"w-5 h-5"}),t.jsx("span",{children:d("heavyMachinery.title")})]}),t.jsx(Q,{className:be?"w-4 h-4 rotate-180 transition-transform":"w-4 h-4 transition-transform"})]}),be&&t.jsxs("div",{className:"mt-1 ml-4 space-y-1",children:[t.jsx(W,{to:"/heavy-machinery/view-machines",className:({isActive:g})=>g?"sidebar-link-active":"sidebar-link",onClick:()=>r(!1),children:t.jsx("span",{children:d("heavyMachinery.viewMachines.nav")})}),t.jsx(W,{to:"/heavy-machinery/global-search",className:({isActive:g})=>g?"sidebar-link-active":"sidebar-link",onClick:()=>r(!1),children:t.jsx("span",{children:d("heavyMachinery.globalSearch.nav")})}),t.jsx(W,{to:"/heavy-machinery/expired-documentation",className:({isActive:g})=>g?"sidebar-link-active":"sidebar-link",onClick:()=>r(!1),children:t.jsx("span",{children:d("heavyMachinery.expiredDocumentation.nav")})})]})]})]}),t.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:t.jsx("span",{className:"text-xs text-gray-400",children:d(`roles.${T}`)??T})}),t.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 bg-hse-primary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-semibold",children:x?.name?.charAt(0)?.toUpperCase()||"U"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:x?.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:x?.role})]})]})})]})}),t.jsxs("div",{className:"lg:pl-72",children:[t.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center h-16 px-4 sm:px-6",children:[t.jsx("button",{onClick:()=>r(!0),className:"lg:hidden mr-auto p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:t.jsx($t,{className:"w-6 h-6 dark:text-gray-300"})}),t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"flex items-center gap-2",children:[ze&&t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>{u(!l),n(!1),s(!1)},className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:d("devTools.title"),children:[t.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:d("devTools.shortLabel")}),t.jsx(Q,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]}),l&&t.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 animate-fade-in z-50",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:d("devTools.title")}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d("devTools.description")})]}),t.jsxs("div",{className:"px-4 py-3 space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:d("devTools.simulatedRole")}),t.jsxs("select",{value:b??"",onChange:g=>y(g.target.value||null),className:"mt-1 w-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm",children:[t.jsx("option",{value:"",children:d("devTools.none")}),t.jsx("option",{value:"admin",children:"admin"}),t.jsx("option",{value:"hse_manager",children:"hse_manager"}),t.jsx("option",{value:"responsable",children:"responsable"}),t.jsx("option",{value:"supervisor",children:"supervisor"}),t.jsx("option",{value:"user",children:"user"}),t.jsx("option",{value:"hr",children:"hr"}),t.jsx("option",{value:"pole_director",children:"pole_director"}),t.jsx("option",{value:"works_director",children:"works_director"}),t.jsx("option",{value:"hse_director",children:"hse_director"}),t.jsx("option",{value:"hr_director",children:"hr_director"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:d("devTools.projectScope")}),t.jsxs("select",{value:v,onChange:g=>A(g.target.value),className:"mt-1 w-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm",children:[t.jsx("option",{value:H.ALL,children:d("common.allProjects")}),t.jsx("option",{value:H.ASSIGNED,children:d("devTools.assignedOnly")})]})]}),t.jsx("div",{className:"flex items-center justify-end gap-2 pt-1",children:t.jsx("button",{onClick:()=>{k(),A(H.ALL),u(!1)},className:"text-xs font-semibold px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:d("common.reset")})})]})]})]}),t.jsx(ut,{variant:"compact"}),t.jsx("button",{onClick:fe,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:d(te?"common.lightMode":"common.darkMode"),children:te?t.jsx(tt,{className:"w-5 h-5 text-yellow-500"}):t.jsx(rt,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>{n(!i),s(!1),u(!1)},className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[t.jsx(Se,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),m>0&&t.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:m>9?"9+":m})]}),i&&t.jsxs("div",{className:"absolute right-0 mt-2 w-[calc(100vw-2rem)] max-w-96 sm:w-96 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 animate-fade-in z-50",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:d("notifications.title")}),m>0&&t.jsx("button",{onClick:yt,className:"text-xs text-hse-primary hover:underline",children:d("notifications.markAllRead")})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:f.length>0?f.map(g=>{const P=ft(g.type),E=P.icon;return t.jsxs("div",{onClick:()=>vt(g),className:`px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer border-b border-gray-50 dark:border-gray-700/50 last:border-0 flex gap-3 ${g.read_at?"":"bg-blue-50/30 dark:bg-blue-900/10"}`,children:[t.jsx("div",{className:`w-9 h-9 rounded-full ${P.bg} flex items-center justify-center flex-shrink-0`,children:t.jsx(E,{className:`w-4 h-4 ${P.color}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("p",{className:`text-sm ${g.read_at?"font-medium":"font-semibold"} text-gray-900 dark:text-gray-100 line-clamp-1`,children:g.title}),!g.read_at&&t.jsx("span",{className:"w-2 h-2 bg-hse-primary rounded-full flex-shrink-0 mt-1.5"})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-2",children:g.message}),g.project&&t.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 flex items-center gap-1",children:[t.jsx(K,{className:"w-3 h-3"}),g.project.name]}),t.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[new Date(g.created_at).toLocaleDateString()," ",new Date(g.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),g.action_url&&t.jsx(Vt,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"})]},g.id)}):t.jsxs("div",{className:"px-4 py-12 text-center",children:[t.jsx(Se,{className:"w-10 h-10 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:d("notifications.noNotifications")})]})}),f.length>0&&t.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700 text-center",children:t.jsx("button",{onClick:()=>{n(!1),R("/notifications")},className:"text-sm text-hse-primary hover:underline",children:d("notifications.viewAll")})})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>{s(!a),n(!1),u(!1)},className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[t.jsx("div",{className:"w-8 h-8 bg-hse-primary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-semibold",children:x?.name?.charAt(0)?.toUpperCase()||"U"})}),t.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 dark:text-gray-300",children:x?.name?.split(" ")[0]}),t.jsx(Q,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]}),a&&t.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 animate-fade-in",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:x?.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:x?.email})]}),t.jsxs("div",{className:"py-1",children:[t.jsxs(W,{to:G?"/admin/profile":"/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>s(!1),children:[t.jsx(Gt,{className:"w-4 h-4"}),d("nav.profile")]}),t.jsxs(W,{to:G?"/admin/profile":"/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>s(!1),children:[t.jsx(Kt,{className:"w-4 h-4"}),d("nav.settings")]})]}),t.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-1",children:t.jsxs("button",{onClick:gt,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[t.jsx(Yt,{className:"w-4 h-4"}),d("auth.signOut")]})})]})]})]})]})}),t.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:t.jsx("div",{className:"animate-fade-in",children:t.jsx(et,{})},ve.pathname)})]}),(a||i||l)&&t.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>{s(!1),n(!1),u(!1)}})]})}const Tr=h.lazy(()=>j(()=>import("./LoginPage.js"),__vite__mapDeps([0,1,2,3]))),Ar=h.lazy(()=>j(()=>import("./ForgotPasswordPage.js"),__vite__mapDeps([4,1,2,3]))),Dr=h.lazy(()=>j(()=>import("./ForceChangePasswordPage.js"),__vite__mapDeps([5,1,2,6,3]))),pt=h.lazy(()=>j(()=>import("./AdminDashboard.js"),__vite__mapDeps([7,1,2,8,9,10,3]))),Er=h.lazy(()=>j(()=>import("./UserManagement.js"),__vite__mapDeps([11,1,12,2,13,14,6,10,3]))),Cr=h.lazy(()=>j(()=>import("./ProjectManagement.js"),__vite__mapDeps([15,1,12,2,16,13,14,17,18,3]))),_r=h.lazy(()=>j(()=>import("./KpiManagement.js"),__vite__mapDeps([19,1,12,2,20,9,10,3]))),Nr=h.lazy(()=>j(()=>import("./UserDashboard.js"),__vite__mapDeps([21,1,2,9,10,3]))),Te=h.lazy(()=>j(()=>import("./MyProjects.js"),__vite__mapDeps([22,1,18,2,3]))),Ae=h.lazy(()=>j(()=>import("./KpiSubmission.js"),__vite__mapDeps([23,1,2,9,14,10,3]))),Ke=h.lazy(()=>j(()=>import("./KpiHistory.js"),__vite__mapDeps([24,1,25,3,12,2,16,13,14,20,10]))),De=h.lazy(()=>j(()=>import("./Training.js"),__vite__mapDeps([26,1,25,3,16,2,14,12,9,10]))),ce=h.lazy(()=>j(()=>import("./SorSubmission.js"),__vite__mapDeps([27,1,10,12,2,16,17,3]))),le=h.lazy(()=>j(()=>import("./ProjectDetails.js"),__vite__mapDeps([28,1,13,12,2,14,6,18,8,3]))),J=h.lazy(()=>j(()=>import("./Profile.js"),__vite__mapDeps([29,1,6,2,3]))),Ir=h.lazy(()=>j(()=>import("./NotFound.js"),__vite__mapDeps([30,1,2,3]))),de=h.lazy(()=>j(()=>import("./AwarenessSession.js"),__vite__mapDeps([31,1,25,3,16,2,14,9,10]))),Ee=h.lazy(()=>j(()=>import("./WorkPermits.js"),__vite__mapDeps([32,1,13,12,2,16,14,10,3]))),Ce=h.lazy(()=>j(()=>import("./Inspections.js"),__vite__mapDeps([33,1,13,12,2,16,14,10,3]))),Z=h.lazy(()=>j(()=>import("./Workers.js"),__vite__mapDeps([34,1,16,2,13,12,14,17,10,3]))),ue=h.lazy(()=>j(()=>import("./PpeManagement.js"),__vite__mapDeps([35,1,12,2,14,16,3]))),Rr=h.lazy(()=>j(()=>import("./Notifications.js"),__vite__mapDeps([36,1,2,3]))),Ye=h.lazy(()=>j(()=>import("./SubcontractorOpenings.js"),__vite__mapDeps([37,1,14,2,12,16,10,3]))),Je=h.lazy(()=>j(()=>import("./SubcontractorOpeningDetails.js"),__vite__mapDeps([38,1,12,2,16,3]))),_e=h.lazy(()=>j(()=>import("./VeilleReglementaireHistory.js"),__vite__mapDeps([39,1,14,2,10,3]))),Ne=h.lazy(()=>j(()=>import("./VeilleReglementaireDetails.js"),__vite__mapDeps([40,1,2,41,3]))),M=h.lazy(()=>j(()=>import("./VeilleReglementaireForm.js"),__vite__mapDeps([42,1,14,2,41,10,3]))),Fr=h.lazy(()=>j(()=>import("./ViewMachines.js"),__vite__mapDeps([43,1,2,14,12,16,10,3]))),Mr=h.lazy(()=>j(()=>import("./GlobalSearch.js"),__vite__mapDeps([44,1,2,12,3]))),Lr=h.lazy(()=>j(()=>import("./ExpiredDocumentation.js"),__vite__mapDeps([45,1,2,14,3]))),C=({children:e,adminOnly:r=!1,allowedRoles:a=[],enforceAllowedRoles:s=!1})=>{const{isAuthenticated:i,user:n}=ee(),{simulatedRole:l}=ge(),u=pe(),m=["admin","pole_director","works_director","hse_director","hr_director"];if(!i)return t.jsx(S,{to:"/login",replace:!0});if(n?.must_change_password&&u.pathname!=="/force-change-password")return t.jsx(S,{to:"/force-change-password",replace:!0});const p=n?.role,f=p==="dev"&&l?l:p;return m.includes(f)&&!s||p==="dev"&&!l?e:r&&!m.includes(f)?t.jsx(S,{to:"/dashboard",replace:!0}):a.length>0&&!a.includes(f)?f==="user"?t.jsx(S,{to:"/sor",replace:!0}):f==="supervisor"?t.jsx(S,{to:"/supervisor",replace:!0}):f==="hr"?t.jsx(S,{to:"/hr",replace:!0}):m.includes(f)?t.jsx(S,{to:"/admin",replace:!0}):t.jsx(S,{to:"/dashboard",replace:!0}):e},Ze=({basePath:e})=>{const r=pe();return t.jsx(S,{to:`${e}${r.search||""}`,replace:!0})},Qe=({children:e})=>{const{isAuthenticated:r,user:a}=ee(),{simulatedRole:s}=ge(),i=["admin","pole_director","works_director","hse_director","hr_director"];if(r){if(a?.must_change_password)return t.jsx(S,{to:"/force-change-password",replace:!0});const n=a?.role,l=n==="dev"&&s?s:n;return i.includes(l)?t.jsx(S,{to:"/admin",replace:!0}):n==="dev"&&!s?t.jsx(S,{to:"/admin",replace:!0}):l==="user"?t.jsx(S,{to:"/sor",replace:!0}):l==="supervisor"?t.jsx(S,{to:"/supervisor",replace:!0}):l==="hr"?t.jsx(S,{to:"/hr",replace:!0}):t.jsx(S,{to:"/dashboard",replace:!0})}return e},Or=()=>{const{user:e}=ee(),{simulatedRole:r}=ge(),a=e?.role;return(a==="dev"&&r?r:a)==="hse_manager"?t.jsx(pt,{}):t.jsx(Nr,{})};function Hr(){const e=qe(i=>i.initTheme),r=pe(),{user:a,isAuthenticated:s}=ee();return h.useEffect(()=>{e()},[e]),t.jsx(Sr,{name:"App",context:{route:{pathname:r.pathname,search:r.search,hash:r.hash},auth:{isAuthenticated:!!s,userId:a?.id??null,role:a?.role??null}},children:t.jsx(h.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:t.jsx(er,{className:"w-8 h-8 animate-spin text-hse-primary"})}),children:t.jsxs(Rt,{children:[t.jsxs(c,{element:t.jsx(kr,{}),children:[t.jsx(c,{path:"/login",element:t.jsx(Qe,{children:t.jsx(Tr,{})})}),t.jsx(c,{path:"/forgot-password",element:t.jsx(Qe,{children:t.jsx(Ar,{})})}),t.jsx(c,{path:"/force-change-password",element:t.jsx(C,{children:t.jsx(Dr,{})})})]}),t.jsx(c,{element:t.jsx(C,{allowedRoles:["admin","pole_director","works_director","hse_director","hr_director"],children:t.jsx(F,{})}),children:t.jsx(c,{path:"/admin",element:t.jsx(pt,{})})}),t.jsxs(c,{element:t.jsx(C,{adminOnly:!0,children:t.jsx(F,{})}),children:[t.jsx(c,{path:"/admin/users",element:t.jsx(Er,{})}),t.jsx(c,{path:"/admin/projects",element:t.jsx(Cr,{})}),t.jsx(c,{path:"/admin/projects/:id",element:t.jsx(le,{})}),t.jsx(c,{path:"/admin/kpi",element:t.jsx(_r,{})}),t.jsx(c,{path:"/admin/kpi-history",element:t.jsx(Ke,{})}),t.jsx(c,{path:"/admin/training",element:t.jsx(De,{})}),t.jsx(c,{path:"/admin/awareness",element:t.jsx(de,{})}),t.jsx(c,{path:"/admin/sor",element:t.jsx(ce,{})}),t.jsx(c,{path:"/admin/work-permits",element:t.jsx(Ee,{})}),t.jsx(c,{path:"/admin/inspections",element:t.jsx(Ce,{})}),t.jsx(c,{path:"/admin/regulatory-watch",element:t.jsx(_e,{})}),t.jsx(c,{path:"/admin/regulatory-watch/new",element:t.jsx(S,{to:"/admin/regulatory-watch/new/1",replace:!0})}),t.jsx(c,{path:"/admin/regulatory-watch/new/:page",element:t.jsx(M,{mode:"new"})}),t.jsx(c,{path:"/admin/regulatory-watch/:id",element:t.jsx(C,{allowedRoles:["admin","hse_director","hse_manager","responsable","supervisor"],enforceAllowedRoles:!0,children:t.jsx(Ne,{})})}),t.jsx(c,{path:"/admin/regulatory-watch/:id/resubmit",element:t.jsx(M,{mode:"resubmit"})}),t.jsx(c,{path:"/admin/regulatory-watch/:id/resubmit/:page",element:t.jsx(M,{mode:"resubmit"})}),t.jsx(c,{path:"/admin/workers",element:t.jsx(Z,{})}),t.jsx(c,{path:"/admin/ppe",element:t.jsx(ue,{})}),t.jsx(c,{path:"/admin/qualified-personnel",element:t.jsx(Ze,{basePath:"/admin/workers"})}),t.jsx(c,{path:"/admin/subcontractors",element:t.jsx(Ye,{})}),t.jsx(c,{path:"/admin/subcontractors/openings/:id",element:t.jsx(Je,{})}),t.jsx(c,{path:"/admin/profile",element:t.jsx(J,{})})]}),t.jsxs(c,{element:t.jsx(C,{allowedRoles:["user"],children:t.jsx(F,{})}),children:[t.jsx(c,{path:"/sor",element:t.jsx(ce,{})}),t.jsx(c,{path:"/sor/projects",element:t.jsx(Te,{showKpiButton:!1})}),t.jsx(c,{path:"/sor/projects/:id",element:t.jsx(le,{})}),t.jsx(c,{path:"/sor/awareness",element:t.jsx(de,{})}),t.jsx(c,{path:"/sor/profile",element:t.jsx(J,{})})]}),t.jsxs(c,{element:t.jsx(C,{allowedRoles:["supervisor"],children:t.jsx(F,{})}),children:[t.jsx(c,{path:"/supervisor",element:t.jsx(ce,{})}),t.jsx(c,{path:"/supervisor/projects",element:t.jsx(Te,{showKpiButton:!1})}),t.jsx(c,{path:"/supervisor/projects/:id",element:t.jsx(le,{})}),t.jsx(c,{path:"/supervisor/awareness",element:t.jsx(de,{})}),t.jsx(c,{path:"/supervisor/training",element:t.jsx(De,{})}),t.jsx(c,{path:"/supervisor/work-permits",element:t.jsx(Ee,{})}),t.jsx(c,{path:"/supervisor/inspections",element:t.jsx(Ce,{})}),t.jsx(c,{path:"/supervisor/regulatory-watch",element:t.jsx(_e,{})}),t.jsx(c,{path:"/supervisor/regulatory-watch/new",element:t.jsx(S,{to:"/supervisor/regulatory-watch/new/1",replace:!0})}),t.jsx(c,{path:"/supervisor/regulatory-watch/new/:page",element:t.jsx(M,{mode:"new"})}),t.jsx(c,{path:"/supervisor/regulatory-watch/:id",element:t.jsx(C,{allowedRoles:["admin","hse_director","hse_manager","responsable","supervisor"],enforceAllowedRoles:!0,children:t.jsx(Ne,{})})}),t.jsx(c,{path:"/supervisor/regulatory-watch/:id/resubmit",element:t.jsx(M,{mode:"resubmit"})}),t.jsx(c,{path:"/supervisor/regulatory-watch/:id/resubmit/:page",element:t.jsx(M,{mode:"resubmit"})}),t.jsx(c,{path:"/supervisor/workers",element:t.jsx(Z,{})}),t.jsx(c,{path:"/supervisor/ppe",element:t.jsx(ue,{})}),t.jsx(c,{path:"/supervisor/profile",element:t.jsx(J,{})})]}),t.jsxs(c,{element:t.jsx(C,{allowedRoles:["hse_manager","responsable"],children:t.jsx(F,{})}),children:[t.jsx(c,{path:"/dashboard",element:t.jsx(Or,{})}),t.jsx(c,{path:"/my-projects",element:t.jsx(Te,{})}),t.jsx(c,{path:"/projects/:id",element:t.jsx(le,{})}),t.jsx(c,{path:"/kpi/submit",element:t.jsx(Ae,{})}),t.jsx(c,{path:"/kpi/submit/:projectId",element:t.jsx(Ae,{})}),t.jsx(c,{path:"/kpi/edit/:reportId",element:t.jsx(Ae,{})}),t.jsx(c,{path:"/kpi/history",element:t.jsx(Ke,{})}),t.jsx(c,{path:"/training",element:t.jsx(De,{})}),t.jsx(c,{path:"/awareness",element:t.jsx(de,{})}),t.jsx(c,{path:"/user/sor",element:t.jsx(ce,{})}),t.jsx(c,{path:"/work-permits",element:t.jsx(Ee,{})}),t.jsx(c,{path:"/inspections",element:t.jsx(Ce,{})}),t.jsx(c,{path:"/regulatory-watch",element:t.jsx(_e,{})}),t.jsx(c,{path:"/regulatory-watch/new",element:t.jsx(S,{to:"/regulatory-watch/new/1",replace:!0})}),t.jsx(c,{path:"/regulatory-watch/new/:page",element:t.jsx(M,{mode:"new"})}),t.jsx(c,{path:"/regulatory-watch/:id",element:t.jsx(C,{allowedRoles:["admin","hse_director","hse_manager","responsable","supervisor"],enforceAllowedRoles:!0,children:t.jsx(Ne,{})})}),t.jsx(c,{path:"/regulatory-watch/:id/resubmit",element:t.jsx(M,{mode:"resubmit"})}),t.jsx(c,{path:"/regulatory-watch/:id/resubmit/:page",element:t.jsx(M,{mode:"resubmit"})}),t.jsx(c,{path:"/workers",element:t.jsx(Z,{})}),t.jsx(c,{path:"/ppe",element:t.jsx(ue,{})}),t.jsx(c,{path:"/profile",element:t.jsx(J,{})}),t.jsx(c,{path:"/subcontractors",element:t.jsx(Ye,{})}),t.jsx(c,{path:"/subcontractors/openings/:id",element:t.jsx(Je,{})})]}),t.jsxs(c,{element:t.jsx(C,{allowedRoles:["hr"],children:t.jsx(F,{})}),children:[t.jsx(c,{path:"/hr",element:t.jsx(Z,{})}),t.jsx(c,{path:"/hr/workers",element:t.jsx(Z,{})}),t.jsx(c,{path:"/hr/ppe",element:t.jsx(ue,{})}),t.jsx(c,{path:"/hr/profile",element:t.jsx(J,{})})]}),t.jsx(c,{element:t.jsx(C,{allowedRoles:["hse_manager","responsable","supervisor","hr"],children:t.jsx(F,{})}),children:t.jsx(c,{path:"/qualified-personnel",element:t.jsx(Ze,{basePath:"/workers"})})}),t.jsx(c,{element:t.jsx(C,{children:t.jsx(F,{})}),children:t.jsx(c,{path:"/notifications",element:t.jsx(Rr,{})})}),t.jsxs(c,{element:t.jsx(C,{allowedRoles:["admin","dev","hse_manager","responsable","supervisor","user","pole_director","works_director","hse_director"],children:t.jsx(F,{})}),children:[t.jsx(c,{path:"/heavy-machinery/view-machines",element:t.jsx(Fr,{})}),t.jsx(c,{path:"/heavy-machinery/global-search",element:t.jsx(Mr,{})}),t.jsx(c,{path:"/heavy-machinery/expired-documentation",element:t.jsx(Lr,{})})]}),t.jsx(c,{path:"/",element:t.jsx(S,{to:"/login",replace:!0})}),t.jsx(c,{path:"*",element:t.jsx(Ir,{})})]})})})}const qr=e=>{try{return e instanceof Error?e.stack||e.message||String(e):typeof e=="string"?e:JSON.stringify(e)}catch{try{return String(e)}catch{return"[unserializable]"}}},Xe=(e,r)=>{try{const a=typeof window<"u"?window.location?.href:"",s=new Date().toISOString(),i=r?.message||r?.reason?.message||r?.error?.message||r?.error?.toString?.()||r?.reason?.toString?.()||"Unknown error";console.groupCollapsed(`[APP:${e}] ${i}`),console.log("time",s),console.log("url",a),console.log("userAgent",typeof navigator<"u"?navigator.userAgent:""),r?.error&&console.error(r.error),r?.reason&&console.error(r.reason),(r?.source||r?.lineno||r?.colno)&&(console.log("source",r.source),console.log("line",r.lineno),console.log("col",r.colno)),r?.promise&&console.log("promise",r.promise),r&&!r.error&&!r.reason&&console.log("payload",r),console.groupEnd()}catch(a){console.error("[APP] Failed to log global error",a,qr(r))}};typeof window<"u"&&(window.addEventListener("error",e=>{Xe("window.error",{message:e?.message,error:e?.error,source:e?.filename,lineno:e?.lineno,colno:e?.colno})}),window.addEventListener("unhandledrejection",e=>{Xe("unhandledrejection",{reason:e?.reason,promise:e?.promise})}));Re.createRoot(document.getElementById("root")).render(t.jsx(Ft.StrictMode,{children:t.jsx(Mt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:t.jsxs(ur,{children:[t.jsx(Hr,{}),t.jsx(tr,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#1e293b",color:"#fff"},success:{duration:2500,iconTheme:{primary:"#16a34a",secondary:"#fff"}},error:{iconTheme:{primary:"#dc2626",secondary:"#fff"}}},children:e=>t.jsx("div",{onClick:()=>O.dismiss(e.id),style:{cursor:"pointer",pointerEvents:"auto"},children:t.jsx(rr,{toast:e})})})]})})}));export{Y as A,mo as B,lo as C,H as D,ro as E,he as a,Le as b,Qr as c,Vr as d,Xr as e,ao as f,eo as g,ge as h,no as i,t as j,oo as k,so as l,o as m,qe as n,Zr as o,to as p,io as q,co as r,Ve as s,Gr as t,ee as u,po as v,uo as w,Kr as x,Yr as y,Jr as z};
