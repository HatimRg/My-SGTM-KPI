const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage.js","assets/vendor-react.js","assets/vendor-ui.js","assets/vendor-utils.js","assets/ForgotPasswordPage.js","assets/AdminDashboard.js","assets/vendor-charts.js","assets/weekHelper.js","assets/projectList.js","assets/UserManagement.js","assets/Modal.js","assets/ConfirmDialog.js","assets/Select.js","assets/ProjectManagement.js","assets/DatePicker.js","assets/AutocompleteInput.js","assets/KpiManagement.js","assets/DailyKpiPreview.js","assets/UserDashboard.js","assets/MyProjects.js","assets/KpiSubmission.js","assets/KpiHistory.js","assets/projectStore.js","assets/Training.js","assets/SorSubmission.js","assets/ProjectDetails.js","assets/Profile.js","assets/NotFound.js","assets/AwarenessSession.js","assets/WorkPermits.js","assets/Inspections.js","assets/Workers.js","assets/Notifications.js","assets/QualifiedPersonnel.js","assets/SubcontractorOpenings.js","assets/SubcontractorOpeningDetails.js"])))=>i.map(i=>d[i]);
var gt=Object.defineProperty;var ht=(e,r,s)=>r in e?gt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var ue=(e,r,s)=>ht(e,typeof r!="symbol"?r+"":r,s);import{r as g,a as ft,O as Be,u as vt,b as $e,N as pe,d as bt,e as p,f as D,R as yt,B as xt}from"./vendor-react.js";import{z as _,A as M,R as jt,H as wt,X as ke,S as kt,W as St,C as se,a as Ie,G as Pt,b as Ve,M as Ge,L as Z,U as B,F as $,c as F,d as me,e as X,f as ge,g as Q,h as A,B as he,P as Tt,i as At,j as Dt,k as fe,E as Et,l as Ct,m as Nt,n as Rt,o as ve,p as It,q as _t,r as Mt,s as Lt,t as Ft,N as Ht}from"./vendor-ui.js";import{a as Ot,c as De}from"./vendor-utils.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var Ke={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=g,qt=Symbol.for("react.element"),Wt=Symbol.for("react.fragment"),Ut=Object.prototype.hasOwnProperty,Bt=zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$t={key:!0,ref:!0,__self:!0,__source:!0};function Ye(e,r,s){var a,i={},n=null,c=null;s!==void 0&&(n=""+s),r.key!==void 0&&(n=""+r.key),r.ref!==void 0&&(c=r.ref);for(a in r)Ut.call(r,a)&&!$t.hasOwnProperty(a)&&(i[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return{$$typeof:qt,type:e,key:n,ref:c,props:i,_owner:Bt.current}}ae.Fragment=Wt;ae.jsx=Ye;ae.jsxs=Ye;Ke.exports=ae;var t=Ke.exports,Se={},_e=ft;Se.createRoot=_e.createRoot,Se.hydrateRoot=_e.hydrateRoot;const Vt={common:{appName:"HSE KPI Tracker",companyName:"SGTM",loading:"Chargement...",showMore:"Afficher plus",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",create:"Créer",search:"Rechercher",filter:"Filtrer",export:"Exporter",actions:"Actions",status:"Statut",active:"Actif",inactive:"Inactif",yes:"Oui",no:"Non",all:"Tous",none:"Aucun",select:"Sélectionner",unselect:"Désélectionner",submit:"Soumettre",confirm:"Confirmer",back:"Retour",next:"Suivant",previous:"Précédent",close:"Fermer",view:"Voir",viewDetails:"Voir les détails",download:"Télécharger",upload:"Téléverser",refresh:"Actualiser",noData:"Aucune donnée disponible",error:"Erreur",success:"Succès",warning:"Attention",info:"Information",step:"Étape",allProjects:"Tous les projets",allPoles:"Tous les pôles",reset:"Réinitialiser",update:"Mettre à jour",saving:"Enregistrement...",page:"Page",of:"de",unknown:"Inconnu",selected:"sélectionné(s)",project:"Projet",lightMode:"Mode Clair",darkMode:"Mode Sombre"},subcontractors:{title:"Suivi des sous-traitants",subtitle:"Ouverture de chantier · Documents · Validité",opening:"Ouverture",workType:"Type des travaux",workTypePlaceholder:"Ex: Génie civil, échafaudage, électricité...",chooseProjectFirst:"Choisir un projet d'abord",addOpening:"Ajouter une ouverture",searchPlaceholder:"Rechercher une entreprise...",companiesCount:"{count} entreprise(s)",noCompanies:"Aucune entreprise",noCompaniesHelp:"Choisis un projet et ajoute une ouverture.",popoverTitle:"Validité des documents",expired:"Expirés",expiring:"Bientôt expirés",othersCount:"+{count} autres...",cardMeta:"{project} · Début: {start} · Effectif: {workers}",documentsCount:"Documents: {uploaded}/{required}",statusSummary:{green:"À jour",yellow:"Bientôt expiré",red:"Expiré / incomplet"},newOpening:"Nouvelle ouverture de chantier",company:"Entreprise",other:"Autre...",newCompany:"Nouvelle entreprise",companyPlaceholder:"Nom de l'entreprise",startDate:"Date de début",table:{document:"Document",startDate:"Date début",expiryDate:"Date expiration",file:"Fichier"},docStatus:{valid:"valide",expiring:"expire bientôt",expired:"expiré",no_expiry:"sans date",no_file:"manquant"},openingSummary:"Début: {start} · Effectif: {workers} · Documents: {uploaded}/{required}",add:"Ajouter",replace:"Remplacer",uploadTitle:"Uploader: {label}",pdfFile:"Fichier PDF",choosePdf:"Choisir un PDF",compressionHint:"Compression automatique vers < 5MB seulement si le fichier dépasse 5MB.",send:"Envoyer",viewDocument:"Voir le document",pdfOnly:"PDF uniquement",confirmDeleteOpening:`Supprimer l'ouverture de chantier pour "{name}" ?`,openingDeleted:"Ouverture supprimée",openingCreated:"Ouverture créée",uploadFailed:"Échec de téléversement",documentSaved:"Document enregistré",documentSavedWithSize:"Document enregistré ({size})",documentSavedCompressed:"Document enregistré (compressé: {original} → {compressed})"},datePicker:{days:["Di","Lu","Ma","Me","Je","Ve","Sa"],months:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Août","Sep","Oct","Nov","Déc"],monthsFull:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],today:"Aujourd'hui",select:"Sélectionner"},status:{approved:"Approuvé",pending:"En attente",submitted:"Soumis",draft:"Brouillon",partial:"Partiel",rejected:"Rejeté",missing:"Manquant",notSubmitted:"Non soumis"},auth:{login:"Connexion",logout:"Déconnexion",email:"Adresse email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oublié ?",resetPassword:"Réinitialiser le mot de passe",signIn:"Se connecter",signOut:"Se déconnecter",welcomeBack:"Bienvenue",signInToContinue:"Connectez-vous pour continuer",emailRequired:"L'email est requis",passwordRequired:"Le mot de passe est requis",invalidCredentials:"Identifiants incorrects",loginSuccess:"Connexion réussie !",redirecting:"Redirection vers votre tableau de bord...",logoutSuccess:"Déconnexion réussie",resetLinkSent:"Lien de réinitialisation envoyé à votre email",passwordChanged:"Mot de passe modifié avec succès",accountDeactivated:"Votre compte a été désactivé. Contactez l'administrateur.",demoCredentials:"Identifiants de démonstration",admin:"Administrateur",user:"Utilisateur",showPassword:"Afficher le mot de passe",hidePassword:"Masquer le mot de passe"},nav:{dashboard:"Tableau de bord",administration:"Administration",projects:"Projets",myProjects:"Mes Projets",users:"Utilisateurs",kpiSubmission:"Soumission KPI",kpiHistory:"Historique KPI",reports:"Rapports",settings:"Paramètres",profile:"Profil",notifications:"Notifications",help:"Aide"},dashboard:{title:"Tableau de bord",adminTitle:"Tableau de bord Administrateur",userTitle:"Tableau de bord Utilisateur",welcome:"Bienvenue",overview:"Vue d'ensemble",statistics:"Statistiques",recentActivity:"Activité récente",quickActions:"Actions rapides",totalProjects:"Total Projets",activeProjects:"Projets Actifs",totalUsers:"Total Utilisateurs",activeUsers:"Utilisateurs Actifs",pendingReports:"Rapports en attente",approvedReports:"Rapports approuvés",avgTf:"TF moyen",avgTg:"TG moyen",monthlyTrends:"Tendances mensuelles",projectPerformance:"Performance des projets",recentSubmissions:"Soumissions récentes",submissionStatus:"Statut des soumissions",exportData:"Exporter les données",exportExcel:"Exporter Excel",exportPdf:"Exporter PDF",exportSuccess:"Rapport exporté avec succès",exportFailed:"Échec de l'export du rapport",loadFailed:"Échec du chargement des données du tableau de bord",totalReports:"Total Rapports",awaitingApproval:"En attente de validation",activeLabel:"actifs",inYear:"En {{year}}",weekPrefix:"Semaine",weeklyKpiTrends:"Tendances KPI hebdomadaires",detailsForWeek:"Détails pour {{week}}",viewKpiReports:"Voir les rapports KPI",tfTgRates:"Taux TF & TG",yearOverYearSummary:"Résumé annuel ({{year}} vs {{compareYear}})",reports:"Rapports",viewAllProjects:"Voir tous les projets",noProjectData:"Aucune donnée projet disponible.",compareLoadFailed:"Échec du chargement des données de comparaison",draftsToComplete:"Rapports à compléter",draftLabel:"brouillon",draftLabelPlural:"brouillons",weekLabel:"Semaine {{week}} - {{year}}",monthYearLabel:"{{month}} {{year}}",weekShortPrefix:"S",weekDetailsTitle:"Semaine {{week}} - Détails par projet",currentWeekLabel:"Semaine en cours",themes:{overview:"Vue d'ensemble",safety:"Performance Sécurité",training:"Formation & Compétences",compliance:"Conformité & Audits",deviations:"Suivi des non-conformités",environmental:"Impact Environnemental"},deviations:{filters:{title:"Filtres",project:"Projet",week:"Semaine"},total:"Total non-conformités",open:"Ouvert",closed:"Clôturé",avgCloseDays:"Temps moyen de clôture",yearContext:"Année {{year}}",inProgressAndOpen:"Ouvert + en cours",closedSubtitle:"Action corrective soumise",avgCloseSubtitle:"De l'observation à la clôture",trend:"Tendance des non-conformités",byStatus:"Par statut",byCategory:"Top catégories",status:{open:"Ouvert",inProgress:"En cours",closed:"Clôturé"}},safety:{totalAccidents:"Total Accidents",fatalAccidents:"Accidents Mortels",tfRate:"Taux TF",tgRate:"Taux TG",accidentTrends:"Tendances des Accidents",accidentsBySeverity:"Accidents par Gravité",accidentsByProject:"Accidents par Projet",yearToDate:"Depuis le début de l'année",noFatalities:"Aucun décès ✓",critical:"Critique",avgFrequencyRate:"Taux de fréquence moyen",avgSeverityRate:"Taux de gravité moyen",tfVsTg:"Taux TF vs TG",noAccidents:"Aucun accident enregistré",greatSafety:"Excellente performance sécurité!",fatal:"Mortel",serious:"Grave",minor:"Mineur"},training:{totalTrainings:"Total Formations",employeesTrained:"Employés Formés",trainingHours:"Heures de Formation",completionRate:"Taux de Complétion",trainingTrends:"Tendance des Sessions",trainingByCategory:"Formations par Catégorie",trainingByProject:"Formations par Projet",trainingByTheme:"Formations par Thème",trainingByDuration:"Formations par Durée",trainingByType:"Interne vs Externe",awarenessByTheme:"TBT/TBM par Thème",sessionsCompleted:"Sessions complétées",uniqueAttendees:"Participants uniques",totalHoursDelivered:"Heures totales dispensées",target:"Objectif",cumulativeHours:"Heures de Formation Cumulées",hseTraining:"Formation HSE",technical:"Technique",softSkills:"Compétences Douces",compliance:"Conformité",noTrainingData:"Aucune donnée de formation",internal:"Interne",external:"Externe",totalAwareness:"Sessions TBT/TBM",awarenessParticipants:"Participants Sensibilisation",awarenessHours:"Heures Sensibilisation"},compliance:{totalInspections:"Total Inspections",hseCompliance:"Conformité HSE",medicalCompliance:"Conformité Médicale",auditScore:"Score d'Audit",complianceRadar:"Radar de Conformité",auditFindings:"Constats d'Audit",findings:"Constats",complianceByProject:"Conformité par Projet",inspectionTrends:"Tendances des Inspections",completedThisYear:"Complétées cette année",avgScore:"Score moyen",healthChecks:"Contrôles médicaux",latestAudit:"Dernier audit",criticalFindings:"Critique",majorFindings:"Majeur",minorFindings:"Mineur"},rates:{frequencyRate:"Taux de Fréquence (TF)",severityRate:"Taux de Gravité (TG)"},environmental:{hseCompliance:"Conformité HSE",medicalCompliance:"Conformité Médicale",waterConsumption:"Consommation d'Eau",electricityUsage:"Consommation Électrique",complianceTrends:"Tendances de Conformité",waterVsElectricity:"Eau vs Électricité",safetyTrends:"Tendances Sécurité",complianceProgress:"Progression Conformité",yearToDate:"Année en cours",targetAchieved:"Objectif atteint",toTarget:"pour atteindre l'objectif",trainingHoursYTD:"Heures Formation (Année)",nearMissesYTD:"Presqu'accidents (Année)"},inspections:"Inspections",nearMisses:"Presqu'accidents",accidents:"Accidents"},projects:{title:"Projets",projectList:"Liste des projets",projectDetails:"Détails du projet",newProject:"Nouveau projet",editProject:"Modifier le projet",deleteProject:"Supprimer le projet",projectName:"Nom du projet",projectCode:"Code projet",description:"Description",location:"Localisation",clientName:"Nom du client",startDate:"Date de début",endDate:"Date de fin",status:"Statut",active:"Actif",completed:"Terminé",suspended:"Suspendu",assignedUsers:"Utilisateurs assignés",assignUsers:"Assigner des utilisateurs",kpiTrends:"Tendances KPI",recentReports:"Rapports récents",noProjects:"Aucun projet trouvé",projectCreated:"Projet créé avec succès",projectUpdated:"Projet mis à jour avec succès",projectDeleted:"Projet supprimé avec succès",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce projet ?",assignedForKpi:"Projets assignés pour le rapport KPI",assignedToYou:"Projets qui vous sont assignés",backToProjects:"Retour aux projets",team:"Équipe",teamMembers:"Membres de l'équipe",manageTeam:"Gérer l'équipe",addToTeam:"Ajouter à l'équipe",removeFromTeam:"Retirer de l'équipe",noTeamMembers:"Aucun membre dans l'équipe",selectOfficers:"Sélectionner des Animateurs HSE",availableOfficers:"Animateurs HSE disponibles",noAvailableOfficers:"Aucun Animateur HSE disponible",addSelected:"Ajouter la sélection",memberAdded:"Membre ajouté avec succès",memberRemoved:"Membre retiré avec succès",membersAdded:"{{count}} membre(s) ajouté(s) avec succès",confirmRemoveMember:"Êtes-vous sûr de vouloir retirer {{name}} de l'équipe ?",addedBy:"Ajouté par",addedOn:"Ajouté le",zones:"Zones",manageZones:"Gérer les zones",addZone:"Ajouter une zone",removeZone:"Supprimer la zone",zoneName:"Nom de la zone",existingZones:"Zones existantes",noZones:"Aucune zone définie",zoneAdded:"Zone ajoutée",zoneRemoved:"Zone supprimée",zoneExists:"Cette zone existe déjà",zonesInfo:"Ces zones seront disponibles dans le menu déroulant du suivi des écarts",done:"Terminé"},training:{navLabel:"Formations",pageTitle:"Déclaration de formation",pageSubtitle:"Enregistrez les formations et calculez automatiquement les heures de formation.",project:"Projet",selectProject:"Sélectionner un projet",date:"Date",by:"Animée par",external:"Externe",externalPlaceholder:"Nom de l'entreprise externe",theme:"Thème de la formation",searchTheme:"Rechercher un thème de formation...",otherTheme:"Préciser le nom de la formation",duration:"Durée",selectDuration:"Sélectionner une durée",durations:{"30min":"30 Min","1h":"1 Heure","1h30":"1 Heure 30 Min","2h":"2 Heures","3h":"3 Heures",halfDay:"Demi-journée","1day":"1 Jour","2days":"2 Jours","3days":"3 Jours"},participants:"Nombre de participants",trainingHours:"Heures de formation",hoursUnit:"heures",submit:"Valider la formation",created:"Formation enregistrée avec succès",photo:"Photo",uploadPhoto:"Cliquer pour ajouter une photo",changePhoto:"Changer la photo",addTraining:"Ajouter une formation",clickToExpand:"Cliquer pour ouvrir le formulaire",listTitle:"Formations enregistrées",allProjects:"Tous les projets",allWeeks:"Toutes les semaines",weekLabel:"Semaine {{week}}",noTrainings:"Aucune formation trouvée pour ces filtres",colDate:"Date",colProject:"Projet",colBy:"Par",colTheme:"Thème",colDuration:"Durée",colParticipants:"Participants",colHours:"Heures",colPhoto:"Photo",viewPhoto:"Voir la photo",downloadPhoto:"Télécharger la photo",themes:["Formation Montage/Démontage Echafaudage","Formation utilisation Echafaudage","formation coffrage/décoffrage","Vérification Echafaudage","Formation Elingage et Manutention","Formation SST","Formation EPI","Outils électroportatifs","Formation Conduite Défensive","Formation travail en hauteur","Formation Conduite Grue Mobile","formation Conduite Tractopelle","formation Conduite Tracteure","conduite en sécurité des nacelles","formation Soudeur","Formation et habiltation Electriques","Sensibilisation HSE personnel","Formation engins de chantier","Formation conduite en sécurité VL","Formation flag-man","formation excavation","Espace confiné","Risque d’incendie","Ergonomie","Environnement (Housekeeping, Déchets, produits chimiques)","Coactivité","Other"]},awareness:{navLabel:"TBM/TBT",pageTitle:"Sensibilisations (TBM/TBT)",pageSubtitle:"Soumettre et suivre les réunions de sécurité",addSession:"Ajouter une sensibilisation",clickToExpand:"Cliquer pour ouvrir le formulaire",project:"Projet",selectProject:"Sélectionner un projet",date:"Date",by:"Animée par",theme:"Thème",searchTheme:"Rechercher un thème...",other:"Autre",otherTheme:"Préciser le sujet de la session",duration:"Durée",minutes:"minutes",participants:"Nombre de participants",sessionHours:"Heures de sensibilisation",hoursUnit:"heures",submit:"Valider la session",created:"Session enregistrée avec succès",listTitle:"Sessions enregistrées",allProjects:"Tous les projets",allWeeks:"Toutes les semaines",weekLabel:"Semaine {{week}}",noSessions:"Aucune session trouvée pour ces filtres",colDate:"Date",colProject:"Projet",colBy:"Par",colTheme:"Thème",colDuration:"Durée",colParticipants:"Participants",colHours:"Heures",themes:["Travaux en hauteur sécurisés avec nacelles et échafaudages conformes","Sécurisation des zones de levage et élingage","Circulation des engins et co-activité","Communication entre opérateurs (signalisation, gestes, radios)","Port correct des EPI obligatoires","Risques électriques et consignation","Manutention manuelle sécurisée","Chutes d'objets et sécurisation des outils en hauteur","Sécurité des fouilles et tranchées","Risques liés à la pression et aux équipements sous pression","Incendie et manipulation des extincteurs","Produits chimiques et FDS","Travaux à chaud — permis feu et périmètre","Blocage et consignation mécanique / hydraulique","Sécurité autour des grues mobiles","Travaux en espaces confinés — atmosphère, ventilation, urgence","Gestion des déchets et propreté de zone","Risque bruit et protection auditive","Éclairage de chantier insuffisant","Travail de nuit — vigilance et organisation","Ergonomie et postures de travail","Gestion des énergies dangereuses (LOTO complet)","Sécurité lors de l'utilisation des machines fixes et portatives","Prévention des glissades et trébuchements","Météo extrême (vent, pluie, chaleur) et adaptation du travail","Sécurité autour des armoires électriques ouvertes","Prévention des coupures / projections (scies, meuleuses, perceuses)","Risque de chocs avec charges suspendues","Sécurisation des accès et balisage de zones dangereuses","Risque lié à la fatigue et manque de concentration","Prévention des presqu'accidents et retours d'expérience","Plan d'évacuation et premiers secours","Rangement et stockage des matériaux en zone de travail"]},workPermits:{title:"Permis de Travail",pageTitle:"Gestion des Permis de Travail",pageSubtitle:"Gérer les permis de travail de vos projets",newPermit:"Nouveau Permis",editPermit:"Modifier le Permis",deletePermit:"Supprimer le Permis",permitNumber:"Numéro de Permis",project:"Projet",selectProject:"Sélectionner un projet",week:"Semaine",selectWeek:"Sélectionner la semaine",year:"Année",prolongation:"Prolongation (Dimanche)",prolongationHint:"Cocher pour les permis du dimanche",serialNumber:"Numéro de Série",permitTypes:"Types de Permis",types:{cold:"Permis à Froid",workAtHeight:"Permis de Travail en Hauteur",hotWork:"Permis de Travail à Chaud",confinedSpaces:"Permis Espace Confiné",electricalIsolation:"Permis d'Isolation Électrique",energizedWork:"Permis de Travail Sous Tension",excavation:"Permis d'Excavation",mechanicalIsolation:"Permis d'Isolation Mécanique",grinder7inch:"Permis Meuleuse 7 Pouces"},description:"Description du Permis",descriptionPlaceholder:"Décrire les travaux à effectuer...",area:"Zone",areaPlaceholder:"Localisation de la zone de travail",permitUser:"Utilisateur du Permis",permitUserPlaceholder:"Nom de la personne utilisant le permis",signedBy:"Emetteur du permis",signedByPlaceholder:"Nom de l'émetteur",authorizer:"Autorisateur",authorizerPlaceholder:"Nom de l'autorisateur",commenceDate:"Date de Début",exportExcel:"Exporter Excel",exported:"Permis exportés avec succès",exportError:"Erreur lors de l'exportation",endDate:"Date de Fin",enterprise:"Entreprise",enterprisePlaceholder:"Nom de l'entreprise",status:{draft:"Brouillon",active:"Actif",closed:"Clôturé",cancelled:"Annulé"},copyFromPrevious:"Copier de la Semaine Précédente",copySelected:"Copier la Sélection",reinitializeNumbers:"Réinitialiser les Numéros",launchWeek:"Lancer la Semaine",launchConfirm:"Êtes-vous sûr de vouloir lancer tous les permis de cette semaine ? Cela réinitialisera les numéros de permis et activera tous les brouillons.",created:"Permis de travail créé avec succès",updated:"Permis de travail mis à jour avec succès",deleted:"Permis de travail supprimé avec succès",copied:"{{count}} permis copié(s) avec succès",numbersReinitialized:"Numéros de permis réinitialisés",weekLaunched:"{{count}} permis lancé(s) avec succès",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce permis ?",noPermits:"Aucun permis trouvé pour cette semaine",previousWeekPermits:"Permis de la Semaine Précédente",currentWeekPermits:"Permis de la Semaine Actuelle",selectToCopy:"Sélectionner les permis à copier vers la semaine actuelle",weekInfo:"Semaine {{week}} ({{start}} - {{end}})",mondayToSaturday:"Lundi à Samedi"},inspections:{title:"Inspections",pageTitle:"Gestion des Inspections",pageSubtitle:"Gérer les inspections SST et environnement",project:"Projet",selectProject:"Sélectionner un projet",selectProjectFirst:"Veuillez sélectionner un projet pour voir les inspections",newInspection:"Nouvelle Inspection",editInspection:"Modifier l'Inspection",listTitle:"Liste des Inspections",noInspections:"Aucune inspection trouvée",searchPlaceholder:"Rechercher par inspecteur, lieu, zone...",date:"Date",nature:"Nature d'Inspection",natureOther:"Préciser",natureOtherPlaceholder:"Préciser la nature de l'inspection",type:"Type d'Inspection",location:"Lieu",locationPlaceholder:"Lieu de l'inspection",zone:"Zone",zonePlaceholder:"Zone d'inspection",startDate:"Date de Début",endDate:"Date d'Achèvement",inspector:"Inspecteur",enterprise:"Entreprise",enterprisePlaceholder:"Nom de l'entreprise",status:"Statut",statusOpen:"Ouvert",statusClosed:"Fermé",notes:"Notes",notesPlaceholder:"Notes additionnelles...",natures:{sst:"Inspection SST",environment:"Inspection Environnement",thirdParty:"Inspection par une Tierce Partie",equipment:"Inspections du Matériel, Équipements et Outillages",other:"Autres"},types:{internal:"Interne",external:"Externe"},create:"Créer l'Inspection",created:"Inspection créée avec succès",updated:"Inspection mise à jour avec succès",deleted:"Inspection supprimée avec succès",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette inspection ?"},workers:{title:"Gestion du Personnel",subtitle:"Gérer les travailleurs et leurs informations",addWorker:"Ajouter un Travailleur",newWorker:"Nouveau Travailleur",editWorker:"Modifier le Travailleur",noWorkers:"Aucun travailleur trouvé",nom:"Nom",prenom:"Prénom",fonction:"Fonction",cin:"CIN",dateNaissance:"Date de Naissance",entreprise:"Entreprise",projet:"Projet",dateEntree:"Date d'Entrée",status:"Statut",active:"Actif",inactive:"Inactif",import:"Importer",export:"Exporter",downloadTemplate:"Télécharger le Modèle",bulkDeactivate:"Désactiver la Sélection",bulkActivate:"Activer la Sélection",deactivate:"Désactiver",activate:"Activer",created:"Travailleur créé avec succès",merged:"Travailleur mis à jour (CIN existant)",updated:"Travailleur mis à jour avec succès",deactivated:"Travailleur désactivé avec succès",activated:"Travailleur activé avec succès",bulkDeactivated:"{{count}} travailleur(s) désactivé(s)",bulkActivated:"{{count}} travailleur(s) activé(s)",importSuccess:"Import réussi: {{imported}} importé(s), {{merged}} fusionné(s)",confirmDeactivate:"Êtes-vous sûr de vouloir désactiver {{name}} ?",confirmBulkDeactivate:"Êtes-vous sûr de vouloir désactiver {{count}} travailleur(s) ?",allProjects:"Tous les Projets",allEntreprises:"Toutes les Entreprises",allFonctions:"Toutes les Fonctions",allStatus:"Tous les Statuts",totalWorkers:"Total Travailleurs",activeWorkers:"Actifs",inactiveWorkers:"Inactifs",hseTeam:"Équipe HSE",statusHelp:"Désactivé = non visible dans le projet",importTitle:"Importer des Travailleurs",importHelp:"Téléchargez le modèle, remplissez-le et importez-le.",selectFile:"Sélectionner un fichier",cinInfo:"Le CIN est l'identifiant unique. Les doublons seront fusionnés.",selectDate:"Sélectionner une date",minAge:"Le travailleur doit avoir au moins 18 ans",fonctionPlaceholder:"Chef de chantier, Ouvrier...",entreprisePlaceholder:"SGTM, Sous-traitant..."},qualifiedPersonnel:{navLabel:"Personnel qualifié",pageTitle:"Formations du personnel",pageSubtitle:"Gérer les formations et certificats par travailleur.",filters:{searchPlaceholder:"Rechercher par nom ou CIN...",trainingPlaceholder:"Toutes les formations",resultsCount:"{count} résultat(s)"},workerCardTitle:"Personnel",addTrainingTitle:"Ajouter une formation",trainingType:"Type de formation",trainingLabel:"Intitulé de la formation",trainingDate:"Date de formation",expiryDate:"Date d'expiration",certificate:"Certificat (PDF)",chooseFile:"Choisir un fichier",saveTraining:"Enregistrer la formation",trainingCreated:"Formation du travailleur enregistrée",invalidExpiry:"La date d'expiration ne peut pas être antérieure à la date de formation",trainingListTitle:"Formations du travailleur",colType:"Type",colStartDate:"Date de début",colEndDate:"Date d'expiration",colCertificate:"Certificat",noTrainings:"Aucune formation pour ce travailleur.",noWorkerSelected:"Sélectionnez un travailleur pour voir ses formations.",noWorkerSelectedHelp:"Choisissez un projet et recherchez par nom ou CIN, puis sélectionnez un travailleur pour consulter et ajouter ses formations.",statusValid:"Valide",statusExpiring:"Expire bientôt",statusExpired:"Expirée",statusNoExpiry:"Sans date",viewExpiringButton:"Voir les formations expirant bientôt / expirées",viewAllButton:"Voir toutes les formations",expiringListTitle:"Formations expirant bientôt / expirées",noExpiring:"Aucune formation expirante ou expirée trouvée pour vos projets.",viewCertificate:"Voir le certificat",downloadCertificate:"Télécharger",types:{inductionHse:"Induction HSE",aptitudePhysique:"Aptitude physique",travailHauteur:"Travail en hauteur",elinguage:"Élinguage",outillageElectrique:"Outillage électrique",inspecteurEchafaudage:"Inspecteur échafaudage",monteurEchafaudage:"Monteur échafaudage",incendie:"Incendie",secourisme:"Secourisme",reconnaissanceHse:"Reconnaissance HSE",other:"Autre (préciser)"}},users:{title:"Gestion des Utilisateurs",subtitle:"Gérer les utilisateurs du système et leurs permissions",userList:"Liste des utilisateurs",userDetails:"Détails de l'utilisateur",addUser:"Ajouter un utilisateur",newUser:"Nouvel utilisateur",editUser:"Modifier l'utilisateur",createUser:"Créer un nouvel utilisateur",updateUser:"Mettre à jour",createUserBtn:"Créer l'utilisateur",deleteUser:"Supprimer l'utilisateur",searchPlaceholder:"Rechercher des utilisateurs...",allRoles:"Tous les rôles",roles:{admin:"Administrateur",hse_manager:"Manager HSE",responsable:"Responsable HSE",user:"Animateur HSE",supervisor:"Superviseur HSE",hr:"Ressources Humaines",dev:"Développeur",pole_director:"Directeur Pôle",works_director:"Directeur Travaux",hse_director:"Directeur HSE",hr_director:"Directeur RH"},table:{user:"Utilisateur",role:"Rôle",projects:"Projets",status:"Statut",actions:"Actions"},status:{active:"Actif",inactive:"Inactif"},form:{fullName:"Nom complet",email:"Adresse email",cin:"CIN",cinPlaceholder:"Numéro de carte d'identité nationale",password:"Mot de passe",passwordHint:"laisser vide pour conserver l'actuel",role:"Rôle",pole:"Pôle",selectPole:"Sélectionner un pôle",phone:"Téléphone",assignProjects:"Assigner aux projets"},activate:"Activer",deactivate:"Désactiver",loadError:"Échec du chargement des utilisateurs",saveError:"Échec de l'enregistrement de l'utilisateur",createSuccess:"Utilisateur créé avec succès",updateSuccess:"Utilisateur mis à jour avec succès",deleteSuccess:"Utilisateur supprimé avec succès",deleteError:"Échec de la suppression de l'utilisateur",deleteConfirm:"Êtes-vous sûr de vouloir supprimer {{name}} ?",activateSuccess:"Utilisateur activé avec succès",deactivateSuccess:"Utilisateur désactivé avec succès",statusError:"Échec de la mise à jour du statut",noUsers:"Aucun utilisateur trouvé",assignedProjects:"Projets assignés",toggleStatus:"Changer le statut"},members:{title:"Gestion des Membres",subtitle:"Gérer les membres de l'équipe du projet",addMember:"Ajouter un Membre",newMember:"Nouveau Membre",editMember:"Modifier le Membre",noMembers:"Aucun membre trouvé",createSuccess:"Membre créé avec succès",createMerged:"Utilisateur existant trouvé avec ce CIN et ajouté au projet",updateSuccess:"Membre mis à jour avec succès",removeSuccess:"Membre retiré du projet avec succès",removeConfirm:"Êtes-vous sûr de vouloir retirer {{name}} de ce projet ?",removeWarning:"L'utilisateur sera désactivé s'il n'a plus d'affiliation à aucun projet.",cinExists:"Un utilisateur avec ce CIN existe déjà",emailExists:"Un utilisateur avec cet email existe déjà",selectRole:"Sélectionner un rôle",cannotRemoveSelf:"Vous ne pouvez pas vous retirer du projet",cinInfo:"Si un utilisateur avec ce CIN existe déjà, il sera automatiquement ajouté à ce projet."},kpi:{title:"Rapports KPI",submission:"Soumission KPI",submitKpi:"Soumettre KPI",history:"Historique KPI",newReport:"Nouveau rapport",editReport:"Modifier le rapport",viewReport:"Voir le rapport",deleteReport:"Supprimer le rapport",selectProject:"Sélectionner un projet",selectMonth:"Sélectionner le mois",selectYear:"Sélectionner l'année",reportDate:"Date du rapport",reportMonth:"Mois du rapport",reportYear:"Année du rapport",status:{draft:"Brouillon",submitted:"Soumis",approved:"Approuvé",rejected:"Rejeté"},saveDraft:"Enregistrer le brouillon",submitReport:"Soumettre le rapport",approve:"Approuver",reject:"Rejeter",rejectionReason:"Motif du rejet",accidents:{title:"Accidents",total:"Total accidents",fatal:"Accidents mortels",serious:"Accidents graves",minor:"Accidents mineurs",nearMisses:"Presqu'accidents",firstAidCases:"Cas de premiers soins"},training:{title:"Formations",conducted:"Formations réalisées",planned:"Formations planifiées",employeesTrained:"Employés formés",trainingHours:"Heures de formation",toolboxTalks:"Causeries sécurité"},inspections:{title:"Inspections",completed:"Inspections réalisées",planned:"Inspections planifiées",findingsOpen:"Constats ouverts",findingsClosed:"Constats fermés",correctiveActions:"Actions correctives"},rates:{title:"Taux et heures",hoursWorked:"Heures travaillées",lostWorkdays:"Jours de travail perdus",frequencyRate:"Taux de fréquence (TF)",severityRate:"Taux de gravité (TG)"},additional:{title:"Métriques additionnelles",unsafeActs:"Actes dangereux signalés",unsafeConditions:"Conditions dangereuses signalées",emergencyDrills:"Exercices d'urgence",ppeCompliance:"Conformité EPI (%)"},notes:"Notes et commentaires",noReports:"Aucun rapport trouvé",reportSaved:"Rapport enregistré avec succès",reportSubmitted:"Rapport soumis avec succès",reportResubmitted:"Rapport resoumis avec succès",reportApproved:"Rapport approuvé avec succès",reportRejected:"Rapport rejeté",reportDeleted:"Rapport supprimé avec succès",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce rapport ?",management:{title:"Gestion des Rapports KPI",subtitle:"Approuver ou rejeter les rapports soumis",searchPlaceholder:"Rechercher...",allStatuses:"Tous les statuts",statusSubmitted:"En attente",submittedBy:"Soumis par",period:"Période",date:"Date",viewDetails:"Voir détails",rejectTitle:"Rejeter le rapport",rejectReasonRequired:"Veuillez entrer un motif de rejet",rejectWarningBefore:"⚠️ Le rapport sera remis en",rejectWarningAfter:"pour permettre au soumetteur de corriger et resoumettre.",rejectReasonPlaceholder:"Entrez le motif du rejet...",detailsTitle:"Détails du rapport",loadDetailsFailed:"Échec du chargement des détails du rapport",previouslyRejected:"⚠️ Précédemment rejeté",rejectedOn:"Rejeté le {date}",sections:{effectifInduction:"1-2. Effectif & Induction",observationsAwareness:"3-4. Observations & Sensibilisation",accidentsIncidents:"5-8. Accidents & Incidents",inspectionsIndicators:"9-11. Inspections & Indicateurs",trainingPermitsDiscipline:"12-14. Formation, Permis & Discipline",complianceMonitoring:"15-17. Conformité & Suivi",energyConsumption:"18-19. Consommation d'énergie"}},steps:{projectInfo:"Informations Projet",weeklyReporting:"Reporting HSE",incidentTracking:"Suivi Incidents"},projectInfo:{title:"Informations du Projet",selectProject:"Sélectionner un projet",reportPeriod:"Période du rapport",weekNumber:"Numéro de semaine",startDate:"Date de début",endDate:"Date de fin",currentWeek:"Semaine en cours"},autoPopulate:"Remplir automatiquement",autoPopulateTitle:"Remplissage automatique",autoPopulateDesc:"Remplir automatiquement le formulaire avec les données des écarts, formations, inspections, etc.",autoPopulated:"Données remplies",noDataToPopulate:"Aucune donnée trouvée pour cette période",selectProjectAndWeek:"Veuillez d'abord sélectionner un projet et une semaine",weekly:{title:"Reporting HSE Hebdomadaire",effectif:"Effectif",induction:"Induction",ecarts:"Relevé des écarts",sensibilisation:"Nombre de Sensibilisation",presquAccident:"Presqu'accident",premiersSoins:"Premiers soins",accident:"Accident",joursArret:"Nombre de jours d'arrêt",inspections:"Nombre d'Inspections",tauxGravite:"Taux de Gravité (TG)",tauxFrequence:"Taux de Fréquence (TF)",heuresFormation:"Heures de formation",permisTravail:"Permis de travail",mesuresDisciplinaires:"Mesures disciplinaires",conformiteHSE:"Taux de conformité réglementaire HSE",conformiteMedecine:"Conformité médecine de travail",suiviBruit:"Suivi du bruit",consoEau:"Consommation d'énergie : Eau",consoElectricite:"Consommation d'énergie : Électricité",consommation:"Consommation des ressources",consommationEau:"Consommation d'eau",consommationElectricite:"Consommation d'électricité"},incidents:{title:"Suivi des Incidents & Accidents",fatality:"Mortel",lostTimeAccident:"Accident avec arrêt",nonLostTimeAccident:"Accident sans arrêt",firstAidCase:"Premiers soins",nearMiss:"Presqu'accident",propertyDamage:"Dégâts Matériel",environmentalImpact:"Impact environnemental",lostWorkDays:"Jours d'arrêt"},dailyKpi:{title:"Saisie Journalière HSE",subtitle:"Données quotidiennes → Calcul automatique des KPI",download:"Télécharger",import:"Importer",entry:"Saisie",downloadTemplate:"Template Excel SGTM",downloadDesc:"Téléchargez le template, remplissez les données quotidiennes, puis importez-le",importFile:"Importer le fichier rempli",importDesc:"Les données rempliront automatiquement le tableau",selectFile:"Sélectionner",indicator:"Indicateur",total:"Total",autoFill:"Auto-remplir",confirm:"Confirmer",confirmApply:"Confirmer et appliquer",hasData:"Données",templateDownloaded:"Template téléchargé - Importez après remplissage",dataImported:"Données importées - vérifiez puis confirmez",dataSaved:"Données sauvegardées et appliquées au KPI",systemDataApplied:"Données système appliquées",noDataToSave:"Aucune donnée à sauvegarder",downloadFailed:"Échec du téléchargement",parseFailed:"Échec de la lecture du fichier",saveFailed:"Échec de la sauvegarde",formulaInfo:"Écarts, TBM, Formation, Permis: récupérés du système",workHoursFormula:"Heures travaillées = Effectif × 10",dailyData:"Données Journalières",days:"jours",loadingDaily:"Chargement des données journalières..."}},profile:{title:"Profil",personalInfo:"Informations personnelles",updateProfile:"Mettre à jour le profil",changePassword:"Changer le mot de passe",profileUpdated:"Profil mis à jour avec succès",passwordMismatch:"Les mots de passe ne correspondent pas",currentPasswordWrong:"Le mot de passe actuel est incorrect"},notifications:{title:"Notifications",markAllRead:"Tout marquer comme lu",viewAll:"Voir toutes les notifications",deleteRead:"Supprimer les lus",noNotifications:"Aucune notification",newReport:"Nouveau rapport soumis",reportApproved:"Votre rapport a été approuvé",reportRejected:"Votre rapport a été rejeté",projectAssigned:"Vous avez été assigné à un projet",kpiSubmitted:"Nouveau rapport KPI soumis",kpiApproved:"Rapport KPI approuvé",kpiRejected:"Rapport KPI rejeté",sorSubmitted:"Nouvelle non-conformité signalée",sorCorrected:"Action corrective soumise",trainingSubmitted:"Nouvelle formation enregistrée",awarenessSubmitted:"Nouvelle sensibilisation enregistrée",reminder:"Rappel",system:"Annonce système"},errors:{somethingWentWrong:"Une erreur s'est produite",pageNotFound:"Page non trouvée",unauthorized:"Non autorisé",forbidden:"Accès interdit",serverError:"Erreur serveur",networkError:"Erreur de connexion. Vérifiez votre connexion internet.",validationError:"Erreur de validation",notFound:"Ressource non trouvée",goBack:"Retour",goHome:"Retour à l'accueil",failedToLoad:"Échec du chargement des données",failedToSave:"Échec de l'enregistrement",failedToDelete:"Échec de la suppression",failedToSendResetLink:"Échec de l'envoi du lien de réinitialisation"},success:{saved:"Enregistré avec succès",deleted:"Supprimé avec succès",profileUpdated:"Profil mis à jour avec succès",passwordChanged:"Mot de passe modifié avec succès"},months:{january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre"},pagination:{showing:"Affichage de",to:"à",of:"sur",results:"résultats",perPage:"par page",first:"Première",last:"Dernière"},sor:{title:"Suivi d'Écarts",subtitle:"Gestion des non-conformités et observations",submitDeviation:"Soumettre un écart",addNew:"Nouvelle Observation",newReport:"Nouvelle Non-Conformité",editReport:"Modifier Non-Conformité",viewReport:"Détails de l'observation",noReports:"Aucune observation enregistrée",fillRequired:"Veuillez remplir tous les champs obligatoires",createSuccess:"Observation créée avec succès",updateSuccess:"Observation mise à jour avec succès",statusUpdated:"Statut mis à jour avec succès",markClosed:"Marquer comme clôturé",project:"Nom de projet",selectProject:"Sélectionner un projet",company:"Entreprise",date:"Date",time:"Heure",zone:"Zone",zonePlaceholder:"Zone de travail...",supervisor:"Superviseur / Animateur",supervisorPlaceholder:"Nom du superviseur ou animateur HSE",nonConformity:"Non-Conformité",nonConformityPlaceholder:"Décrivez la non-conformité ou l'observation...",photo:"Photo",uploadPhoto:"Cliquez pour ajouter une photo",changePhoto:"Changer la photo",category:"Catégorie de l'écart",selectCategory:"Sélectionner une catégorie",responsiblePerson:"Responsable concerné",responsiblePersonPlaceholder:"Nom du responsable",deadline:"Date butoir",correctiveAction:"Action de maîtrise",correctiveActionPlaceholder:"Décrivez l'action corrective à mettre en place...",status:{label:"Statut",open:"Ouvert",inProgress:"En cours",closed:"Clôturé"},pendingCorrective:"Actions correctives en attente",addCorrective:"Ajouter action",addCorrectiveTitle:"Soumettre l'action corrective",correctivePromptTitle:"Action corrective",correctivePromptMessage:"Voulez-vous soumettre l'action corrective maintenant ou plus tard?",correctiveDate:"Date de l'action",correctiveTime:"Heure de l'action",correctivePhoto:"Photo de l'action corrective",correctiveRequired:"L'action corrective est obligatoire",correctiveSubmitted:"Action corrective soumise avec succès",editCorrective:"Modifier l'action corrective",submitLater:"Soumettre plus tard",submitAndClose:"Soumettre et clôturer",createClosedSuccess:"Observation créée et clôturée",createPinnedSuccess:"Observation créée et épinglée pour suivi",problemSummary:"Résumé du problème",closedBy:"Clôturé par",submittedBy:"Soumis par",clickToEnlarge:"Cliquer pour agrandir"},roles:{admin:"Administrateur",hse_manager:"Manager HSE",responsable:"Responsable HSE",user:"Animateur HSE",supervisor:"Superviseur HSE",hr:"Ressources Humaines",dev:"Développeur",pole_director:"Directeur Pôle",works_director:"Directeur Travaux",hse_director:"Directeur HSE",hr_director:"Directeur RH"},hseExport:{title:"Export Hebdomadaire HSE",description:"Exporter le rapport hebdomadaire HSE complet vers Excel",selectProject:"Sélectionner un projet",selectWeek:"Sélectionner une semaine",selectYear:"Sélectionner une année",week:"Semaine",year:"Année",exportButton:"Exporter KPI Excel",exporting:"Exportation en cours...",success:"Export généré avec succès",error:"Erreur lors de l'export",noProject:"Veuillez sélectionner un projet",noWeek:"Veuillez sélectionner une semaine et une année",sheets:{projectInfo:"Informations Projet",hseReporting:"Reporting HSE",incidents:"Incidents & Accidents",deviationsSgtm:"Écarts SGTM",deviationsSt:"Écarts Sous-traitants",categories:"Catégories d'écarts",certifications:"Habilitations",personnel:"Suivi Collaborateurs",training:"Formation & Sensibilisation",inspections:"Inspections",workPermits:"Permis de Travail"}}},Gt={common:{appName:"HSE KPI Tracker",companyName:"SGTM",loading:"Loading...",showMore:"Show more",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",filter:"Filter",export:"Export",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",yes:"Yes",no:"No",all:"All",none:"None",select:"Select",unselect:"Unselect",submit:"Submit",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous",close:"Close",view:"View",viewDetails:"View Details",download:"Download",upload:"Upload",refresh:"Refresh",noData:"No data available",error:"Error",success:"Success",warning:"Warning",info:"Information",step:"Step",allProjects:"All projects",allPoles:"All poles",reset:"Reset",update:"Update",saving:"Saving...",page:"Page",of:"of",unknown:"Unknown",selected:"selected",project:"Project",lightMode:"Light Mode",darkMode:"Dark Mode"},subcontractors:{title:"Subcontractor tracking",subtitle:"Site opening · Documents · Validity",opening:"Opening",workType:"Type of work",workTypePlaceholder:"e.g. Civil works, scaffolding, electrical...",chooseProjectFirst:"Choose a project first",addOpening:"Add opening",searchPlaceholder:"Search a company...",companiesCount:"{count} companie(s)",noCompanies:"No companies",noCompaniesHelp:"Choose a project and add an opening.",popoverTitle:"Document validity",expired:"Expired",expiring:"Expiring soon",othersCount:"+{count} more...",cardMeta:"{project} · Start: {start} · Workforce: {workers}",documentsCount:"Documents: {uploaded}/{required}",statusSummary:{green:"Up to date",yellow:"Expiring soon",red:"Expired / incomplete"},newOpening:"New site opening",company:"Company",other:"Other...",newCompany:"New company",companyPlaceholder:"Company name",startDate:"Start date",table:{document:"Document",startDate:"Start date",expiryDate:"Expiry date",file:"File"},docStatus:{valid:"valid",expiring:"expiring",expired:"expired",no_expiry:"no date",no_file:"missing"},openingSummary:"Start: {start} · Workforce: {workers} · Documents: {uploaded}/{required}",add:"Add",replace:"Replace",uploadTitle:"Upload: {label}",pdfFile:"PDF file",choosePdf:"Choose a PDF",compressionHint:"Automatic compression to < 5MB only if the file is larger than 5MB.",send:"Send",viewDocument:"View document",pdfOnly:"PDF only",confirmDeleteOpening:'Delete site opening for "{name}"?',openingDeleted:"Opening deleted",openingCreated:"Opening created",uploadFailed:"Upload failed",documentSaved:"Document saved",documentSavedWithSize:"Document saved ({size})",documentSavedCompressed:"Document saved (compressed: {original} → {compressed})"},datePicker:{days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",select:"Select"},status:{approved:"Approved",pending:"Pending",submitted:"Submitted",draft:"Draft",partial:"Partial",rejected:"Rejected",missing:"Missing",notSubmitted:"Not submitted"},auth:{login:"Login",logout:"Logout",email:"Email Address",password:"Password",confirmPassword:"Confirm Password",currentPassword:"Current Password",newPassword:"New Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",resetPassword:"Reset Password",signIn:"Sign In",signOut:"Sign Out",welcomeBack:"Welcome back",signInToContinue:"Sign in to your account to continue",emailRequired:"Email is required",passwordRequired:"Password is required",invalidCredentials:"Invalid credentials",loginSuccess:"Login successful!",redirecting:"Redirecting to your dashboard...",logoutSuccess:"Logged out successfully",resetLinkSent:"Password reset link sent to your email",passwordChanged:"Password changed successfully",accountDeactivated:"Your account has been deactivated. Please contact administrator.",demoCredentials:"Demo Credentials",admin:"Admin",user:"User",showPassword:"Show password",hidePassword:"Hide password"},nav:{dashboard:"Dashboard",administration:"Administration",projects:"Projects",myProjects:"My Projects",users:"Users",kpiSubmission:"KPI Submission",kpiHistory:"KPI History",reports:"Reports",settings:"Settings",profile:"Profile",notifications:"Notifications",help:"Help"},dashboard:{title:"Dashboard",adminTitle:"Admin Dashboard",userTitle:"User Dashboard",welcome:"Welcome",overview:"Overview",statistics:"Statistics",recentActivity:"Recent Activity",quickActions:"Quick Actions",totalProjects:"Total Projects",activeProjects:"Active Projects",totalUsers:"Total Users",activeUsers:"Active Users",pendingReports:"Pending Reports",approvedReports:"Approved Reports",avgTf:"Avg TF",avgTg:"Avg TG",monthlyTrends:"Monthly Trends",projectPerformance:"Project Performance",recentSubmissions:"Recent Submissions",submissionStatus:"Submission Status",exportData:"Export Data",exportExcel:"Export Excel",exportPdf:"Export PDF",exportSuccess:"Report exported successfully",exportFailed:"Failed to export report",loadFailed:"Failed to load dashboard data",totalReports:"Total Reports",awaitingApproval:"Awaiting approval",activeLabel:"active",inYear:"In {{year}}",weekPrefix:"Week",weeklyKpiTrends:"Weekly KPI Trends",detailsForWeek:"Details for {{week}}",viewKpiReports:"View KPI reports",tfTgRates:"TF & TG Rates",yearOverYearSummary:"Year-over-year summary ({{year}} vs {{compareYear}})",reports:"Reports",viewAllProjects:"View all projects",noProjectData:"No project data available.",compareLoadFailed:"Failed to load comparison dashboard data",draftsToComplete:"Reports to complete",draftLabel:"draft",draftLabelPlural:"drafts",weekLabel:"Week {{week}} - {{year}}",monthYearLabel:"{{month}} {{year}}",weekShortPrefix:"W",weekDetailsTitle:"Week {{week}} - Project details",currentWeekLabel:"Current week",themes:{overview:"Executive Overview",safety:"Safety Performance",training:"Training & Competence",compliance:"Compliance & Audits",deviations:"Deviation Tracking",environmental:"Environmental Impact"},deviations:{filters:{title:"Filters",project:"Project",week:"Week"},total:"Total deviations",open:"Open",closed:"Closed",avgCloseDays:"Avg close time",yearContext:"Year {{year}}",inProgressAndOpen:"Open + in progress",closedSubtitle:"Corrective action submitted",avgCloseSubtitle:"From observation to closure",trend:"Deviations trend",byStatus:"By status",byCategory:"Top categories",status:{open:"Open",inProgress:"In progress",closed:"Closed"}},safety:{totalAccidents:"Total Accidents",fatalAccidents:"Fatal Accidents",tfRate:"TF Rate",tgRate:"TG Rate",accidentTrends:"Accident Trends",accidentsBySeverity:"Accidents by Severity",accidentsByProject:"Accidents by Project",yearToDate:"Year to date",noFatalities:"No fatalities ✓",critical:"Critical",avgFrequencyRate:"Average frequency rate",avgSeverityRate:"Average severity rate",tfVsTg:"TF vs TG Rates",noAccidents:"No accidents recorded",greatSafety:"Great safety performance!",fatal:"Fatal",serious:"Serious",minor:"Minor"},training:{totalTrainings:"Total Trainings",employeesTrained:"Employees Trained",trainingHours:"Training Hours",completionRate:"Completion Rate",trainingTrends:"Training Sessions Trend",trainingByCategory:"Training by Category",trainingByProject:"Training by Project",trainingByTheme:"Training by Theme",trainingByDuration:"Training by Duration",trainingByType:"Internal vs External",awarenessByTheme:"TBT/TBM by Theme",sessionsCompleted:"Sessions completed",uniqueAttendees:"Unique attendees",totalHoursDelivered:"Total hours delivered",target:"Target",cumulativeHours:"Cumulative Training Hours",hseTraining:"HSE Training",technical:"Technical",softSkills:"Soft Skills",compliance:"Compliance",noTrainingData:"No training data",internal:"Internal",external:"External",totalAwareness:"TBT/TBM Sessions",awarenessParticipants:"Awareness Participants",awarenessHours:"Awareness Hours"},compliance:{totalInspections:"Total Inspections",hseCompliance:"HSE Compliance",medicalCompliance:"Medical Compliance",auditScore:"Audit Score",complianceRadar:"Compliance Radar",auditFindings:"Audit Findings",findings:"Findings",complianceByProject:"Compliance by Project",inspectionTrends:"Inspection Trends",completedThisYear:"Completed this year",avgScore:"Average score",healthChecks:"Health checks",latestAudit:"Latest audit",criticalFindings:"Critical",majorFindings:"Major",minorFindings:"Minor"},rates:{frequencyRate:"Frequency Rate (TF)",severityRate:"Severity Rate (TG)"},environmental:{hseCompliance:"HSE Compliance",medicalCompliance:"Medical Compliance",waterConsumption:"Water Consumption",electricityUsage:"Electricity Usage",complianceTrends:"Compliance Trends",waterVsElectricity:"Water vs Electricity",safetyTrends:"Safety Trends",complianceProgress:"Compliance Progress",yearToDate:"Year to date",targetAchieved:"Target achieved",toTarget:"to target",trainingHoursYTD:"Training Hours (YTD)",nearMissesYTD:"Near Misses (YTD)"},inspections:"Inspections",nearMisses:"Near Misses",accidents:"Accidents"},projects:{title:"Projects",projectList:"Project List",projectDetails:"Project Details",newProject:"New Project",editProject:"Edit Project",deleteProject:"Delete Project",projectName:"Project Name",projectCode:"Project Code",description:"Description",location:"Location",clientName:"Client Name",startDate:"Start Date",endDate:"End Date",status:"Status",active:"Active",completed:"Completed",suspended:"Suspended",assignedUsers:"Assigned Users",assignUsers:"Assign Users",kpiTrends:"KPI Trends",recentReports:"Recent Reports",noProjects:"No projects found",projectCreated:"Project created successfully",projectUpdated:"Project updated successfully",projectDeleted:"Project deleted successfully",confirmDelete:"Are you sure you want to delete this project?",assignedForKpi:"Projects assigned to you for KPI reporting",assignedToYou:"Projects assigned to you",backToProjects:"Back to Projects",team:"Team",teamMembers:"Team Members",manageTeam:"Manage Team",addToTeam:"Add to Team",removeFromTeam:"Remove from Team",noTeamMembers:"No team members yet",selectOfficers:"Select HSE Officers",availableOfficers:"Available HSE Officers",noAvailableOfficers:"No available HSE Officers",addSelected:"Add Selected",memberAdded:"Team member added successfully",memberRemoved:"Team member removed successfully",membersAdded:"{{count}} team member(s) added successfully",confirmRemoveMember:"Are you sure you want to remove {{name}} from the team?",addedBy:"Added by",addedOn:"Added on",zones:"Zones",manageZones:"Manage Zones",addZone:"Add a zone",removeZone:"Remove zone",zoneName:"Zone name",existingZones:"Existing zones",noZones:"No zones defined",zoneAdded:"Zone added",zoneRemoved:"Zone removed",zoneExists:"This zone already exists",zonesInfo:"These zones will be available in the deviation tracking dropdown",done:"Done"},training:{navLabel:"Training",pageTitle:"Training Submission",pageSubtitle:"Log training sessions and automatically compute training hours.",project:"Project",selectProject:"Select a project",date:"Date",by:"By",external:"External",externalPlaceholder:"External company name",theme:"Training theme",searchTheme:"Search training theme...",otherTheme:"Specify training name",duration:"Duration",selectDuration:"Select duration",durations:{"30min":"30 Min","1h":"1 Hour","1h30":"1 Hour 30 Min","2h":"2 Hours","3h":"3 Hours",halfDay:"Half a day","1day":"1 Day","2days":"2 Days","3days":"3 Days"},participants:"Number of participants",trainingHours:"Training hours",hoursUnit:"hours",submit:"Submit training",created:"Training saved successfully",photo:"Photo",uploadPhoto:"Click to add a photo",changePhoto:"Change photo",addTraining:"Add Training",clickToExpand:"Click to expand form",listTitle:"Recorded trainings",allProjects:"All projects",allWeeks:"All weeks",weekLabel:"Week {{week}}",noTrainings:"No trainings found for these filters",colDate:"Date",colProject:"Project",colBy:"By",colTheme:"Theme",colDuration:"Duration",colParticipants:"Participants",colHours:"Hours",colPhoto:"Photo",viewPhoto:"View photo",downloadPhoto:"Download photo",themes:["Scaffolding Assembly/Disassembly Training","Scaffolding Use Training","Formwork/Removal Training","Scaffolding Inspection","Slinging & Material Handling Training","First Aid (SST) Training","Personal Protective Equipment (PPE) Training","Power Tools Safety","Defensive Driving Training","Working at Height Training","Mobile Crane Operation Training","Backhoe Loader Operation Training","Tractor Operation Training","Safe Operation of Aerial Work Platforms (MEWP)","Welding Training","Electrical Training & Authorization","HSE Awareness for Personnel","Construction Machinery Operation Training","Light Vehicle Safe Driving Training","Flagman/Spotter Training","Excavation Safety Training","Confined Space","Fire Risk","Ergonomics","Environment (Housekeeping, Waste, Chemicals)","Co-activity / Simultaneous Operations","Other"]},awareness:{navLabel:"TBM/TBT",pageTitle:"Awareness Sessions (TBM/TBT)",pageSubtitle:"Submit and track toolbox meetings and safety talks",addSession:"Add Awareness Session",clickToExpand:"Click to expand form",project:"Project",selectProject:"Select a project",date:"Date",by:"By",theme:"Theme",searchTheme:"Search theme...",other:"Other",otherTheme:"Specify session topic",duration:"Duration",minutes:"minutes",participants:"Number of participants",sessionHours:"Session hours",hoursUnit:"hours",submit:"Submit session",created:"Session saved successfully",listTitle:"Recorded sessions",allProjects:"All projects",allWeeks:"All weeks",weekLabel:"Week {{week}}",noSessions:"No sessions found for these filters",colDate:"Date",colProject:"Project",colBy:"By",colTheme:"Theme",colDuration:"Duration",colParticipants:"Participants",colHours:"Hours",themes:["Safe work at height using certified MEWPs and scaffolding","Securing lifting zones and rigging operations","Traffic management for heavy equipment and co-activity","Communication between operators (signals, hand signs, radios)","Correct use of mandatory PPE","Electrical risks and lockout/tagout","Safe manual handling","Dropped objects prevention and tool securing at height","Excavation and trench safety","Pressure hazards and pressurized equipment safety","Fire safety and extinguisher handling","Chemical safety and SDS awareness","Hot work — fire permit and controlled perimeter","Mechanical / hydraulic energy isolation","Mobile crane safety","Confined space work — atmosphere testing, ventilation, rescue plan","Waste management and housekeeping","Noise hazards and hearing protection","Insufficient lighting on site","Night work — vigilance and organization","Ergonomics and safe body positioning","Hazardous energy control (full LOTO)","Safe use of fixed and portable power tools","Slips, trips, and falls prevention","Extreme weather (wind, rain, heat) and work adaptation","Safety near open electrical panels","Cutting/grinding/drilling risk prevention","Hazard of impact with suspended loads","Securing access points and zone barricading","Fatigue risk and lack of focus","Near-miss prevention and lessons learned","Emergency evacuation and first aid readiness","Proper material storage and workplace organization"]},workPermits:{title:"Work Permits",pageTitle:"Work Permits Management",pageSubtitle:"Manage work permits for your projects",newPermit:"New Permit",editPermit:"Edit Permit",deletePermit:"Delete Permit",permitNumber:"Permit Number",project:"Project",selectProject:"Select a project",week:"Week",selectWeek:"Select week",year:"Year",prolongation:"Prolongation (Sunday)",prolongationHint:"Check for Sunday permits",serialNumber:"Serial Number",permitTypes:"Permit Types",types:{cold:"Cold Permit",workAtHeight:"Work at Height Permit",hotWork:"Hot Work Permit",confinedSpaces:"Confined Spaces Permit",electricalIsolation:"Electrical Isolation Permit",energizedWork:"Energized Work Permit",excavation:"Excavation Permit",mechanicalIsolation:"Mechanical Isolation Permit",grinder7inch:"7 Inch Grinder Permit"},description:"Permit Description",descriptionPlaceholder:"Describe the work to be performed...",area:"Area",areaPlaceholder:"Work area location",permitUser:"Permit User",permitUserPlaceholder:"Name of permit user",signedBy:"Permit Issuer",signedByPlaceholder:"Name of issuer",authorizer:"Authorizer",authorizerPlaceholder:"Name of authorizer",commenceDate:"Start Date",exportExcel:"Export Excel",exported:"Permits exported successfully",exportError:"Error exporting permits",endDate:"End Date",enterprise:"Enterprise",enterprisePlaceholder:"Enterprise name",status:{draft:"Draft",active:"Active",closed:"Closed",cancelled:"Cancelled"},copyFromPrevious:"Copy from Previous Week",copySelected:"Copy Selected",reinitializeNumbers:"Reinitialize Numbers",launchWeek:"Launch Week",launchConfirm:"Are you sure you want to launch all permits for this week? This will reinitialize permit numbers and activate all draft permits.",created:"Work permit created successfully",updated:"Work permit updated successfully",deleted:"Work permit deleted successfully",copied:"{{count}} permit(s) copied successfully",numbersReinitialized:"Permit numbers reinitialized",weekLaunched:"{{count}} permit(s) launched successfully",confirmDelete:"Are you sure you want to delete this permit?",noPermits:"No permits found for this week",previousWeekPermits:"Previous Week Permits",currentWeekPermits:"Current Week Permits",selectToCopy:"Select permits to copy to current week",weekInfo:"Week {{week}} ({{start}} - {{end}})",mondayToSaturday:"Monday to Saturday"},inspections:{title:"Inspections",pageTitle:"Inspection Management",pageSubtitle:"Manage HSE and environment inspections",project:"Project",selectProject:"Select a project",selectProjectFirst:"Please select a project to view inspections",newInspection:"New Inspection",editInspection:"Edit Inspection",listTitle:"Inspection List",noInspections:"No inspections found",searchPlaceholder:"Search by inspector, location, zone...",date:"Date",nature:"Inspection Nature",natureOther:"Specify",natureOtherPlaceholder:"Specify the inspection nature",type:"Inspection Type",location:"Location",locationPlaceholder:"Inspection location",zone:"Zone",zonePlaceholder:"Inspection zone",startDate:"Start Date",endDate:"Completion Date",inspector:"Inspector",enterprise:"Enterprise",enterprisePlaceholder:"Enterprise name",status:"Status",statusOpen:"Open",statusClosed:"Closed",notes:"Notes",notesPlaceholder:"Additional notes...",natures:{sst:"HSE Inspection",environment:"Environment Inspection",thirdParty:"Third Party Inspection",equipment:"Equipment and Tools Inspection",other:"Other"},types:{internal:"Internal",external:"External"},create:"Create Inspection",created:"Inspection created successfully",updated:"Inspection updated successfully",deleted:"Inspection deleted successfully",confirmDelete:"Are you sure you want to delete this inspection?"},workers:{title:"Workers Management",subtitle:"Manage workers and their information",addWorker:"Add Worker",newWorker:"New Worker",editWorker:"Edit Worker",noWorkers:"No workers found",nom:"Last Name",prenom:"First Name",fonction:"Function",cin:"National ID",dateNaissance:"Date of Birth",entreprise:"Company",projet:"Project",dateEntree:"Entry Date",status:"Status",active:"Active",inactive:"Inactive",import:"Import",export:"Export",downloadTemplate:"Download Template",bulkDeactivate:"Deactivate Selected",bulkActivate:"Activate Selected",deactivate:"Deactivate",activate:"Activate",created:"Worker created successfully",merged:"Worker updated (existing CIN)",updated:"Worker updated successfully",deactivated:"Worker deactivated successfully",activated:"Worker activated successfully",bulkDeactivated:"{{count}} worker(s) deactivated",bulkActivated:"{{count}} worker(s) activated",importSuccess:"Import successful: {{imported}} imported, {{merged}} merged",confirmDeactivate:"Are you sure you want to deactivate {{name}}?",confirmBulkDeactivate:"Are you sure you want to deactivate {{count}} worker(s)?",allProjects:"All Projects",allEntreprises:"All Companies",allFonctions:"All Functions",allStatus:"All Status",totalWorkers:"Total Workers",activeWorkers:"Active",inactiveWorkers:"Inactive",hseTeam:"HSE Team",statusHelp:"Deactivated = not visible in project",importTitle:"Import Workers",importHelp:"Download the template, fill it in, and import it.",selectFile:"Select File",cinInfo:"CIN is the unique identifier. Duplicates will be merged.",selectDate:"Select a date",minAge:"Worker must be at least 18 years old",fonctionPlaceholder:"Site Manager, Worker...",entreprisePlaceholder:"SGTM, Contractor..."},qualifiedPersonnel:{navLabel:"Qualified Personnel",pageTitle:"Worker Trainings",pageSubtitle:"Manage worker-specific trainings and certificates.",filters:{searchPlaceholder:"Search by name or National ID...",trainingPlaceholder:"All trainings",resultsCount:"{count} result(s)"},workerCardTitle:"Personnel",addTrainingTitle:"Add Training",trainingType:"Training type",trainingLabel:"Training title",trainingDate:"Training date",expiryDate:"Expiry date",certificate:"Certificate (PDF)",chooseFile:"Choose a file",saveTraining:"Save training",trainingCreated:"Worker training saved",invalidExpiry:"Expiry date cannot be before training date",trainingListTitle:"Worker trainings",colType:"Type",colStartDate:"Start date",colEndDate:"Expiry date",colCertificate:"Certificate",noTrainings:"No trainings for this worker.",noWorkerSelected:"Select a worker to see their trainings.",noWorkerSelectedHelp:"Choose a project and search by name or National ID, then select a worker to view and add trainings.",statusValid:"Valid",statusExpiring:"Expiring soon",statusExpired:"Expired",statusNoExpiry:"No date",viewExpiringButton:"View expiring / expired trainings",viewAllButton:"View all trainings",expiringListTitle:"Expiring / expired trainings",noExpiring:"No expiring or expired trainings found for your projects.",viewCertificate:"View certificate",downloadCertificate:"Download",types:{inductionHse:"Induction HSE",aptitudePhysique:"Physical aptitude",travailHauteur:"Working at height",elinguage:"Slinging",outillageElectrique:"Electrical tools",inspecteurEchafaudage:"Scaffold inspector",monteurEchafaudage:"Scaffold erector",incendie:"Fire safety",secourisme:"First aid",reconnaissanceHse:"HSE awareness",other:"Other (specify)"}},users:{title:"User Management",subtitle:"Manage system users and their permissions",userList:"User List",userDetails:"User Details",addUser:"Add User",newUser:"New User",editUser:"Edit User",createUser:"Create New User",updateUser:"Update User",createUserBtn:"Create User",deleteUser:"Delete User",searchPlaceholder:"Search users...",allRoles:"All Roles",roles:{admin:"Administrator",hse_manager:"HSE Manager",responsable:"HSE Responsible",user:"HSE Officer",supervisor:"HSE Supervisor",hr:"Human Resources",dev:"Developer",pole_director:"Pole Director",works_director:"Works Director",hse_director:"HSE Director",hr_director:"HR Director"},table:{user:"User",role:"Role",projects:"Projects",status:"Status",actions:"Actions"},status:{active:"Active",inactive:"Inactive"},form:{fullName:"Full Name",email:"Email Address",cin:"National ID",cinPlaceholder:"National ID card number",password:"Password",passwordHint:"leave blank to keep current",role:"Role",pole:"Pole",selectPole:"Select pole",phone:"Phone",assignProjects:"Assign to Projects"},activate:"Activate",deactivate:"Deactivate",loadError:"Failed to load users",saveError:"Failed to save user",createSuccess:"User created successfully",updateSuccess:"User updated successfully",deleteSuccess:"User deleted successfully",deleteError:"Failed to delete user",deleteConfirm:"Are you sure you want to delete {{name}}?",activateSuccess:"User activated successfully",deactivateSuccess:"User deactivated successfully",statusError:"Failed to update user status",noUsers:"No users found",assignedProjects:"Assigned Projects",toggleStatus:"Toggle Status"},members:{title:"Member Management",subtitle:"Manage project team members",addMember:"Add Member",newMember:"New Member",editMember:"Edit Member",noMembers:"No members found",createSuccess:"Member created successfully",createMerged:"Existing user found with this National ID and added to project",updateSuccess:"Member updated successfully",removeSuccess:"Member removed from project successfully",removeConfirm:"Are you sure you want to remove {{name}} from this project?",removeWarning:"The user will be deactivated if they have no remaining project affiliations.",cinExists:"A user with this National ID already exists",emailExists:"A user with this email already exists",selectRole:"Select a role",cannotRemoveSelf:"You cannot remove yourself from the project",cinInfo:"If a user with this National ID already exists, they will be automatically added to this project."},kpi:{title:"KPI Reports",submission:"KPI Submission",submitKpi:"Submit KPI",history:"KPI History",newReport:"New Report",editReport:"Edit Report",viewReport:"View Report",deleteReport:"Delete Report",selectProject:"Select Project",selectMonth:"Select Month",selectYear:"Select Year",reportDate:"Report Date",reportMonth:"Report Month",reportYear:"Report Year",status:{draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"},saveDraft:"Save Draft",submitReport:"Submit Report",approve:"Approve",reject:"Reject",rejectionReason:"Rejection Reason",accidents:{title:"Accidents",total:"Total Accidents",fatal:"Fatal Accidents",serious:"Serious Accidents",minor:"Minor Accidents",nearMisses:"Near Misses",firstAidCases:"First Aid Cases"},training:{title:"Training",conducted:"Trainings Conducted",planned:"Trainings Planned",employeesTrained:"Employees Trained",trainingHours:"Training Hours",toolboxTalks:"Toolbox Talks"},inspections:{title:"Inspections",completed:"Inspections Completed",planned:"Inspections Planned",findingsOpen:"Open Findings",findingsClosed:"Closed Findings",correctiveActions:"Corrective Actions"},rates:{title:"Rates & Hours",hoursWorked:"Hours Worked",lostWorkdays:"Lost Workdays",frequencyRate:"Frequency Rate (TF)",severityRate:"Severity Rate (TG)"},additional:{title:"Additional Metrics",unsafeActs:"Unsafe Acts Reported",unsafeConditions:"Unsafe Conditions Reported",emergencyDrills:"Emergency Drills",ppeCompliance:"PPE Compliance (%)"},notes:"Notes & Comments",noReports:"No reports found",reportSaved:"Report saved successfully",reportSubmitted:"Report submitted successfully",reportResubmitted:"Report resubmitted successfully",reportApproved:"Report approved successfully",reportRejected:"Report rejected",reportDeleted:"Report deleted successfully",confirmDelete:"Are you sure you want to delete this report?",management:{title:"KPI Report Management",subtitle:"Approve or reject submitted reports",searchPlaceholder:"Search...",allStatuses:"All statuses",statusSubmitted:"Pending",submittedBy:"Submitted by",period:"Period",date:"Date",viewDetails:"View details",rejectTitle:"Reject report",rejectReasonRequired:"Please enter a rejection reason",rejectWarningBefore:"The report will be moved back to",rejectWarningAfter:"so the submitter can correct and resubmit.",rejectReasonPlaceholder:"Enter the rejection reason...",detailsTitle:"Report details",loadDetailsFailed:"Failed to load report details",previouslyRejected:"Previously rejected",rejectedOn:"Rejected on {date}",sections:{effectifInduction:"1-2. Workforce & Induction",observationsAwareness:"3-4. Observations & Awareness",accidentsIncidents:"5-8. Accidents & Incidents",inspectionsIndicators:"9-11. Inspections & Indicators",trainingPermitsDiscipline:"12-14. Training, Permits & Discipline",complianceMonitoring:"15-17. Compliance & Monitoring",energyConsumption:"18-19. Energy Consumption"}},steps:{projectInfo:"Project Info",weeklyReporting:"HSE Reporting",incidentTracking:"Incident Tracking"},projectInfo:{title:"Project Information",selectProject:"Select a project",reportPeriod:"Report Period",weekNumber:"Week Number",startDate:"Start Date",endDate:"End Date",currentWeek:"Current week"},autoPopulate:"Auto-fill Data",autoPopulateTitle:"Auto-fill from Related Data",autoPopulateDesc:"Automatically fill the form with data from deviations, trainings, inspections, etc.",autoPopulated:"Data auto-filled",noDataToPopulate:"No related data found for this period",selectProjectAndWeek:"Please select a project and week first",weekly:{title:"Weekly HSE Reporting",effectif:"Workforce",induction:"Induction",ecarts:"Deviations Recorded",sensibilisation:"Awareness Sessions",presquAccident:"Near Miss",premiersSoins:"First Aid Cases",accident:"Accident",joursArret:"Lost Work Days",inspections:"Number of Inspections",tauxGravite:"Severity Rate (TG)",tauxFrequence:"Frequency Rate (TF)",heuresFormation:"Training Hours",permisTravail:"Work Permits",mesuresDisciplinaires:"Disciplinary Measures",conformiteHSE:"HSE Regulatory Compliance Rate",conformiteMedecine:"Occupational Medicine Compliance",suiviBruit:"Noise Monitoring",consoEau:"Energy Consumption: Water",consoElectricite:"Energy Consumption: Electricity",consommation:"Resource Consumption",consommationEau:"Water Consumption",consommationElectricite:"Electricity Consumption"},incidents:{title:"Incident & Accident Tracking",fatality:"Fatality",lostTimeAccident:"Lost Time Accident",nonLostTimeAccident:"Non-Lost Time Accident",firstAidCase:"First Aid Case",nearMiss:"Near Miss",propertyDamage:"Property Damage",environmentalImpact:"Environmental Impact",lostWorkDays:"Lost Work Days"},dailyKpi:{title:"Daily HSE Entry",subtitle:"Daily data → Auto-calculate weekly KPIs",download:"Download",import:"Import",entry:"Entry",downloadTemplate:"SGTM Excel Template",downloadDesc:"Download template, fill daily data, then import it",importFile:"Import filled file",importDesc:"Data will automatically fill the table",selectFile:"Select",indicator:"Indicator",total:"Total",autoFill:"Auto-fill",confirm:"Confirm",confirmApply:"Confirm and apply",hasData:"Data",templateDownloaded:"Template downloaded - Import after filling",dataImported:"Data imported - review then confirm",dataSaved:"Data saved and applied to KPI",systemDataApplied:"System data applied",noDataToSave:"No data to save",downloadFailed:"Download failed",parseFailed:"Failed to parse file",saveFailed:"Save failed",formulaInfo:"Deviations, TBM, Training, Permits: fetched from system",workHoursFormula:"Work hours = Workforce × 10",dailyData:"Daily Data",days:"days",loadingDaily:"Loading daily data..."}},profile:{title:"Profile",personalInfo:"Personal Information",updateProfile:"Update Profile",changePassword:"Change Password",profileUpdated:"Profile updated successfully",passwordMismatch:"Passwords do not match",currentPasswordWrong:"Current password is incorrect"},notifications:{title:"Notifications",markAllRead:"Mark all as read",viewAll:"View all notifications",deleteRead:"Delete read",noNotifications:"No notifications yet",newReport:"New report submitted",reportApproved:"Your report has been approved",reportRejected:"Your report has been rejected",projectAssigned:"You have been assigned to a project",kpiSubmitted:"New KPI report submitted",kpiApproved:"KPI report approved",kpiRejected:"KPI report rejected",sorSubmitted:"New non-conformity reported",sorCorrected:"Corrective action submitted",trainingSubmitted:"New training recorded",awarenessSubmitted:"New awareness session recorded",reminder:"Reminder",system:"System announcement"},errors:{somethingWentWrong:"Something went wrong",pageNotFound:"Page not found",unauthorized:"Unauthorized",forbidden:"Access forbidden",serverError:"Server error",networkError:"Network error. Please check your connection.",validationError:"Validation error",notFound:"Resource not found",goBack:"Go Back",goHome:"Go Home",failedToLoad:"Failed to load data",failedToSave:"Failed to save changes",failedToDelete:"Failed to delete item",failedToSendResetLink:"Failed to send reset link"},success:{saved:"Saved successfully",deleted:"Deleted successfully",profileUpdated:"Profile updated successfully",passwordChanged:"Password changed successfully"},months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},pagination:{showing:"Showing",to:"to",of:"of",results:"results",perPage:"per page",first:"First",last:"Last"},sor:{title:"Deviation Tracking",subtitle:"Non-conformity and observation management",submitDeviation:"Submit Deviation",addNew:"New Observation",newReport:"New Non-Conformity",editReport:"Edit Non-Conformity",viewReport:"Observation Details",noReports:"No observations recorded",fillRequired:"Please fill in all required fields",createSuccess:"Observation created successfully",updateSuccess:"Observation updated successfully",statusUpdated:"Status updated successfully",markClosed:"Mark as closed",project:"Project Name",selectProject:"Select a project",company:"Company",date:"Date",time:"Time",zone:"Zone",zonePlaceholder:"Work area / location...",supervisor:"Supervisor / HSE Officer",supervisorPlaceholder:"Name of supervisor or HSE officer",nonConformity:"Non-Conformity",nonConformityPlaceholder:"Describe the non-conformity or observation...",photo:"Photo",uploadPhoto:"Click to add a photo",changePhoto:"Change photo",category:"Deviation Category",selectCategory:"Select a category",responsiblePerson:"Responsible Person",responsiblePersonPlaceholder:"Name of responsible person",deadline:"Deadline",correctiveAction:"Corrective Action",correctiveActionPlaceholder:"Describe the corrective action to implement...",status:{label:"Status",open:"Open",inProgress:"In Progress",closed:"Closed"},pendingCorrective:"Pending Corrective Actions",addCorrective:"Add Action",addCorrectiveTitle:"Submit Corrective Action",correctivePromptTitle:"Corrective Action",correctivePromptMessage:"Would you like to submit the corrective action now or later?",correctiveDate:"Action Date",correctiveTime:"Action Time",correctivePhoto:"Corrective Action Photo",correctiveRequired:"Corrective action is required",correctiveSubmitted:"Corrective action submitted successfully",editCorrective:"Edit Corrective Action",submitLater:"Submit Later",submitAndClose:"Submit & Close",createClosedSuccess:"Observation created and closed",createPinnedSuccess:"Observation created and pinned for follow-up",problemSummary:"Problem Summary",closedBy:"Closed by",submittedBy:"Submitted by",clickToEnlarge:"Click to enlarge"},roles:{admin:"Administrator",hse_manager:"HSE Manager",responsable:"HSE Responsible",user:"HSE Officer",supervisor:"HSE Supervisor",hr:"Human Resources",dev:"Developer",pole_director:"Pole Director",works_director:"Works Director",hse_director:"HSE Director",hr_director:"HR Director"},hseExport:{title:"HSE Weekly Export",description:"Export comprehensive HSE weekly report to Excel",selectProject:"Select Project",selectWeek:"Select Week",selectYear:"Select Year",week:"Week",year:"Year",exportButton:"Export KPI Excel",exporting:"Exporting...",success:"Export generated successfully",error:"Error during export",noProject:"Please select a project",noWeek:"Please select a week and year",sheets:{projectInfo:"Project Information",hseReporting:"HSE Reporting",incidents:"Incidents & Accidents",deviationsSgtm:"SGTM Deviations",deviationsSt:"Subcontractor Deviations",categories:"Deviation Categories",certifications:"Certifications",personnel:"Personnel Tracking",training:"Training & Awareness",inspections:"Inspections",workPermits:"Work Permits"}}},q={fr:Vt,en:Gt},Pe="fr",Te="hse-kpi-language",Je=g.createContext(),U=[{code:"fr",name:"Français",flag:"🇫🇷"},{code:"en",name:"English",flag:"🇬🇧"}];function Kt({children:e}){const[r,s]=g.useState(()=>{const l=localStorage.getItem(Te);return l&&q[l]?l:Pe}),a=g.useCallback(l=>{q[l]&&(s(l),localStorage.setItem(Te,l),document.documentElement.lang=l)},[]);g.useEffect(()=>{document.documentElement.lang=r},[r]);const i=g.useCallback((l,m={})=>{const d=l.split(".");let h=q[r];for(const y of d)if(h&&typeof h=="object"&&y in h)h=h[y];else{h=q[Pe];for(const j of d)if(h&&typeof h=="object"&&j in h)h=h[j];else return console.warn(`Translation key not found: ${l}`),l;break}return Array.isArray(h)?h:typeof h!="string"?(console.warn(`Translation key is not a string or array: ${l}`),l):h.replace(/\{(\w+)\}/g,(y,j)=>m[j]!==void 0?m[j]:y)},[r]),n=U.find(l=>l.code===r)||U[0],c={language:r,setLanguage:a,t:i,currentLanguage:n,languages:U};return t.jsx(Je.Provider,{value:c,children:e})}function ie(){const e=g.useContext(Je);if(e)return e;const r=(()=>{try{return localStorage.getItem(Te)}catch{return null}})(),s=r&&q[r]?r:Pe,a=(n,c={})=>{const l=n.split(".");let m=q[s];for(const d of l)if(m&&typeof m=="object"&&d in m)m=m[d];else return console.warn(`Translation key not found: ${n}`),n;return Array.isArray(m)?m:typeof m!="string"?(console.warn(`Translation key is not a string or array: ${n}`),n):m.replace(/\{(\w+)\}/g,(d,h)=>c[h]!==void 0?c[h]:d)},i=U.find(n=>n.code===s)||U[0];return{language:s,setLanguage:()=>{},t:a,currentLanguage:i,languages:U}}function Dr(){const{t:e}=ie();return e}const Yt="modulepreload",Jt=function(e){return"/"+e},Me={},w=function(r,s,a){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");i=Promise.allSettled(s.map(m=>{if(m=Jt(m),m in Me)return;Me[m]=!0;const d=m.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":Yt,d||(y.as="script"),y.crossOrigin="",y.href=m,l&&y.setAttribute("nonce",l),document.head.appendChild(y),d)return new Promise((j,E)=>{y.addEventListener("load",j),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function n(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return i.then(c=>{for(const l of c||[])l.status==="rejected"&&n(l.reason);return r().catch(n)})},Zt={};function Xt(e,r){let s;try{s=e()}catch{return}return{getItem:i=>{var n;const c=m=>m===null?null:JSON.parse(m,void 0),l=(n=s.getItem(i))!=null?n:null;return l instanceof Promise?l.then(c):c(l)},setItem:(i,n)=>s.setItem(i,JSON.stringify(n,void 0)),removeItem:i=>s.removeItem(i)}}const Y=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(a){return Y(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return Y(a)(s)}}}},Qt=(e,r)=>(s,a,i)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,k)=>({...k,...b}),...r},c=!1;const l=new Set,m=new Set;let d;try{d=n.getStorage()}catch{}if(!d)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),s(...b)},a,i);const h=Y(n.serialize),y=()=>{const b=n.partialize({...a()});let k;const v=h({state:b,version:n.version}).then(P=>d.setItem(n.name,P)).catch(P=>{k=P});if(k)throw k;return v},j=i.setState;i.setState=(b,k)=>{j(b,k),y()};const E=e((...b)=>{s(...b),y()},a,i);let N;const x=()=>{var b;if(!d)return;c=!1,l.forEach(v=>v(a()));const k=((b=n.onRehydrateStorage)==null?void 0:b.call(n,a()))||void 0;return Y(d.getItem.bind(d))(n.name).then(v=>{if(v)return n.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==n.version){if(n.migrate)return n.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var P;return N=n.merge(v,(P=a())!=null?P:E),s(N,!0),y()}).then(()=>{k?.(N,void 0),c=!0,m.forEach(v=>v(N))}).catch(v=>{k?.(void 0,v)})};return i.persist={setOptions:b=>{n={...n,...b},b.getStorage&&(d=b.getStorage())},clearStorage:()=>{d?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>x(),hasHydrated:()=>c,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(m.add(b),()=>{m.delete(b)})},x(),N||E},er=(e,r)=>(s,a,i)=>{let n={storage:Xt(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...r},c=!1;const l=new Set,m=new Set;let d=n.storage;if(!d)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),s(...x)},a,i);const h=()=>{const x=n.partialize({...a()});return d.setItem(n.name,{state:x,version:n.version})},y=i.setState;i.setState=(x,b)=>{y(x,b),h()};const j=e((...x)=>{s(...x),h()},a,i);i.getInitialState=()=>j;let E;const N=()=>{var x,b;if(!d)return;c=!1,l.forEach(v=>{var P;return v((P=a())!=null?P:j)});const k=((b=n.onRehydrateStorage)==null?void 0:b.call(n,(x=a())!=null?x:j))||void 0;return Y(d.getItem.bind(d))(n.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==n.version){if(n.migrate)return[!0,n.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var P;const[J,ce]=v;if(E=n.merge(ce,(P=a())!=null?P:j),s(E,!0),J)return h()}).then(()=>{k?.(E,void 0),E=a(),c=!0,m.forEach(v=>v(E))}).catch(v=>{k?.(void 0,v)})};return i.persist={setOptions:x=>{n={...n,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>N(),hasHydrated:()=>c,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(m.add(x),()=>{m.delete(x)})},n.skipHydration||N(),E||j},tr=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Zt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Qt(e,r)):er(e,r),Ee=tr,rr="/api",W=new Map,Ze=3e4,V=new Map,or=(e,r)=>`${e}:${JSON.stringify(r||{})}`,sr=(e,r)=>{const s=W.get(e),a=r??s?.ttl??Ze;return s&&Date.now()-s.timestamp<a?s.data:(W.delete(e),null)},ar=(e,r,s)=>{if(W.set(e,{data:r,ttl:s,timestamp:Date.now()}),W.size>100){const a=W.keys().next().value;W.delete(a)}},o=Ot.create({baseURL:rr,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:3e4}),ir=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}`},nr=e=>{const r=String(e||"");return r.includes("/auth/login")||r.includes("/auth/reset-password")||r.includes("/auth/forgot-password")||r.includes("/auth/change-password")};o.interceptors.request.use(e=>(e.metadata={startTime:Date.now(),requestId:ir()},e),e=>Promise.reject(e));const Er={getAll:e=>o.get("/trainings",{params:e}),getById:e=>o.get(`/trainings/${e}`),getPhoto:e=>o.get(`/trainings/${e}/photo`,{responseType:"blob"}),create:e=>{const r=new FormData;return Object.keys(e).forEach(s=>{const a=e[s];a!=null&&a!==""&&(typeof a=="boolean"?r.append(s,a?"1":"0"):r.append(s,a))}),o.post("/trainings",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const s=new FormData;return s.append("_method","PUT"),Object.keys(r).forEach(a=>{const i=r[a];i!=null&&i!==""&&s.append(a,i)}),o.post(`/trainings/${e}`,s,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/trainings/${e}`)},Cr={getAll:e=>o.get("/worker-trainings",{params:e}),getOtherLabels:e=>o.get("/worker-trainings/other-labels",{params:e}),getById:e=>o.get(`/worker-trainings/${e}`),create:e=>{const r=new FormData;return Object.keys(e).forEach(s=>{const a=e[s];a!=null&&a!==""&&r.append(s,a)}),o.post("/worker-trainings",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const s=new FormData;return s.append("_method","PUT"),Object.keys(r).forEach(a=>{const i=r[a];i!=null&&i!==""&&s.append(a,i)}),o.post(`/worker-trainings/${e}`,s,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/worker-trainings/${e}`)},Nr={getAll:e=>o.get("/awareness-sessions",{params:e}),getById:e=>o.get(`/awareness-sessions/${e}`),create:e=>o.post("/awareness-sessions",e),update:(e,r)=>o.put(`/awareness-sessions/${e}`,r),delete:e=>o.delete(`/awareness-sessions/${e}`)};o.interceptors.response.use(e=>{if(e.config.metadata){const r=Date.now()-e.config.metadata.startTime;r>2e3&&console.warn(`Slow API request: ${e.config.url} took ${r}ms`)}return e},e=>{const{response:r,config:s}=e;try{const a=String(s?.method||"GET").toUpperCase(),i=String(s?.url||""),n=s?.metadata?.requestId,c=r?.status,l={requestId:n,method:a,url:i,params:s?.params};nr(i)||(l.data=s?.data);const m=r?{status:r.status,statusText:r.statusText,data:r.data}:null;console.groupCollapsed(`[API] ${a} ${i} -> ${c??"NO_RESPONSE"}`),console.log("request",l),m&&console.log("response",m),console.error(e),console.groupEnd()}catch(a){console.error("[API] Failed to log error",a)}if(r)switch(r.status){case 401:localStorage.removeItem("hse-auth-storage"),window.location.href="/login";break;case 403:_.error("Access denied. You do not have permission to perform this action.");break;case 404:_.error("Resource not found.");break;case 422:break;case 500:console.error("Server error:",r.data),_.error("Server error. Please try again later.");break;case 502:case 503:case 504:_.error("Server is temporarily unavailable. Please try again.");break;default:_.error(r.data?.message||"An error occurred")}else e.code==="ECONNABORTED"?_.error("Request timed out. Please try again."):_.error("Network error. Please check your connection.");return Promise.reject(e)});const I=async(e,r={},s=Ze)=>{const a=or(e,r),i=sr(a,s);if(i)return{data:i,fromCache:!0};if(V.has(a))return V.get(a);const n=o.get(e,{params:r}).then(c=>(ar(a,c.data,s),V.delete(a),c)).catch(c=>{throw V.delete(a),c});return V.set(a,n),n},Rr={login:(e,r)=>o.post("/auth/login",{email:e,password:r}),logout:()=>o.post("/auth/logout"),me:()=>o.get("/auth/me"),forgotPassword:e=>o.post("/auth/forgot-password",{email:e}),resetPassword:e=>o.post("/auth/reset-password",e),updateProfile:e=>o.put("/auth/profile",e),changePassword:e=>o.post("/auth/change-password",e)},Ir={getAdminDashboard:e=>I("/dashboard/admin",e),getUserDashboard:e=>I("/dashboard/user",typeof e=="number"?{year:e}:e||{}),getAccidentCharts:e=>I("/dashboard/charts/accidents",e),getTrainingCharts:e=>I("/dashboard/charts/trainings",e),getInspectionCharts:e=>I("/dashboard/charts/inspections",e),getSorCharts:e=>I("/dashboard/charts/sor",e),getRateCharts:e=>I("/dashboard/charts/rates",e)},_r={getAll:e=>o.get("/users",{params:e}),getById:e=>o.get(`/users/${e}`),create:e=>o.post("/users",e),update:(e,r)=>o.put(`/users/${e}`,r),delete:e=>o.delete(`/users/${e}`),toggleStatus:e=>o.post(`/users/${e}/toggle-status`),assignProjects:(e,r)=>o.post(`/users/${e}/assign-projects`,{project_ids:r}),getStatistics:()=>o.get("/users/statistics"),downloadTemplate:()=>o.get("/users/template",{responseType:"blob"}),bulkImport:e=>o.post("/users/import",e,{headers:{"Content-Type":"multipart/form-data"}})},Mr={getAll:e=>o.get("/projects",{params:e}),getAllList:async(e={})=>{const r=e.per_page??200;let s=1;const a=[];let i=!0;for(;i;){const n=await I("/projects",{...e,page:s,per_page:r},6e4),c=n.data?.data??[];Array.isArray(c)&&a.push(...c);const l=n.data?.meta;i=!!l&&s<l.last_page,i&&(s+=1)}return a},getById:e=>o.get(`/projects/${e}`),create:e=>o.post("/projects",e),update:(e,r)=>o.put(`/projects/${e}`,r),delete:e=>o.delete(`/projects/${e}`),getStatistics:()=>o.get("/projects/statistics"),getKpiTrends:(e,r)=>o.get(`/projects/${e}/kpi-trends`,{params:{months:r}}),getPoles:e=>I("/projects/poles",e??{},3e5),downloadTemplate:()=>o.get("/projects/template",{responseType:"blob"}),bulkImport:e=>o.post("/projects/import",e,{headers:{"Content-Type":"multipart/form-data"}}),getTeam:e=>o.get(`/projects/${e}/team`),getAvailableOfficers:e=>o.get(`/projects/${e}/team/available`),addTeamMember:(e,r)=>o.post(`/projects/${e}/team`,{user_id:r}),addTeamMembers:(e,r)=>o.post(`/projects/${e}/team/bulk`,{user_ids:r}),downloadTeamTemplate:e=>o.get(`/projects/${e}/team/template`,{responseType:"blob"}),importTeam:(e,r)=>o.post(`/projects/${e}/team/import`,r,{headers:{"Content-Type":"multipart/form-data"}}),removeTeamMember:(e,r)=>o.delete(`/projects/${e}/team/${r}`),getMembers:e=>o.get(`/projects/${e}/members`),createMember:(e,r)=>o.post(`/projects/${e}/members/create`,r),updateMember:(e,r,s)=>o.put(`/projects/${e}/members/${r}`,s),removeMember:(e,r)=>o.delete(`/projects/${e}/members/${r}`),getZones:e=>o.get(`/projects/${e}/zones`),updateZones:(e,r)=>o.put(`/projects/${e}/zones`,{zones:r}),addZone:(e,r)=>o.post(`/projects/${e}/zones/add`,{zone:r}),removeZone:(e,r)=>o.post(`/projects/${e}/zones/remove`,{zone:r})},Lr={getAll:e=>o.get("/kpi-reports",{params:e}),getById:e=>o.get(`/kpi-reports/${e}`),create:e=>o.post("/kpi-reports",e),update:(e,r)=>o.put(`/kpi-reports/${e}`,r),delete:e=>o.delete(`/kpi-reports/${e}`),approve:e=>o.post(`/kpi-reports/${e}/approve`),reject:(e,r)=>o.post(`/kpi-reports/${e}/reject`,{reason:r}),getAutoPopulatedData:e=>o.get("/kpi-reports/auto-populate",{params:e})},ee={getAll:e=>o.get("/notifications",{params:e}),getUnreadCount:e=>o.get("/notifications/unread-count",{params:e}),markAsRead:e=>o.post(`/notifications/${e}/mark-read`),markAllAsRead:e=>o.post("/notifications/mark-all-read",e),delete:e=>o.delete(`/notifications/${e}`),deleteRead:()=>o.post("/notifications/delete-read"),send:e=>o.post("/notifications/send",e)},Fr={exportExcel:e=>o.get("/export/excel",{params:e,responseType:"blob"}),exportPdf:e=>o.get("/export/pdf",{params:e,responseType:"blob"}),exportProjectReport:(e,r)=>o.get(`/export/project/${e}`,{params:r,responseType:"blob"}),exportInspections:e=>o.get("/inspections/export",{params:e,responseType:"blob"}),exportDeviations:e=>o.get("/sor-reports/export",{params:e,responseType:"blob"}),exportAwareness:e=>o.get("/awareness-sessions/export",{params:e,responseType:"blob"}),exportTrainings:e=>o.get("/trainings/export",{params:e,responseType:"blob"}),exportKpiHistory:e=>o.get("/kpi-reports/export",{params:e,responseType:"blob"}),exportHseWeekly:e=>o.get("/export/hse-weekly",{params:e,responseType:"blob"})},Hr={getAll:e=>o.get("/sor-reports",{params:e}),getById:e=>o.get(`/sor-reports/${e}`),getPinned:()=>o.get("/sor-reports/pinned"),create:e=>{const r=new FormData;return Object.keys(e).forEach(s=>{const a=e[s];a!=null&&a!==""&&(typeof a=="boolean"?r.append(s,a?"1":"0"):r.append(s,a))}),o.post("/sor-reports",r,{headers:{"Content-Type":"multipart/form-data"}})},update:(e,r)=>{const s=new FormData;return s.append("_method","PUT"),Object.keys(r).forEach(a=>{const i=r[a];i!=null&&i!==""&&s.append(a,i)}),o.post(`/sor-reports/${e}`,s,{headers:{"Content-Type":"multipart/form-data"}})},submitCorrectiveAction:(e,r)=>{const s=new FormData;return Object.keys(r).forEach(a=>{r[a]!==null&&r[a]!==void 0&&r[a]!==""&&s.append(a,r[a])}),o.post(`/sor-reports/${e}/corrective-action`,s,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>o.delete(`/sor-reports/${e}`),getCategories:()=>o.get("/sor-reports/categories"),getStatistics:e=>o.get("/sor-reports/statistics",{params:e})},Or={getAll:e=>o.get("/work-permits",{params:e}),getById:e=>o.get(`/work-permits/${e}`),create:e=>o.post("/work-permits",e),update:(e,r)=>o.put(`/work-permits/${e}`,r),delete:e=>o.delete(`/work-permits/${e}`),restore:e=>o.post(`/work-permits/${e}/restore`),getWeekInfo:e=>o.get("/work-permits/week-info",{params:e}),getWeekPermits:e=>o.get("/work-permits/week-permits",{params:e}),copyFromPrevious:e=>o.post("/work-permits/copy-from-previous",e),reinitializeNumbers:e=>o.post("/work-permits/reinitialize-numbers",e),launchWeek:e=>o.post("/work-permits/launch-week",e),export:e=>o.get("/work-permits/export",{params:e,responseType:"blob"}),getArchived:e=>o.get("/work-permits",{params:{...e,only_archived:!0}})},zr={getAll:e=>o.get("/daily-kpi",{params:e}),getById:e=>o.get(`/daily-kpi/${e}`),create:e=>o.post("/daily-kpi",e),update:(e,r)=>o.put(`/daily-kpi/${e}`,r),delete:e=>o.delete(`/daily-kpi/${e}`),getWeekDates:e=>o.get("/daily-kpi/week-dates",{params:e}),getWeekAggregates:e=>o.get("/daily-kpi/week-aggregates",{params:e}),getAutoFillValues:e=>o.get("/daily-kpi/auto-fill",{params:e}),downloadTemplate:e=>o.get("/daily-kpi/download-template",{params:e,responseType:"blob"}),parseTemplate:e=>o.post("/daily-kpi/parse-template",e,{headers:{"Content-Type":"multipart/form-data"}}),bulkSave:e=>o.post("/daily-kpi/bulk-save",e)},qr={getAll:e=>o.get("/inspections",{params:e}),getById:e=>o.get(`/inspections/${e}`),create:e=>o.post("/inspections",e),update:(e,r)=>o.put(`/inspections/${e}`,r),delete:e=>o.delete(`/inspections/${e}`),getStatistics:e=>o.get("/inspections/statistics",{params:e}),getWeekCount:e=>o.get("/inspections/week-count",{params:e})},Wr={getAll:e=>o.get("/workers",{params:e}),getById:e=>o.get(`/workers/${e}`),create:e=>o.post("/workers",e),update:(e,r)=>o.put(`/workers/${e}`,r),delete:e=>o.delete(`/workers/${e}`),getStatistics:()=>o.get("/workers/statistics"),getEntreprises:()=>o.get("/workers/entreprises"),getFonctions:()=>o.get("/workers/fonctions"),downloadTemplate:()=>o.get("/workers/template",{responseType:"blob"}),export:e=>o.get("/workers/export",{params:e,responseType:"blob"}),import:e=>o.post("/workers/import",e,{headers:{"Content-Type":"multipart/form-data"}}),bulkDeactivate:e=>o.post("/workers/bulk-deactivate",{worker_ids:e}),bulkActivate:e=>o.post("/workers/bulk-activate",{worker_ids:e})},Ur={getAll:e=>o.get("/subcontractor-openings",{params:e}),getById:e=>o.get(`/subcontractor-openings/${e}`),create:e=>o.post("/subcontractor-openings",e),update:(e,r)=>o.put(`/subcontractor-openings/${e}`,r),delete:e=>o.delete(`/subcontractor-openings/${e}`),uploadDocument:(e,r)=>{const s=new FormData;return Object.keys(r).forEach(a=>{const i=r[a];i!=null&&i!==""&&s.append(a,i)}),o.post(`/subcontractor-openings/${e}/documents`,s,{headers:{"Content-Type":"multipart/form-data"}})}},ne=De(Ee((e,r)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:async(s,a)=>{e({isLoading:!0});try{const i=await o.post("/auth/login",{email:s,password:a}),{user:n,token:c}=i.data.data;return e({user:n,token:c,isAuthenticated:!0,isLoading:!1}),o.defaults.headers.common.Authorization=`Bearer ${c}`,{success:!0,user:n}}catch(i){throw e({isLoading:!1}),i}},logout:async()=>{try{await o.post("/auth/logout")}catch(s){console.error("Logout error:",s)}finally{e({user:null,token:null,isAuthenticated:!1}),delete o.defaults.headers.common.Authorization}},fetchUser:async()=>{const{token:s}=r();if(s)try{o.defaults.headers.common.Authorization=`Bearer ${s}`;const a=await o.get("/auth/me");e({user:a.data.data,isAuthenticated:!0})}catch{e({user:null,token:null,isAuthenticated:!1}),delete o.defaults.headers.common.Authorization}},updateProfile:async s=>{const a=await o.put("/auth/profile",s);return e({user:a.data.data}),a.data},changePassword:async(s,a,i)=>(await o.post("/auth/change-password",{current_password:s,password:a,password_confirmation:i})).data,isAdmin:()=>{const{user:s}=r();return s?.role==="admin"},initializeAuth:()=>{const{token:s,fetchUser:a}=r();s&&(o.defaults.headers.common.Authorization=`Bearer ${s}`,a())}}),{name:"hse-auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated}),onRehydrateStorage:()=>e=>{e?.token&&(o.defaults.headers.common.Authorization=`Bearer ${e.token}`,e.fetchUser())}})),L={ALL:"all",ASSIGNED:"assigned"},cr="hse_manager",Ce=De(Ee((e,r)=>({simulatedRole:null,projectScope:L.ALL,setSimulatedRole:s=>e({simulatedRole:s||null}),clearSimulatedRole:()=>e({simulatedRole:null}),setProjectScope:s=>{const a=s===L.ASSIGNED?L.ASSIGNED:L.ALL;e({projectScope:a})},resetDevTools:()=>e({simulatedRole:cr,projectScope:L.ALL})}),{name:"hse-dev-tools",partialize:e=>({simulatedRole:e.simulatedRole,projectScope:e.projectScope})})),Ne=De(Ee((e,r)=>({isDark:!1,toggleTheme:()=>{const s=!r().isDark;e({isDark:s}),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setTheme:s=>{e({isDark:s}),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},initTheme:()=>{r().isDark?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),{name:"theme-storage"})),lr=(e,r="fr")=>{const s=e?.toString()??"";let a="500",i=ke,n="text-red-500",c="from-red-500 to-red-600",l=r==="fr"?"Erreur Inattendue":"Unexpected Error",m=r==="fr"?"Une erreur s'est produite. Veuillez réessayer ou contacter l'administrateur.":"An error occurred. Please try again or contact the administrator.";return s.includes("403")||s.includes("Forbidden")?(a="403",i=kt,n="text-orange-500",c="from-orange-500 to-orange-600",l=r==="fr"?"Accès Refusé":"Access Denied",m=r==="fr"?"Vous n'avez pas les permissions nécessaires pour accéder à cette ressource.":"You don't have permission to access this resource."):(s.includes("Network")||s.includes("fetch"))&&(a="NET",i=St,n="text-blue-500",c="from-blue-500 to-blue-600",l=r==="fr"?"Connexion Perdue":"Connection Lost",m=r==="fr"?"Impossible de contacter le serveur. Vérifiez votre connexion internet.":"Unable to reach the server. Check your internet connection."),{errorCode:a,icon:i,iconColor:n,bgColor:c,title:l,description:m}};class dr extends g.Component{constructor(s){super(s);ue(this,"handleReload",()=>{window.location.reload()});ue(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){this.setState({errorInfo:a});const i=this.props?.context,n=this.props?.name||"ErrorBoundary";try{console.groupCollapsed(`[${n}] React render error`),i&&console.log("context",i),console.error(s),console.log("componentStack",a?.componentStack),console.groupEnd()}catch(c){console.error("Error caught by boundary:",s,a,i,c)}}render(){if(this.state.hasError){const s=localStorage.getItem("hse-kpi-language")||"fr",{errorCode:a,icon:i,bgColor:n,title:c,description:l}=lr(this.state.error,s);return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-950 flex items-center justify-center p-6",children:t.jsxs("div",{className:"text-center max-w-md mx-auto",children:[t.jsxs("div",{className:"relative inline-flex items-center justify-center mb-8",children:[t.jsx("div",{className:"absolute w-32 h-32 rounded-full bg-red-100 dark:bg-red-900/20 animate-ping opacity-20"}),t.jsx("div",{className:`relative w-24 h-24 rounded-2xl bg-gradient-to-br ${n} shadow-2xl flex items-center justify-center`,children:t.jsx(i,{className:"w-12 h-12 text-white",strokeWidth:1.5})})]}),t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-red-100 dark:bg-red-900/40 rounded-full mb-4",children:[t.jsx(M,{className:"w-3.5 h-3.5 text-red-600 dark:text-red-400"}),t.jsxs("span",{className:"text-xs font-semibold text-red-700 dark:text-red-300 uppercase tracking-wide",children:[s==="fr"?"Erreur":"Error"," ",a]})]}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:c}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:l}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[t.jsxs("button",{onClick:this.handleReload,className:"group w-full sm:w-auto px-6 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl font-medium text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600 hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(jt,{className:"w-4 h-4 group-hover:rotate-180 transition-transform duration-500"}),s==="fr"?"Réessayer":"Try Again"]}),t.jsxs("button",{onClick:this.handleGoHome,className:`w-full sm:w-auto px-6 py-3 bg-gradient-to-r ${n} rounded-xl font-medium text-white shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2`,children:[t.jsx(wt,{className:"w-4 h-4"}),s==="fr"?"Accueil":"Home"]})]}),this.state.error&&t.jsxs("details",{className:"mt-10 text-left",children:[t.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 text-center",children:s==="fr"?"Détails techniques":"Technical details"}),t.jsxs("pre",{className:"mt-3 p-4 bg-gray-900 text-red-400 text-xs rounded-lg overflow-x-auto max-h-32 overflow-y-auto",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]})]})})}return this.props.children}}const Ae="/assets/App_Logo.png",Le="/assets/SGTM_Logo.jpg",Fe="/assets/login-background.jpg";function Xe({variant:e="default"}){const{language:r,setLanguage:s,currentLanguage:a,languages:i}=ie(),[n,c]=g.useState(!1),l=g.useRef(null);g.useEffect(()=>{function d(h){l.current&&!l.current.contains(h.target)&&c(!1)}return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const m=d=>{s(d),c(!1)};return e==="compact"?t.jsxs("div",{className:"relative",ref:l,children:[t.jsxs("button",{onClick:()=>c(!n),className:"flex items-center gap-1 px-2 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:a.name,children:[t.jsx("span",{className:"text-lg",children:a.flag}),t.jsx(se,{className:`w-3 h-3 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute right-0 mt-1 w-36 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50",children:i.map(d=>t.jsxs("button",{onClick:()=>m(d.code),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${r===d.code?"text-hse-primary bg-hse-primary/5":"text-gray-700 dark:text-gray-300"}`,children:[t.jsx("span",{className:"text-lg",children:d.flag}),t.jsx("span",{className:"flex-1 text-left",children:d.name}),r===d.code&&t.jsx(Ie,{className:"w-4 h-4"})]},d.code))})]}):t.jsxs("div",{className:"relative",ref:l,children:[t.jsxs("button",{onClick:()=>c(!n),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[t.jsx(Pt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-lg",children:a.flag}),t.jsx("span",{children:a.name}),t.jsx(se,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute right-0 mt-2 w-44 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50",children:i.map(d=>t.jsxs("button",{onClick:()=>m(d.code),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${r===d.code?"text-hse-primary bg-hse-primary/5":"text-gray-700 dark:text-gray-300"}`,children:[t.jsx("span",{className:"text-xl",children:d.flag}),t.jsx("span",{className:"flex-1 text-left font-medium",children:d.name}),r===d.code&&t.jsx(Ie,{className:"w-4 h-4"})]},d.code))})]})}function ur(){const{t:e,language:r}=ie(),{isDark:s,toggleTheme:a}=Ne(),[i,n]=g.useState({hse_compliance:0,training_hours:0,fatal_accidents:0,year:new Date().getFullYear()});g.useEffect(()=>{if(!(typeof window<"u"&&window.matchMedia&&window.matchMedia("(min-width: 1024px)").matches))return;const d=document.createElement("link");d.rel="preload",d.as="image",d.href=Fe,d.setAttribute("fetchpriority","high"),document.head.appendChild(d);const h=document.createElement("link");h.rel="preload",h.as="image",h.href=Ae,h.setAttribute("fetchpriority","high"),document.head.appendChild(h);const y=document.createElement("link");return y.rel="preload",y.as="image",y.href=Le,y.setAttribute("fetchpriority","high"),document.head.appendChild(y),()=>{d.parentNode&&d.parentNode.removeChild(d),h.parentNode&&h.parentNode.removeChild(h),y.parentNode&&y.parentNode.removeChild(y)}},[]),g.useEffect(()=>{(async()=>{try{const d=await o.get("/public-stats");d.data?.data&&n(d.data.data)}catch{console.log("Could not fetch public stats")}})()},[]);const c=r==="fr"?{line1:"Surveiller. Suivre.",line2:"Améliorer la Sécurité."}:{line1:"Monitor. Track.",line2:"Improve Safety."},l=r==="fr"?"Système complet de suivi des KPI HSE pour gérer les indicateurs de santé, sécurité et environnement sur tous vos projets.":"Comprehensive HSE KPI tracking system for managing health, safety, and environmental metrics across all your projects.";return t.jsxs("div",{className:"min-h-screen flex",children:[t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-sgtm-gray relative overflow-hidden",style:{backgroundImage:`url(${Fe})`,backgroundSize:"cover",backgroundPosition:"center"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sgtm-gray-dark/70 to-sgtm-gray/90"}),t.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 text-white",children:[t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("img",{src:Ae,alt:"App Logo",className:"w-24 h-24 object-contain"}),t.jsx("span",{className:"text-4xl text-white/40 font-light",children:"/"}),t.jsx("img",{src:Le,alt:"SGTM Logo",className:"w-24 h-24 object-contain"})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-4xl font-bold leading-tight",children:[c.line1,t.jsx("br",{}),c.line2]}),t.jsx("p",{className:"mt-4 text-lg text-white/80 max-w-md",children:l})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("div",{className:"text-3xl font-bold",children:i.hse_compliance!=null?`${i.hse_compliance}%`:""}),t.jsx("div",{className:"text-sm text-white/70",children:r==="fr"?"Conformité HSE":"HSE Compliance"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("div",{className:"text-3xl font-bold",children:i.training_hours!=null?i.training_hours.toLocaleString():""}),t.jsx("div",{className:"text-sm text-white/70",children:r==="fr"?"Heures Formation":"Training Hours"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("div",{className:"text-3xl font-bold",children:i.fatal_accidents}),t.jsx("div",{className:"text-sm text-white/70",children:r==="fr"?`Accidents Mortels ${i.year}`:`Fatal Accidents ${i.year}`})]})]})]}),t.jsxs("div",{className:"text-sm text-white/60",children:["© ",new Date().getFullYear()," ",e("common.companyName"),"."]})]}),t.jsx("div",{className:"absolute -bottom-20 -right-20 w-96 h-96 bg-white/5 rounded-full"}),t.jsx("div",{className:"absolute top-20 -right-10 w-64 h-64 bg-white/5 rounded-full"})]}),t.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 bg-gray-50 dark:bg-gray-900 relative",children:[t.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[t.jsx(Xe,{}),t.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-all border border-gray-200 dark:border-gray-700",title:s?"Light Mode":"Dark Mode",children:s?t.jsx(Ve,{className:"w-5 h-5 text-yellow-500"}):t.jsx(Ge,{className:"w-5 h-5 text-gray-600"})})]}),t.jsx("main",{id:"main-content",className:"w-full max-w-md pt-12","aria-label":e("auth.login"),children:t.jsx(Be,{})})]})]})}function H(){const[e,r]=g.useState(!1),[s,a]=g.useState(!1),[i,n]=g.useState(!1),[c,l]=g.useState(!1),[m,d]=g.useState(0),[h,y]=g.useState([]),{user:j,logout:E,isAdmin:N}=ne(),{simulatedRole:x,setSimulatedRole:b,clearSimulatedRole:k,projectScope:v,setProjectScope:P}=Ce(),{isDark:J,toggleTheme:ce}=Ne(),{t:u}=ie(),R=vt(),Qe=$e(),et=N(),Re=j?.role==="dev",T=Re&&x?x:j?.role,tt=["admin","pole_director","works_director","hse_director","hr_director"],z=et||j?.role==="dev"&&!x||tt.includes(T);g.useEffect(()=>{if(!j)return;const f=async()=>{try{const C=await ee.getUnreadCount();d(C.data?.data?.count??0);const mt=await ee.getAll({per_page:5});y(mt.data?.data??[])}catch(C){C.response?.status!==403&&C.response?.status!==401&&console.error("Error fetching notifications:",C)}};f();const S=setInterval(f,3e4);return()=>clearInterval(S)},[j]);const rt=async()=>{await E(),R("/login")},ot=f=>{const S={kpi_submitted:{icon:F,color:"text-blue-500",bg:"bg-blue-100 dark:bg-blue-900/30"},kpi_approved:{icon:ve,color:"text-green-500",bg:"bg-green-100 dark:bg-green-900/30"},kpi_rejected:{icon:ke,color:"text-red-500",bg:"bg-red-100 dark:bg-red-900/30"},project_assigned:{icon:Mt,color:"text-purple-500",bg:"bg-purple-100 dark:bg-purple-900/30"},sor_submitted:{icon:M,color:"text-orange-500",bg:"bg-orange-100 dark:bg-orange-900/30"},sor_corrected:{icon:ve,color:"text-green-500",bg:"bg-green-100 dark:bg-green-900/30"},training_submitted:{icon:_t,color:"text-indigo-500",bg:"bg-indigo-100 dark:bg-indigo-900/30"},awareness_submitted:{icon:B,color:"text-teal-500",bg:"bg-teal-100 dark:bg-teal-900/30"},worker_training_expiring:{icon:A,color:"text-amber-500",bg:"bg-amber-100 dark:bg-amber-900/30"},worker_training_expired:{icon:A,color:"text-red-500",bg:"bg-red-100 dark:bg-red-900/30"},reminder:{icon:It,color:"text-yellow-500",bg:"bg-yellow-100 dark:bg-yellow-900/30"},system:{icon:ge,color:"text-gray-500",bg:"bg-gray-100 dark:bg-gray-700"},info:{icon:fe,color:"text-blue-500",bg:"bg-blue-100 dark:bg-blue-900/30"},warning:{icon:M,color:"text-yellow-500",bg:"bg-yellow-100 dark:bg-yellow-900/30"},success:{icon:ve,color:"text-green-500",bg:"bg-green-100 dark:bg-green-900/30"},error:{icon:ke,color:"text-red-500",bg:"bg-red-100 dark:bg-red-900/30"}};return S[f]||S.info},st=async f=>{if(!f.read_at)try{await ee.markAsRead(f.id),d(S=>Math.max(0,S-1)),y(S=>S.map(C=>C.id===f.id?{...C,read_at:new Date().toISOString()}:C))}catch(S){console.error("Error marking notification as read:",S)}if(n(!1),f.action_url){R(f.action_url);return}switch(f.type){case"kpi_approved":case"kpi_rejected":case"kpi_submitted":R(z?"/admin/kpi":"/kpi/history");break;case"project_assigned":R(z?"/admin/projects":"/my-projects");break;case"sor_submitted":case"sor_corrected":R(it?"/sor":"/user/sor");break;case"training_submitted":R("/training");break;case"awareness_submitted":R("/awareness");break}},at=async()=>{try{await ee.markAllAsRead(),d(0),y(f=>f.map(S=>({...S,read_at:new Date().toISOString()})))}catch(f){console.error("Error marking all as read:",f)}},it=T==="user",nt=[{to:"/admin",icon:Z,label:u("nav.dashboard")},{to:"/admin/users",icon:B,label:u("users.title")},{to:"/admin/projects",icon:$,label:u("projects.title")},{to:"/admin/kpi",icon:F,label:u("kpi.title")},{to:"/admin/kpi-history",icon:me,label:u("kpi.history")},{to:"/admin/training",icon:X,label:u("training.navLabel")},{to:"/admin/awareness",icon:ge,label:u("awareness.navLabel")},{to:"/admin/sor",icon:M,label:u("sor.title")},{to:"/admin/work-permits",icon:Q,label:u("workPermits.title")},{to:"/admin/inspections",icon:F,label:u("inspections.title")},{to:"/admin/workers",icon:A,label:u("workers.title")},{to:"/admin/qualified-personnel",icon:A,label:u("qualifiedPersonnel.navLabel")},{to:"/admin/subcontractors",icon:he,label:u("subcontractors.title")}],le=[{to:"/admin",icon:Z,label:u("nav.dashboard")},{to:"/admin/kpi",icon:F,label:u("kpi.title")},{to:"/admin/kpi-history",icon:me,label:u("kpi.history")},{to:"/admin/training",icon:X,label:u("training.navLabel")},{to:"/admin/awareness",icon:ge,label:u("awareness.navLabel")},{to:"/admin/sor",icon:M,label:u("sor.title")},{to:"/admin/work-permits",icon:Q,label:u("workPermits.title")},{to:"/admin/inspections",icon:F,label:u("inspections.title")},{to:"/admin/workers",icon:A,label:u("workers.title")},{to:"/admin/qualified-personnel",icon:A,label:u("qualifiedPersonnel.navLabel")},{to:"/admin/subcontractors",icon:he,label:u("subcontractors.title")}],ct=[{to:"/admin",icon:Z,label:u("nav.dashboard")},{to:"/admin/workers",icon:A,label:u("workers.title")},{to:"/admin/qualified-personnel",icon:A,label:u("qualifiedPersonnel.navLabel")}],de=[{to:"/dashboard",icon:Z,label:u("nav.dashboard")},{to:"/my-projects",icon:$,label:u("nav.myProjects")},{to:"/kpi/submit",icon:Tt,label:u("kpi.submission")},{to:"/kpi/history",icon:me,label:u("kpi.history")},{to:"/training",icon:X,label:u("training.navLabel")},{to:"/awareness",icon:B,label:u("awareness.navLabel")},{to:"/user/sor",icon:M,label:u("sor.title")},{to:"/work-permits",icon:F,label:u("workPermits.title")},{to:"/inspections",icon:Q,label:u("inspections.title")},{to:"/workers",icon:A,label:u("workers.title")},{to:"/qualified-personnel",icon:A,label:u("qualifiedPersonnel.navLabel")},{to:"/subcontractors",icon:he,label:u("subcontractors.title")}],lt=[{to:"/sor",icon:M,label:u("sor.title")},{to:"/sor/projects",icon:$,label:u("nav.myProjects")},{to:"/sor/awareness",icon:B,label:u("awareness.navLabel")}],dt=[{to:"/supervisor",icon:M,label:u("sor.title")},{to:"/supervisor/projects",icon:$,label:u("nav.myProjects")},{to:"/supervisor/awareness",icon:B,label:u("awareness.navLabel")},{to:"/supervisor/training",icon:X,label:u("training.navLabel")},{to:"/supervisor/work-permits",icon:F,label:u("workPermits.title")},{to:"/supervisor/inspections",icon:Q,label:u("inspections.title")},{to:"/supervisor/workers",icon:A,label:u("workers.title")},{to:"/qualified-personnel",icon:A,label:u("qualifiedPersonnel.navLabel")}],ut=[{to:"/hr/workers",icon:A,label:u("workers.title")},{to:"/qualified-personnel",icon:A,label:u("qualifiedPersonnel.navLabel")}],pt=T==="admin"?nt:T==="pole_director"||T==="works_director"||T==="hse_director"?le:T==="hr_director"?ct:T==="user"?lt:T==="supervisor"?dt:T==="hr"?ut:de;return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>r(!1)}),t.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>R(z?"/admin":"/dashboard"),children:[t.jsx("img",{src:Ae,alt:u("common.appName"),className:"h-10 w-10 object-contain rounded-lg"}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-bold text-sgtm-orange",children:"SGTM"}),t.jsx("p",{className:"text-xs text-gray-500",children:u("common.appName")})]})]}),t.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",children:t.jsx(At,{className:"w-5 h-5"})})]}),t.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto scrollbar-thin",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:u(z?"nav.administration":"nav.dashboard")})}),pt.map(f=>t.jsxs(pe,{to:f.to,end:f.to==="/admin"||f.to==="/dashboard"||f.to==="/sor",className:({isActive:S})=>S?"sidebar-link-active":"sidebar-link",onClick:()=>r(!1),children:[t.jsx(f.icon,{className:"w-5 h-5"}),t.jsx("span",{children:f.label})]},f.to))]}),t.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:t.jsx("span",{className:"text-xs text-gray-400",children:u(`roles.${T}`)??T})}),t.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 bg-hse-primary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-semibold",children:j?.name?.charAt(0)?.toUpperCase()||"U"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:j?.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:j?.role})]})]})})]})}),t.jsxs("div",{className:"lg:pl-72",children:[t.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center h-16 px-4 sm:px-6",children:[t.jsx("button",{onClick:()=>r(!0),className:"lg:hidden mr-auto p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:t.jsx(Dt,{className:"w-6 h-6 dark:text-gray-300"})}),t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"flex items-center gap-2",children:[Re&&t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>{l(!c),n(!1),a(!1)},className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Dev Tools",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Dev"}),t.jsx(se,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]}),c&&t.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 animate-fade-in z-50",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Dev Tools"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Simulate role & project scope"})]}),t.jsxs("div",{className:"px-4 py-3 space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Simulated role"}),t.jsxs("select",{value:x??"",onChange:f=>b(f.target.value||null),className:"mt-1 w-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm",children:[t.jsx("option",{value:"",children:"(none)"}),t.jsx("option",{value:"admin",children:"admin"}),t.jsx("option",{value:"hse_manager",children:"hse_manager"}),t.jsx("option",{value:"responsable",children:"responsable"}),t.jsx("option",{value:"supervisor",children:"supervisor"}),t.jsx("option",{value:"user",children:"user"}),t.jsx("option",{value:"hr",children:"hr"}),t.jsx("option",{value:"pole_director",children:"pole_director"}),t.jsx("option",{value:"works_director",children:"works_director"}),t.jsx("option",{value:"hse_director",children:"hse_director"}),t.jsx("option",{value:"hr_director",children:"hr_director"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Project scope"}),t.jsxs("select",{value:v,onChange:f=>P(f.target.value),className:"mt-1 w-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm",children:[t.jsx("option",{value:L.ALL,children:u("common.allProjects")}),t.jsx("option",{value:L.ASSIGNED,children:"Assigned only"})]})]}),t.jsx("div",{className:"flex items-center justify-end gap-2 pt-1",children:t.jsx("button",{onClick:()=>{k(),P(L.ALL),l(!1)},className:"text-xs font-semibold px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Reset"})})]})]})]}),t.jsx(Xe,{variant:"compact"}),t.jsx("button",{onClick:ce,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:u(J?"common.lightMode":"common.darkMode"),children:J?t.jsx(Ve,{className:"w-5 h-5 text-yellow-500"}):t.jsx(Ge,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>{n(!i),a(!1),l(!1)},className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[t.jsx(fe,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),m>0&&t.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:m>9?"9+":m})]}),i&&t.jsxs("div",{className:"absolute right-0 mt-2 w-[calc(100vw-2rem)] max-w-96 sm:w-96 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 animate-fade-in z-50",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u("notifications.title")}),m>0&&t.jsx("button",{onClick:at,className:"text-xs text-hse-primary hover:underline",children:u("notifications.markAllRead")})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:h.length>0?h.map(f=>{const S=ot(f.type),C=S.icon;return t.jsxs("div",{onClick:()=>st(f),className:`px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer border-b border-gray-50 dark:border-gray-700/50 last:border-0 flex gap-3 ${f.read_at?"":"bg-blue-50/30 dark:bg-blue-900/10"}`,children:[t.jsx("div",{className:`w-9 h-9 rounded-full ${S.bg} flex items-center justify-center flex-shrink-0`,children:t.jsx(C,{className:`w-4 h-4 ${S.color}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("p",{className:`text-sm ${f.read_at?"font-medium":"font-semibold"} text-gray-900 dark:text-gray-100 line-clamp-1`,children:f.title}),!f.read_at&&t.jsx("span",{className:"w-2 h-2 bg-hse-primary rounded-full flex-shrink-0 mt-1.5"})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-2",children:f.message}),f.project&&t.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 flex items-center gap-1",children:[t.jsx($,{className:"w-3 h-3"}),f.project.name]}),t.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[new Date(f.created_at).toLocaleDateString()," ",new Date(f.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),f.action_url&&t.jsx(Et,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"})]},f.id)}):t.jsxs("div",{className:"px-4 py-12 text-center",children:[t.jsx(fe,{className:"w-10 h-10 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:u("notifications.noNotifications")})]})}),h.length>0&&t.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700 text-center",children:t.jsx("button",{onClick:()=>{n(!1),R("/notifications")},className:"text-sm text-hse-primary hover:underline",children:u("notifications.viewAll")})})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>{a(!s),n(!1),l(!1)},className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[t.jsx("div",{className:"w-8 h-8 bg-hse-primary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-semibold",children:j?.name?.charAt(0)?.toUpperCase()||"U"})}),t.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 dark:text-gray-300",children:j?.name?.split(" ")[0]}),t.jsx(se,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]}),s&&t.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 animate-fade-in",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:j?.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j?.email})]}),t.jsxs("div",{className:"py-1",children:[t.jsxs(pe,{to:z?"/admin/profile":"/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>a(!1),children:[t.jsx(Ct,{className:"w-4 h-4"}),u("nav.profile")]}),t.jsxs(pe,{to:z?"/admin/profile":"/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>a(!1),children:[t.jsx(Nt,{className:"w-4 h-4"}),u("nav.settings")]})]}),t.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-1",children:t.jsxs("button",{onClick:rt,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[t.jsx(Rt,{className:"w-4 h-4"}),u("auth.signOut")]})})]})]})]})]})}),t.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:t.jsx("div",{className:"animate-fade-in",children:t.jsx(Be,{})},Qe.pathname)})]}),(s||i||c)&&t.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>{a(!1),n(!1),l(!1)}})]})}const pr=g.lazy(()=>w(()=>import("./LoginPage.js"),__vite__mapDeps([0,1,2,3]))),mr=g.lazy(()=>w(()=>import("./ForgotPasswordPage.js"),__vite__mapDeps([4,1,2,3]))),gr=g.lazy(()=>w(()=>import("./AdminDashboard.js"),__vite__mapDeps([5,1,2,6,7,8,3]))),hr=g.lazy(()=>w(()=>import("./UserManagement.js"),__vite__mapDeps([9,1,10,2,11,12,8,3]))),fr=g.lazy(()=>w(()=>import("./ProjectManagement.js"),__vite__mapDeps([13,1,10,2,14,11,12,15,3]))),vr=g.lazy(()=>w(()=>import("./KpiManagement.js"),__vite__mapDeps([16,1,10,2,17,7,8,3]))),br=g.lazy(()=>w(()=>import("./UserDashboard.js"),__vite__mapDeps([18,1,2,7,8,3]))),be=g.lazy(()=>w(()=>import("./MyProjects.js"),__vite__mapDeps([19,1,2,3]))),ye=g.lazy(()=>w(()=>import("./KpiSubmission.js"),__vite__mapDeps([20,1,2,7,12,8,3]))),He=g.lazy(()=>w(()=>import("./KpiHistory.js"),__vite__mapDeps([21,1,22,3,10,2,14,11,12,17,8]))),xe=g.lazy(()=>w(()=>import("./Training.js"),__vite__mapDeps([23,1,22,3,14,2,12,10,7,8]))),te=g.lazy(()=>w(()=>import("./SorSubmission.js"),__vite__mapDeps([24,1,8,10,2,14,15,3]))),re=g.lazy(()=>w(()=>import("./ProjectDetails.js"),__vite__mapDeps([25,1,11,10,2,12,6,3]))),G=g.lazy(()=>w(()=>import("./Profile.js"),__vite__mapDeps([26,1,2,3]))),yr=g.lazy(()=>w(()=>import("./NotFound.js"),__vite__mapDeps([27,1,2,3]))),oe=g.lazy(()=>w(()=>import("./AwarenessSession.js"),__vite__mapDeps([28,1,22,3,14,2,12,7,8]))),je=g.lazy(()=>w(()=>import("./WorkPermits.js"),__vite__mapDeps([29,1,11,10,2,14,12,8,3]))),we=g.lazy(()=>w(()=>import("./Inspections.js"),__vite__mapDeps([30,1,11,10,2,14,12,8,3]))),K=g.lazy(()=>w(()=>import("./Workers.js"),__vite__mapDeps([31,1,14,2,11,10,12,15,8,3]))),xr=g.lazy(()=>w(()=>import("./Notifications.js"),__vite__mapDeps([32,1,2,3]))),Oe=g.lazy(()=>w(()=>import("./QualifiedPersonnel.js"),__vite__mapDeps([33,1,14,2,12,10,8,3]))),ze=g.lazy(()=>w(()=>import("./SubcontractorOpenings.js"),__vite__mapDeps([34,1,12,2,10,14,8,3]))),qe=g.lazy(()=>w(()=>import("./SubcontractorOpeningDetails.js"),__vite__mapDeps([35,1,10,2,14,3]))),O=({children:e,adminOnly:r=!1,allowedRoles:s=[]})=>{const{isAuthenticated:a,user:i}=ne(),{simulatedRole:n}=Ce(),c=["admin","pole_director","works_director","hse_director","hr_director"];if(!a)return t.jsx(D,{to:"/login",replace:!0});const l=i?.role,m=l==="dev"&&n?n:l;return c.includes(m)||l==="dev"&&!n?e:r&&!c.includes(m)?t.jsx(D,{to:"/dashboard",replace:!0}):s.length>0&&!s.includes(m)?m==="user"?t.jsx(D,{to:"/sor",replace:!0}):m==="supervisor"?t.jsx(D,{to:"/supervisor",replace:!0}):m==="hr"?t.jsx(D,{to:"/hr",replace:!0}):c.includes(m)?t.jsx(D,{to:"/admin",replace:!0}):t.jsx(D,{to:"/dashboard",replace:!0}):e},We=({children:e})=>{const{isAuthenticated:r,user:s}=ne(),{simulatedRole:a}=Ce(),i=["admin","pole_director","works_director","hse_director","hr_director"];if(r){const n=s?.role,c=n==="dev"&&a?a:n;return i.includes(c)?t.jsx(D,{to:"/admin",replace:!0}):n==="dev"&&!a?t.jsx(D,{to:"/admin",replace:!0}):c==="user"?t.jsx(D,{to:"/sor",replace:!0}):c==="supervisor"?t.jsx(D,{to:"/supervisor",replace:!0}):c==="hr"?t.jsx(D,{to:"/hr",replace:!0}):t.jsx(D,{to:"/dashboard",replace:!0})}return e};function jr(){const e=Ne(i=>i.initTheme),r=$e(),{user:s,isAuthenticated:a}=ne();return g.useEffect(()=>{e()},[e]),t.jsx(dr,{name:"App",context:{route:{pathname:r.pathname,search:r.search,hash:r.hash},auth:{isAuthenticated:!!a,userId:s?.id??null,role:s?.role??null}},children:t.jsx(g.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:t.jsx(Lt,{className:"w-8 h-8 animate-spin text-hse-primary"})}),children:t.jsxs(bt,{children:[t.jsxs(p,{element:t.jsx(ur,{}),children:[t.jsx(p,{path:"/login",element:t.jsx(We,{children:t.jsx(pr,{})})}),t.jsx(p,{path:"/forgot-password",element:t.jsx(We,{children:t.jsx(mr,{})})})]}),t.jsxs(p,{element:t.jsx(O,{adminOnly:!0,children:t.jsx(H,{})}),children:[t.jsx(p,{path:"/admin",element:t.jsx(gr,{})}),t.jsx(p,{path:"/admin/users",element:t.jsx(hr,{})}),t.jsx(p,{path:"/admin/projects",element:t.jsx(fr,{})}),t.jsx(p,{path:"/admin/projects/:id",element:t.jsx(re,{})}),t.jsx(p,{path:"/admin/kpi",element:t.jsx(vr,{})}),t.jsx(p,{path:"/admin/kpi-history",element:t.jsx(He,{})}),t.jsx(p,{path:"/admin/training",element:t.jsx(xe,{})}),t.jsx(p,{path:"/admin/awareness",element:t.jsx(oe,{})}),t.jsx(p,{path:"/admin/sor",element:t.jsx(te,{})}),t.jsx(p,{path:"/admin/work-permits",element:t.jsx(je,{})}),t.jsx(p,{path:"/admin/inspections",element:t.jsx(we,{})}),t.jsx(p,{path:"/admin/workers",element:t.jsx(K,{})}),t.jsx(p,{path:"/admin/qualified-personnel",element:t.jsx(Oe,{})}),t.jsx(p,{path:"/admin/subcontractors",element:t.jsx(ze,{})}),t.jsx(p,{path:"/admin/subcontractors/openings/:id",element:t.jsx(qe,{})}),t.jsx(p,{path:"/admin/profile",element:t.jsx(G,{})})]}),t.jsxs(p,{element:t.jsx(O,{allowedRoles:["user"],children:t.jsx(H,{})}),children:[t.jsx(p,{path:"/sor",element:t.jsx(te,{})}),t.jsx(p,{path:"/sor/projects",element:t.jsx(be,{showKpiButton:!1})}),t.jsx(p,{path:"/sor/projects/:id",element:t.jsx(re,{})}),t.jsx(p,{path:"/sor/awareness",element:t.jsx(oe,{})}),t.jsx(p,{path:"/sor/profile",element:t.jsx(G,{})})]}),t.jsxs(p,{element:t.jsx(O,{allowedRoles:["supervisor"],children:t.jsx(H,{})}),children:[t.jsx(p,{path:"/supervisor",element:t.jsx(te,{})}),t.jsx(p,{path:"/supervisor/projects",element:t.jsx(be,{showKpiButton:!1})}),t.jsx(p,{path:"/supervisor/projects/:id",element:t.jsx(re,{})}),t.jsx(p,{path:"/supervisor/awareness",element:t.jsx(oe,{})}),t.jsx(p,{path:"/supervisor/training",element:t.jsx(xe,{})}),t.jsx(p,{path:"/supervisor/work-permits",element:t.jsx(je,{})}),t.jsx(p,{path:"/supervisor/inspections",element:t.jsx(we,{})}),t.jsx(p,{path:"/supervisor/workers",element:t.jsx(K,{})}),t.jsx(p,{path:"/supervisor/profile",element:t.jsx(G,{})})]}),t.jsxs(p,{element:t.jsx(O,{allowedRoles:["hse_manager","responsable"],children:t.jsx(H,{})}),children:[t.jsx(p,{path:"/dashboard",element:t.jsx(br,{})}),t.jsx(p,{path:"/my-projects",element:t.jsx(be,{})}),t.jsx(p,{path:"/projects/:id",element:t.jsx(re,{})}),t.jsx(p,{path:"/kpi/submit",element:t.jsx(ye,{})}),t.jsx(p,{path:"/kpi/submit/:projectId",element:t.jsx(ye,{})}),t.jsx(p,{path:"/kpi/edit/:reportId",element:t.jsx(ye,{})}),t.jsx(p,{path:"/kpi/history",element:t.jsx(He,{})}),t.jsx(p,{path:"/training",element:t.jsx(xe,{})}),t.jsx(p,{path:"/awareness",element:t.jsx(oe,{})}),t.jsx(p,{path:"/user/sor",element:t.jsx(te,{})}),t.jsx(p,{path:"/work-permits",element:t.jsx(je,{})}),t.jsx(p,{path:"/inspections",element:t.jsx(we,{})}),t.jsx(p,{path:"/workers",element:t.jsx(K,{})}),t.jsx(p,{path:"/profile",element:t.jsx(G,{})}),t.jsx(p,{path:"/subcontractors",element:t.jsx(ze,{})}),t.jsx(p,{path:"/subcontractors/openings/:id",element:t.jsx(qe,{})})]}),t.jsxs(p,{element:t.jsx(O,{allowedRoles:["hr"],children:t.jsx(H,{})}),children:[t.jsx(p,{path:"/hr",element:t.jsx(K,{})}),t.jsx(p,{path:"/hr/workers",element:t.jsx(K,{})}),t.jsx(p,{path:"/hr/profile",element:t.jsx(G,{})})]}),t.jsx(p,{element:t.jsx(O,{allowedRoles:["hse_manager","responsable","supervisor","hr"],children:t.jsx(H,{})}),children:t.jsx(p,{path:"/qualified-personnel",element:t.jsx(Oe,{})})}),t.jsx(p,{element:t.jsx(O,{children:t.jsx(H,{})}),children:t.jsx(p,{path:"/notifications",element:t.jsx(xr,{})})}),t.jsx(p,{path:"/",element:t.jsx(D,{to:"/login",replace:!0})}),t.jsx(p,{path:"*",element:t.jsx(yr,{})})]})})})}const wr=e=>{try{return e instanceof Error?e.stack||e.message||String(e):typeof e=="string"?e:JSON.stringify(e)}catch{try{return String(e)}catch{return"[unserializable]"}}},Ue=(e,r)=>{try{const s=typeof window<"u"?window.location?.href:"",a=new Date().toISOString(),i=r?.message||r?.reason?.message||r?.error?.message||r?.error?.toString?.()||r?.reason?.toString?.()||"Unknown error";console.groupCollapsed(`[APP:${e}] ${i}`),console.log("time",a),console.log("url",s),console.log("userAgent",typeof navigator<"u"?navigator.userAgent:""),r?.error&&console.error(r.error),r?.reason&&console.error(r.reason),(r?.source||r?.lineno||r?.colno)&&(console.log("source",r.source),console.log("line",r.lineno),console.log("col",r.colno)),r?.promise&&console.log("promise",r.promise),r&&!r.error&&!r.reason&&console.log("payload",r),console.groupEnd()}catch(s){console.error("[APP] Failed to log global error",s,wr(r))}};typeof window<"u"&&(window.addEventListener("error",e=>{Ue("window.error",{message:e?.message,error:e?.error,source:e?.filename,lineno:e?.lineno,colno:e?.colno})}),window.addEventListener("unhandledrejection",e=>{Ue("unhandledrejection",{reason:e?.reason,promise:e?.promise})}));Se.createRoot(document.getElementById("root")).render(t.jsx(yt.StrictMode,{children:t.jsx(xt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:t.jsxs(Kt,{children:[t.jsx(jr,{}),t.jsx(Ft,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#1e293b",color:"#fff"},success:{duration:2500,iconTheme:{primary:"#16a34a",secondary:"#fff"}},error:{iconTheme:{primary:"#dc2626",secondary:"#fff"}}},children:e=>t.jsx("div",{onClick:()=>_.dismiss(e.id),style:{cursor:"pointer",pointerEvents:"auto"},children:t.jsx(Ht,{toast:e})})})]})})}));export{L as D,ie as a,Ae as b,Rr as c,Dr as d,Ir as e,Fr as f,_r as g,Ce as h,zr as i,t as j,Lr as k,Hr as l,o as m,Ne as n,Nr as o,Mr as p,Or as q,qr as r,Le as s,Er as t,ne as u,ee as v,Wr as w,Cr as x,Ur as y};
